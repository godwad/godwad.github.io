<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>MYSQL数据库 | 不学无墅</title><meta name="keywords" content="数据库"><meta name="author" content="小s今天吃什么"><meta name="copyright" content="小s今天吃什么"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="懂的都懂">
<meta property="og:type" content="article">
<meta property="og:title" content="MYSQL数据库">
<meta property="og:url" content="https://godwad.github.io/posts/2d57d79b.html">
<meta property="og:site_name" content="不学无墅">
<meta property="og:description" content="懂的都懂">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://w.wallhaven.cc/full/3l/wallhaven-3l5d36.png">
<meta property="article:published_time" content="2023-06-13T07:15:15.000Z">
<meta property="article:modified_time" content="2023-06-28T08:25:52.533Z">
<meta property="article:author" content="小s今天吃什么">
<meta property="article:tag" content="数据库">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://w.wallhaven.cc/full/3l/wallhaven-3l5d36.png"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://godwad.github.io/posts/2d57d79b"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.js',
      css: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MYSQL数据库',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-28 16:25:52'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><span id="fps"></span><style id="defineBg"></style><style id="menu_shadow"></style><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="不学无墅" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img9999.wchunge.cn/i/2022/11/30/xgm0a3.jpg" onerror="onerror=null;src='/assets/r1.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">56</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">28</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">33</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> 八音盒</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> 影院</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> 八宝箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> 画廊</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> 动画</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> 网址导航</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> 社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> 网站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> 网站统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> 文章统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> 旧时光</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> 个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> 唠叨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-love-sign">                   </use></svg><span class="menu_word" style="font-size:17px"> 小屋</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-paperplane">                   </use></svg><span class="menu_word" style="font-size:17px"> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">不学无墅</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> 八音盒</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> 影院</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> 八宝箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> 画廊</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> 动画</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> 网址导航</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> 社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> 网站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> 网站统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> 文章统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> 旧时光</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> 个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> 唠叨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-love-sign">                   </use></svg><span class="menu_word" style="font-size:17px"> 小屋</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-paperplane">                   </use></svg><span class="menu_word" style="font-size:17px"> 关于</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="检索站内任何你想要的信息"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg><span> 搜索</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="美化设置-自定义你的风格" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="浅色和深色模式转换" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">MYSQL数据库</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">发表于 </span><time class="post-meta-date-created" datetime="2023-06-13T07:15:15.000Z" title="发表于 2023-06-13 15:15:15">2023-06-13</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-28T08:25:52.533Z" title="更新于 2023-06-28 16:25:52">2023-06-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-biaoqian"></use></svg><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><i class="fas fa-angle-right post-meta-separator"></i><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-biaoqian"></use></svg><a class="post-meta-categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/MySQL/">MySQL</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">字数总计:</span><span class="word-count">2.5w</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">阅读时长:</span><span>91分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MYSQL数据库"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>Mysql的安装</h1>
<hr>
<h2 id="一、-下载MySQL">一、 下载MySQL</h2>
<p><strong>Mysql官网下载地址<a target="_blank" rel="noopener" href="https://downloads.mysql.com/archives/installer/" title="https://downloads.mysql.com/archives/installer/">https://downloads.mysql.com/archives/installer/</a></strong></p>
<pre><code>    **本篇文章选择的是5.7.31版本**
</code></pre>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20233fc9aa629d7545c5a3fe91ac86bcd0f3.png" alt=""></p>
<h2 id="二、-安装MySQL">二、 安装MySQL</h2>
<h3 id="1-选择设置类型">1. 选择设置类型</h3>
<p><strong>双击运行mysql-installer-community-5.7.31.0.msi，这里选择是自定义安装，所以直接选择“Custom”，点击“Next”</strong></p>
<p>“Developer Default”是开发者默认</p>
<p>“Server only”仅作为服务器安装</p>
<p>“Client only”仅作为客户端安装</p>
<p>“Full”是完整安装</p>
<p>“Custom”是自定义安装</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20230a98390c67f8408a9715f73f7d32a991.png" alt=""></p>
<h3 id="2-选择安装的产品和功能">2. 选择安装的产品和功能</h3>
<p><strong>依次点开“MySQL Servers”、“MySQL Servers”、“MySQL Servers 5.7”、“MySQL Servers 5.7.31 -64”，然后点击绿色箭头将选中的版本移植到右边选中框中</strong></p>
<p>注：这里选择的是64位系统</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ba2993c687414027a98a55c1132ff4f2.png" alt=""></p>
<h3 id="3-先选中“MySQL-Server-5-7-31”-，之后点击下方的蓝色“Advanced-Options”">3. 先选中“MySQL Server 5.7.31” ，之后点击下方的蓝色“Advanced Options”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023c486b2943ca4479fbc527f0f137f1666.png" alt=""></p>
<h3 id="4-自定义安装路径和数据存放路径，更改完成之后点击“OK”">4. 自定义安装路径和数据存放路径，更改完成之后点击“OK”</h3>
<p>注：虽说安装在C盘也没毛病，但是个人建议不要安装到C盘，我安装到了D盘</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d1ea0740388f497ab548fce57c48ec16.png" alt=""></p>
<h3 id="5-直接点击“OK”">5. 直接点击“OK”</h3>
<p>注：这里因为选择了我自己创建的路径，故程序提示路径已存在，是否要继续</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023bf448cd534654b6c82df43be0708249a.png" alt=""></p>
<h3 id="6-更改完成之后点击“Next”">6. 更改完成之后点击“Next”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b994775cf52a41f2a941e9ca6328a56e.png" alt=""></p>
<h3 id="7-确认一下安装路径和数据存放路径对不对，没有问题的话就直接点击Next">7. 确认一下安装路径和数据存放路径对不对，没有问题的话就直接点击Next</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231b30ec9aed5c465496dd3efc714668a2.png" alt=""></p>
<h3 id="8-直接点击“Yes”">8. 直接点击“Yes”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023481bdcf198244dda99d560287fe938f8.png" alt=""></p>
<h3 id="9-先选中“MySQL-Server5-7-31”，若电脑中没有这个环境，会提示安装“Microsoft-Visual-C-2013”环境，点击“Execute”">9. 先选中“MySQL Server5.7.31”，若电脑中没有这个环境，会提示安装“Microsoft Visual C++ 2013”环境，点击“Execute”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234373c07e44624d8d816f955914f35239.png" alt=""></p>
<h3 id="10-勾选中之后点击“Install”">10. 勾选中之后点击“Install”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b82346d46c724b1bae39be9ffb195ed2.png" alt=""></p>
<h3 id="11-安装完成，点击“Close”">11. 安装完成，点击“Close”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202307261a77c31741b7add746dbbc691632.png" alt=""></p>
<h3 id="12-看到这个对勾就说明这个环境安装上了，直接点击“Next”">12. 看到这个对勾就说明这个环境安装上了，直接点击“Next”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023db098249233e43e9b7affb37dce1eb47.png" alt=""></p>
<h3 id="13-直接点击“Execute”">13. 直接点击“Execute”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023345de00c88eb464aa196292a892a80c4.png" alt=""></p>
<h3 id="14-出现这个图标就说明安装成功了，直接点击“Next”">14. 出现这个图标就说明安装成功了，直接点击“Next”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20239dba4cabf5814615a21f2e38d7c36ada.png" alt=""></p>
<h3 id="15-直接点击“Next”">15. 直接点击“Next”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231dbd662869e849ffb0ec0803557a2da1.png" alt=""></p>
<h3 id="16-直接点击“Next”">16. 直接点击“Next”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20230076673768c2474d9e1cc014bc6b7d60.png" alt=""></p>
<h3 id="17-选择安装类型">17. 选择安装类型</h3>
<p><strong>个人学习研究的话选择“Development Computer”则可以，我这里选择是“Development Computer”</strong></p>
<p>Development Computer 适合个人开发学习使用的</p>
<p>Server Computer 是像主要用于像FTP，email，web服务器等等</p>
<p>Dedicated Computer 只用作MySQL服务器</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232434679697244b1f84ccddf452f65fee.png" alt=""></p>
<h3 id="18-MySQL的默认端口是3306，不需要作修改，直接点击“Next”">18. MySQL的默认端口是3306，不需要作修改，直接点击“Next”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234c9b770538984feda2c3e6c09fc6ddbc.png" alt=""></p>
<h3 id="19-这里需要设置MySQL的密码，不需要太复杂，设置完了直接点击“Next”">19. 这里需要设置MySQL的密码，不需要太复杂，设置完了直接点击“Next”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f36b126424584f328f5f6bd52b78d504.png" alt=""></p>
<h3 id="20-直接点击“Next”">20. 直接点击“Next”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023a48464a8515f4cbc8106560066635b1f.png" alt=""></p>
<h3 id="21-直接点击“Execute”，开始安装，点击安装之后需要等待片刻">21. 直接点击“Execute”，开始安装，点击安装之后需要等待片刻</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20237f5b000ab20e421abef0bede7245fed2.png" alt=""></p>
<h3 id="22-点击“Finish”">22. 点击“Finish”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20238ad99923e8fc4d4ba61c96e9824d15b2.png" alt=""></p>
<h3 id="23-点击“Next”">23. 点击“Next”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202389a3e5a51572466a8fda9afcbf4efa92.png" alt=""></p>
<h3 id="24-点击“Finish”，此时MySQL安装完成">24. 点击“Finish”，此时MySQL安装完成</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202357a6d358e1d84faf999322c4a53739e1.png" alt=""></p>
<h3 id="25-在开始界面搜索mysql，点击第一个MySQL-5-7-Command-Line-Client">25. 在开始界面搜索mysql，点击第一个MySQL 5.7 Command Line Client</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20238ad26c3012de48ef974ba31177d12d51.png" alt=""></p>
<h3 id="26-输入刚才设置的MySQL的密码，按Enter键（回车键）"><strong>26. 输入刚才设置的MySQL的密码，按Enter键（回车键）</strong></h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f28ca97c8e2c465dabb6f5c3b5c06532.png" alt=""></p>
<h3 id="27-出现下面界面就说明已经安装成功了">27. 出现下面界面就说明已经安装成功了</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231cb8a44b69da41c9bc9226bd8445d12d.png" alt=""></p>
<p><strong>至此，MySQL数据库安装成功</strong></p>
<h2 id="三、-配置环境变量">三、 配置环境变量</h2>
<h3 id="1-找到MySQL的安装路径">1. 找到MySQL的安装路径</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d0bd128eb4334f7f9a2b70d26314dda8.png" alt=""></p>
<h3 id="2-右击此电脑选择“属性”">2. 右击此电脑选择“属性”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023add9b2c521d04622866ef744356b2ec9.png" alt=""></p>
<h3 id="3-先点击“高级系统设置”，再点击“环境变量”">3. 先点击“高级系统设置”，再点击“环境变量”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023dc320775a35b46b4abb7a3c1b42e42f7.png" alt=""></p>
<h3 id="4-在“系统变量”中选择“Path”，点击“编辑”">4. 在“系统变量”中选择“Path”，点击“编辑”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232c571c26cf6d4690bec895f792ba1acc.png" alt=""></p>
<h3 id="5-点击“新建”，将MySQL的安装路径添加上去，之后点击“确定”">5. 点击“新建”，将MySQL的安装路径添加上去，之后点击“确定”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234948beb033d94eb4bdb8dabb77ec009f.png" alt=""></p>
<h3 id="6-直接点击“确定”">6. 直接点击“确定”</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202305bf07a01fbb4f29a75965928936888a.png" alt=""></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20236152258835b04176b745397055ea0401.png" alt=""></p>
<h3 id="7-验证环境变量是否配置好，按下“window-R”键-弹出运行框，输入“cmd”进入window命令行">7. 验证环境变量是否配置好，按下“window+R”键    弹出运行框，输入“cmd”进入window命令行</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202301939befba1c4e7e81ceb82d2c99e382.png" alt=""></p>
<h3 id="8-输入“mysql-u-root-p”按下回车">8. 输入“mysql -u root -p”按下回车</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20238866b92c6060482e8d5d7a2f3ed27bb1.png" alt=""></p>
<h3 id="9-输入密码，按下“Enter键（回车键）”，出现下面界面则是已经配置成功">9. 输入密码，按下“Enter键（回车键）”，出现下面界面则是已经配置成功</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231b13bd3583b642faac70ca62e21387ad.png" alt=""></p>
<p>制作不易，有帮助的话还希望能给个 <strong>点赞</strong> 支持下，谢谢大家。</p>
<h2 id="四：问题解决">四：问题解决</h2>
<p>使用cmd运行命令，却显示“不是内部或外部命令，也不是可运行的程序或批处理文件。例如：<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d2fc1f69be354b15bf99df55b71688a2.png" alt="在这里插入图片描述"><br>
‘XXX’is not recognized as an internal or external command,operable program or batch file.报的英文版错误翻译也是前面的意思。一般就是path值的问题，进入环境变量调试就好。<br>
1.快捷键<strong>win+R</strong>键弹出运行窗口，然后输入<strong>sysdm.cpl</strong>敲回车可直接进入系统属性窗口。</p>
<p>2.在系统环境变量下path中查找是否有下面三项，如果没有则分别新建三个变量值：<br>
<strong>“%SystemRoot%\system32”</strong><br>
<strong>“%SystemRoot%;%SystemRoot%\System32\Wbem”</strong><br>
<strong>“C:\Windows\SysWOW64”</strong><br>
win7系统没有在path里面新建值的功能，只能是把这三个变量值每个后面加；然后一起填入进去即可。（长长的一条)<br>
5.最后win+R，输入cmd回车，重新进入cmd界面就好了。</p>
<h2 id="五-总结">五.总结</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230614001048243.png" alt="image-20230614001048243"></p>
<h1>datagrip-mysql可视化软件</h1>
<h2 id="一-前言">一.前言</h2>
<p>日常开发中少不了各种可视化数据库管理工具。如果需要同时能连接多种数据库，大家肯定都会想到 <code>DBeaver</code>、<code>Navicat Premium</code>。本文介绍另一个十分好用且强大的工具：<code>DataGrip</code>。</p>
<p><code>DataGrip</code> 是 <code>JetBrains</code> 公司推出的管理数据库的产品。对于 <code>JetBrains</code> 公司，开发者肯定都不陌生，<code>IDEA</code> 和 <code>ReSharper</code> 都是这个公司的产品，用户体验非常不错。</p>
<hr>
<h2 id="二-JetBrains-DataGrip介绍：">二.JetBrains DataGrip介绍：</h2>
<p><strong>如果用一句话来介绍DataGrip这款工具：</strong></p>
<p><code>多种数据库，一个工具！</code><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232021032318084472.png" alt="在这里插入图片描述"></p>
<p><code>DataGrip</code> 提供 <code>Windows</code> 版本和 <code>macOS</code> 版本以及Linux版本，支持几乎所有主流的关系数据库产品，如：<code>PostgreSQL、MySQL、Oracle Database、SQL Server、Azure、Amazon Redshift、SQLite、DB2、H2、Sybase、Exasol、Apache Derby、MariaDB、HyperSQL、ClickHouse、Cassandra、Vertica、Greenplum、Apache Hive、Snowflake</code> 等，并且提供了简单易用的界面，开发者上手几乎不会遇到任何困难。</p>
<hr>
<h2 id="三-安装教程">三.安装教程</h2>
<p><strong>下载安装</strong><br>
<strong><a target="_blank" rel="noopener" href="https://www.jetbrains.com/zh-cn/datagrip/promo/">DataGrip官网下载</a></strong></p>
<p><strong>点击下载</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323182217885.png" alt="在这里插入图片描述"><br>
<strong>选择运行平台，点击下载</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323182427809.png" alt="在这里插入图片描述"><br>
<strong>等待下载即可</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323182626425.png" alt="在这里插入图片描述"><br>
<strong>下载完成后，双击安装</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323213616745.png" alt="在这里插入图片描述"></p>
<p><strong>点击<code>Next</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323213648706.png" alt="在这里插入图片描述"><br>
<strong>选择安装路径，点击<code>Next</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323213732138.png" alt="在这里插入图片描述"></p>
<p><strong>安装选项，选完之后点击<code>Next</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323213838380.png" alt="在这里插入图片描述"></p>
<p><strong>安装选项说明</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323214630420.png" alt="在这里插入图片描述"></p>
<p><strong>点击install</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323214751845.png" alt="在这里插入图片描述"></p>
<p><strong>等待安装</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232021032321481435.png" alt="在这里插入图片描述"></p>
<p><strong>点击<code>Finish</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323214950901.png" alt="在这里插入图片描述"></p>
<p><strong>安装完成之后，双击图标</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323185540809.png" alt="在这里插入图片描述"><br>
<strong>导入用户配置，没有配置的话直接点击 OK</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323194926185.png" alt="在这里插入图片描述"><br>
<strong>进入去之后不用管，点击<code>Evaluate for free</code>，然后点击<code>Evaluate</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323195336540.png" alt="在这里插入图片描述"></p>
<hr>
<p><strong>选择主题方案，然后点击<code>Next: Database Options</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323195431665.png" alt="在这里插入图片描述"><br>
<strong>设置默认的SQL语言和脚本目录</strong></p>
<p>选择你常用的SQL设为默认</p>
<p>这里我选择<code>MySQL</code></p>
<p>然后点击<code>Start using DataGrip</code><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323195624496.png" alt="在这里插入图片描述"></p>
<h2 id="四-默认是英文的，下面开始更换中文语言教程">四.默认是英文的，下面开始更换中文语言教程</h2>
<p><strong>进去之后在菜单栏选择<code>File</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323195933390.png" alt="在这里插入图片描述"><br>
<strong>点击<code>Settings</code>，或者按快捷键<code>Ctrl+Alt+S</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323200119927.png" alt="在这里插入图片描述"><br>
<strong>点击<code>Plugins</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323200237973.png" alt="在这里插入图片描述"><br>
<strong>搜索<code>Chinese</code>，选择第二个<code>中文语言包</code>，点击<code>install</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323200430466.png" alt="在这里插入图片描述"><br>
<strong>等待下载进度条</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323212659355.png" alt="在这里插入图片描述"><br>
<strong>点击<code>Restart IDE</code>，等待自动重启即可</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232021032321274239.png" alt="在这里插入图片描述"><br>
<strong>更换中文语言成功</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20210323212922437.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzMxNzYyNzQx,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<p>更换中文语言教程结束</p>
<hr>
<h2 id="五-DataGrip的基本使用步骤【连接数据库】">五.DataGrip的基本使用步骤【连接数据库】</h2>
<p><strong>点击<code>新建/New</code> &gt; 点击<code>数据源/Data Source</code> &gt; 选择你需要的<code>SQL</code></strong></p>
<p>这里我以MySQL示例！其它SQL都大同小异<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323223845727.png" alt="在这里插入图片描述"><br>
<strong>输入名称用户名和密码</strong></p>
<p><strong><code>第一次连接mysql会报错，提示你缺少驱动，会自动提示你安装</code></strong></p>
<p><strong>点击<code>Download Driver Files</code>就会自动帮你安装连接驱动</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323231903977.png" alt="在这里插入图片描述"><br>
<strong>连接之前检查一下<code>MySQL</code>服务是否开启</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323224650784.png" alt="在这里插入图片描述"></p>
<p><strong>点击<code>测试连接/Test Connection</code>后报错：服务器返回无效的时区,需要设置&quot;serverTimezone&quot;属性<code>Server returns invalid timezone. Go to 'Advanced' tab and set 'serverTimezon</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323225425144.png" alt="在这里插入图片描述"><br>
<strong>英文版</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323225538218.png" alt="在这里插入图片描述"></p>
<h3 id="解决方法：">解决方法：</h3>
<p><strong>检查MySQL设置时区：</strong></p>
<p>Win+R打开运行cmd<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323225634148.png" alt="在这里插入图片描述"><br>
<strong>打开cmd窗口</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323225751642.png" alt="在这里插入图片描述"><br>
<strong>连接数据库，输入<code>mysql -hlocalhost -uroot -p</code>回车输入密码</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323225839772.png" alt="在这里插入图片描述"><br>
<strong>输入<code>show variables like'%time_zone';</code>回车，显示时区配置</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323230039164.png" alt="在这里插入图片描述"><br>
如果显示 <code>SYSTEM</code> 就是没有设置时区</p>
<p><strong>输入<code>set global time_zone = '+8:00';</code>回车</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323230246201.png" alt="在这里插入图片描述"><br>
显示<code>Query OK, 0 rows affected (0.00 sec)</code>就是设置成功了。</p>
<p><strong>然后关闭cmd重新打开cmd重新连接数据库，连接成功后输入<code>show variables like'%time_zone';</code> 回车</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323230545345.png" alt="在这里插入图片描述"><br>
显示<code>+08:00</code>就可以了</p>
<p>这个时候重新连接数据库即可</p>
<p><strong>点击 测试连接/<code>Test Connection</code>进行测试连接</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323230655992.png" alt="在这里插入图片描述"></p>
<h3 id="时区问题解决">时区问题解决</h3>
<hr>
<p><strong>点击确定</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323230805766.png" alt="在这里插入图片描述"></p>
<p>连接数据库教程结束</p>
<hr>
<h2 id="六-使用DataGrip操作MySQL">六.使用DataGrip操作MySQL</h2>
<p>如下图：</p>
<p><strong>左边的数字代表一共有个数据库（<code>例如我：默认4个数据库，我自己添加了一个，所以是5个</code>）</strong></p>
<p><strong>右边的数字代表一共选中了几个数据库（<code>例如我：我一个都没选中所以是0</code>）</strong></p>
<p><strong>点击之后会展开所有数据库，可以<code>选中</code>或<code>取消选中</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323231420635.png" alt="在这里插入图片描述"><br>
<strong>选中的数据库会在架构里面显示出来</strong></p>
<p><strong><code>比如这里我选中一个数据库</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323232126811.png" alt="在这里插入图片描述"><br>
<code>选中的数据库会在架构里面显示出来</code><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323232232408.png" alt="在这里插入图片描述"><br>
<strong><code>点击还可以展开显示里面的表</code></strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323232336557.png" alt="在这里插入图片描述"><br>
<strong>选中要查询的数据库，右键：新建&gt;查询控制台</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323232433614.png" alt="在这里插入图片描述"><br>
<strong><code>DataGrip</code>会给你智能代码补全</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323232659499.png" alt="在这里插入图片描述"><br>
<strong>查询表的所有字段</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323232813243.png" alt="在这里插入图片描述"><br>
<strong>右键：执行（或者上面有快捷键）</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323232922957.png" alt="在这里插入图片描述"><br>
<strong>也可以点击这个绿色三角板</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323233106900.png" alt="在这里插入图片描述"><br>
<strong>查询结果</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210323233135505.png" alt="在这里插入图片描述"></p>
<p>JetBrains DataGrip安装和使用的详细教程到此结束</p>
<h1></h1>
<h1>SQL基本介绍</h1>
<p><strong>SQL</strong> （Structured Query Language）：<strong>结构化查询语言</strong>，是一种针对关系型数据库特殊标准化的编程语言</p>
<ul>
<li>SQL是一种编程语言</li>
<li>能够实现用户数据库查询和程序设计</li>
<li>SQL根据操作不同，分为几类
<ul>
<li><strong>DQL：</strong> Data Query Language，<strong>数据查询语言</strong>，用于查询和检索数据</li>
<li><strong>DML：</strong> Data Manipulation Language，<strong>数据操作语言</strong>，用于数据的写操作（增删改）<br>
TPL：Transaction Process Language，事务处理语言，辅助DML进行事务操作（因此也归属于DML）</li>
<li><strong>DDL：</strong> Data Definition Language，<strong>数据定义语言</strong>，用于创建数据结构</li>
<li><strong>DCL：</strong> Data Control Language，<strong>数据控制语言</strong>，用于用户权限管理</li>
</ul>
</li>
</ul>
<p><strong>注意：</strong></p>
<p>1、SQL虽然是编程语言，但是目前数据库通常只用来进行数据管理（逻辑部分给其他编程语言）</p>
<p>2、SQL虽然是针对关系型数据库的通用语言，但是不同的产品操作指令不完全通用</p>
<p>3、数据库连接资源有限，用完即关闭</p>
<h3 id="1、SQL基本语法">1、SQL基本语法</h3>
<blockquote>
<p>目标：了解SQL的基本语法规则</p>
</blockquote>
<p><strong>SQL语法规则</strong>：</p>
<ul>
<li>基础SQL指令通常是以行为单位</li>
<li>SQL指令需要语句结束符，默认是英文分号：；、\g、\G
<ul>
<li>\G：主要用于查询数据，立体展示结果</li>
</ul>
</li>
<li>SQL指令类似自然语言</li>
<li>编写的SQL中如果用到了关键字或者保留字，需要使用反引号``来包裹，让系统忽略</li>
</ul>
<p>1、结构创建</p>
<ul>
<li><code>create 结构类型 结构名 结构描述;</code></li>
</ul>
<p>2、显示结构</p>
<ul>
<li>显示结构:<code>show 结构类型（复数）;</code></li>
<li>显示结构创建详情:<code>show create 结构类型 结构名;</code></li>
</ul>
<p>3、数据操作（数据表）</p>
<ul>
<li>新增数据: <code>insert into 表名 values;</code></li>
<li>查看数据: <code>select from 表名;</code></li>
<li>更新数据: <code>update 表名 set;</code></li>
<li>删除数据: <code>delete from 表名;</code></li>
</ul>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、SQL是一种类似于自然语言的编程语言</p>
<ul>
<li>基本SQL指令以行为单位</li>
<li>SQL指令需要语句结束符</li>
</ul>
<p>2、根据数据库的对象层级，可以将基础SQL操作分为三类</p>
<ul>
<li><strong>库操作</strong>：数据库相关操作</li>
<li><strong>表操作</strong>：数据表（字段）相关操作</li>
<li><strong>数据操作</strong>：数据相关操作</li>
</ul>
<h3 id="2-数据库中的数据类型">2.数据库中的数据类型</h3>
<p>使用MySQL数据库存储数据时，不同的数据类型决定了 MySQL存储数据方式的不同。为此，MySQL数据库提供了多种数据类型，其中包括整数类型、<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%B5%AE%E7%82%B9%E6%95%B0&amp;spm=1001.2101.3001.7020">浮点数</a>类型、定点 数类型、日期和时间类型、字符串类型、二进制…等等数据类型。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20238e1d1f5de8e54992b71fa789f5e0d06f.png" alt="img"></p>
<h4 id="1-整数类型">1.整数类型</h4>
<p>根据数值取值范围的不同MySQL 中的整数类型可分为5种，分别是TINYINT、SMALUNT、MEDIUMINT、INT和 BIGINT。下图列举了 MySQL不同整数类型所对应的字节大小和取值范围而最常用的为INT类型的，</p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">字节数</th>
<th style="text-align:left">无符号数的取值范围</th>
<th style="text-align:left">有符号数的取值范围</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">TINYINT</td>
<td style="text-align:left">1</td>
<td style="text-align:left">0~255</td>
<td style="text-align:left">-128~127</td>
</tr>
<tr>
<td style="text-align:left">SMALLINT</td>
<td style="text-align:left">2</td>
<td style="text-align:left">0~65535</td>
<td style="text-align:left">-32768~32768</td>
</tr>
<tr>
<td style="text-align:left">MEDIUMINT</td>
<td style="text-align:left">3</td>
<td style="text-align:left">0~16777215</td>
<td style="text-align:left">-8388608~8388608</td>
</tr>
<tr>
<td style="text-align:left">INT</td>
<td style="text-align:left">4</td>
<td style="text-align:left">0~4294967295</td>
<td style="text-align:left">-2147483648~ 2147483648</td>
</tr>
<tr>
<td style="text-align:left">BIGINT</td>
<td style="text-align:left">8</td>
<td style="text-align:left">0~18446744073709551615</td>
<td style="text-align:left">-9223372036854775808~9223372036854775808</td>
</tr>
</tbody>
</table>
<h4 id="2-浮点数类型和定点数类型">2.浮点数类型和定点数类型</h4>
<p>在MySQL数据库中使用浮点数和定点数来存储小数。浮点数的类型有两种：单精度浮点数类型（FLOAT)和双精度浮点数类型（DOUBLE)。而定点数类型只有一种即DECIMAL类型。下图列举了 MySQL中浮点数和定点数类型所对应的字节大小及其取值范围：</p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">字节数</th>
<th style="text-align:left">有符号的取值范围</th>
<th style="text-align:left">无符号的取值范围</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">FLOAT</td>
<td style="text-align:left">4</td>
<td style="text-align:left">-3.402823466E+38~-1.175494351E-38</td>
<td style="text-align:left">0和1.175494351E-38~3.402823466E+38</td>
</tr>
<tr>
<td style="text-align:left">DOUBLE</td>
<td style="text-align:left">8</td>
<td style="text-align:left">-1.7976931348623157E+308~2.2250738585072014E-308</td>
<td style="text-align:left">0和2.2250738585072014E-308~1.7976931348623157E+308</td>
</tr>
<tr>
<td style="text-align:left">DECIMAL（M,D）</td>
<td style="text-align:left">M+2</td>
<td style="text-align:left">-1.7976931348623157E+308~2.2250738585072014E-308</td>
<td style="text-align:left">0和2.2250738585072014E-308~1.7976931348623157E+308</td>
</tr>
</tbody>
</table>
<p>从上图中可以看出：DECIMAL类型的取值范围与DOUBLE类型相同。但是，请注意：DECIMAL类型的有效取值范围是由M和D决定的。其中，M表示的是数据的长 度，D表示的是小数点后的长度。比如，将数据类型为DECIMAL(6,2)的数据6.5243 插人数据库后显示的结果为6.52</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202382faeb7ea7824bcba1cebffd1da4ab2b.png" alt="img"></p>
<h4 id="3-字符串类型">3.字符串类型</h4>
<p>在MySQL中常用<strong>CHAR</strong> 和 <strong>VARCHAR</strong> 表示字符串。两者不同的是：VARCHAR存储可变长度的字符串。<br>
当数据为CHAR(M)类型时，不管插入值的长度是实际是多少它所占用的存储空间都是M个字节；而VARCHAR(M)所对应的数据所占用的字节数为实际长度加1</p>
<table>
<thead>
<tr>
<th style="text-align:left">插入值</th>
<th style="text-align:left">CHAR(3)</th>
<th style="text-align:left">存储需求</th>
<th style="text-align:left">VARCHAR(3)</th>
<th style="text-align:left">存储需求</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">‘’</td>
<td style="text-align:left">‘’</td>
<td style="text-align:left">3个字节</td>
<td style="text-align:left">‘’</td>
<td style="text-align:left">1个字节</td>
</tr>
<tr>
<td style="text-align:left">‘a’</td>
<td style="text-align:left">‘a’</td>
<td style="text-align:left">3个字节</td>
<td style="text-align:left">‘a’</td>
<td style="text-align:left">2个字节</td>
</tr>
<tr>
<td style="text-align:left">‘ab’</td>
<td style="text-align:left">‘ab’</td>
<td style="text-align:left">3个字节</td>
<td style="text-align:left">‘ab’</td>
<td style="text-align:left">3个字节</td>
</tr>
<tr>
<td style="text-align:left">‘abc’</td>
<td style="text-align:left">‘ab’</td>
<td style="text-align:left">3个字节</td>
<td style="text-align:left">‘abc’</td>
<td style="text-align:left">4个字节</td>
</tr>
<tr>
<td style="text-align:left">‘abcd’</td>
<td style="text-align:left">‘ab’</td>
<td style="text-align:left">3个字节</td>
<td style="text-align:left">‘abc’</td>
<td style="text-align:left">4字节</td>
</tr>
</tbody>
</table>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023eb9def317dfc4c94b9cb09eba2a1c887.png" alt="img"></p>
<h4 id="4-字符串类型">4.字符串类型</h4>
<p>文本类型用于表示大文本数据，例如，文章内容、评论、详情等，它的类型分为如下4种：</p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">储存范围</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">TINYTEXT</td>
<td style="text-align:left">0~255字节</td>
</tr>
<tr>
<td style="text-align:left">TEXT</td>
<td style="text-align:left">0~65535字节</td>
</tr>
<tr>
<td style="text-align:left">MEDIUMTEXT</td>
<td style="text-align:left">0~16777215字节</td>
</tr>
<tr>
<td style="text-align:left">LONGTEXT</td>
<td style="text-align:left">0~4294967295字节</td>
</tr>
</tbody>
</table>
<h4 id="5-日期与时间类型">5.日期与时间类型</h4>
<p>MySQL提供的表示日期和时间的数据类型分别是 ：YEAR、DATE、TIME、DATETIME 和 TIMESTAMP。下图列举了日期和时间数据类型所对应的字节数、取值范围、日期格式以及零值：</p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">字节数</th>
<th style="text-align:left">取值范围</th>
<th style="text-align:left">日期格式</th>
<th style="text-align:left">零值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">YEAR</td>
<td style="text-align:left">1</td>
<td style="text-align:left">1901~2155</td>
<td style="text-align:left">YYYY</td>
<td style="text-align:left">0000</td>
</tr>
<tr>
<td style="text-align:left">DATE</td>
<td style="text-align:left">4</td>
<td style="text-align:left">1000-01-01~9999-12-31</td>
<td style="text-align:left">YYYY-MM-DD</td>
<td style="text-align:left">0000-00-00</td>
</tr>
<tr>
<td style="text-align:left">TIME</td>
<td style="text-align:left">3</td>
<td style="text-align:left">-838：59：59~ 838：59：59</td>
<td style="text-align:left">HH:MM:SS</td>
<td style="text-align:left">00:00:00</td>
</tr>
<tr>
<td style="text-align:left">DATETIME</td>
<td style="text-align:left">8</td>
<td style="text-align:left">1000-01-01 00:00:00~9999-12-31 23:59:59</td>
<td style="text-align:left">YYYY-MM-DD HH:MM:SS</td>
<td style="text-align:left">0000-00-00 00:00:00</td>
</tr>
<tr>
<td style="text-align:left">TIMESTAMP</td>
<td style="text-align:left">4</td>
<td style="text-align:left">1970-01-01 00:00:01~2038-01-19 03:14:07</td>
<td style="text-align:left">YYYY-MM-DD HH:MM:SS</td>
<td style="text-align:left">0000-00-00 00:00:00</td>
</tr>
</tbody>
</table>
<h5 id="5-1-YEAR类型">5.1 YEAR类型</h5>
<p>YEAR类型用于表示年份，在MySQL中，可以使用以下三种格式指定YEAR类型 的值。<br>
1、使用4位字符串或数字表示，范围为’1901’—’2155’或1901—2155。例如，输人 ‘2019’或2019插人到数据库中的值均为2019。<br>
2、使用两位字符串表示，范围为’00’—‘99’。其中，‘00’—’69’范围的值会被转换为 2000—2069范围的YEAR值，‘70’—’99’范围的值会被转换为1970—1999范围的YEAR 值。例如，输人’19’插人到数据库中的值为2019。<br>
3、使用两位数字表示，范围为1—99。其中，1—69范围的值会被转换为2001— 2069范围的YEAR值，70—99范围的值会被转换为1970—1999范围的YEAR值。例 如，输人19插入到数据库中的值为2019。<br>
请注意：当使用YEAR类型时，一定要区分’0’和0。因为字符串格式的’0’表示的YEAR值是2000而数字格式的0表示的YEAR值是0000。</p>
<h5 id="5-2-TIME类型">5.2 TIME类型</h5>
<p>TIME类型用于表示时间值，它的显示形式一般为HH:MM:SS，其中，HH表示小时， MM表示分,SS表示秒。在MySQL中，可以使用以下3种格式指定TIME类型的值。<br>
1、以’D HH:MM:SS’字符串格式表示。其中，D表示日可取0—34之间的值, 插人数据时，小时的值等于(DX24+HH)。例如，输入’2 11:30:50’插人数据库中的日期为59:30:50。<br>
2、以’HHMMSS’字符串格式或者HHMMSS数字格式表示。 例如，输人’115454’或115454,插入数据库中的日期为11:54:54<br>
3、使用CURRENT_TIME或NOW()输人当前系统时间。</p>
<h5 id="5-3-DATETIME类型">5.3 DATETIME类型</h5>
<p>DATETIME类型用于表示日期和时间，它的显示形式为’YYYY-MM-DD HH: MM:SS’，其中，YYYY表示年，MM表示月，DD表示日，HH表示小时，MM表示分，SS 表示秒。在MySQL中，可以使用以下4种格式指定DATETIME类型的值。<br>
以’YYYY-MM-DD HH:MM:SS’或者’YYYYMMDDHHMMSS’字符串格式表示的日期和时间，取值范围为’1000-01-01 00:00:00’—‘9999-12-3 23:59:59’。例如，输人’2019-01-22 09:01:23’或 ‘20140122_0_90123’插人数据库中的 DATETIME 值都为 2019-01-22 09:01:23。<br>
1、以’YY-MM-DD HH:MM:SS’或者’YYMMDDHHMMSS’字符串格式表示的日期和时间，其中YY表示年，取值范围为’00’—‘99’。与DATE类型中的YY相同，‘00’— ’69’范围的值会被转换为2000—2069范围的值，‘70’—’99’范围的值会被转换为1970—1999范围的值。<br>
2、以YYYYMMDDHHMMSS或者YYMMDDHHMMSS数字格式表示的日期 和时间。例如，插入20190122090123或者190122090123,插人数据库中的DATETIME值都 为 2019-01-22 09:01:23。<br>
3、使用NOW来输人当前系统的日期和时间。</p>
<h5 id="5-4-TIMESTAMP类型">5.4 TIMESTAMP类型</h5>
<p>TIMESTAMP类型用于表示日期和时间，它的显示形式与DATETIME相同但取值范围比DATETIME小。在此，介绍几种TIMESTAMP类型与DATATIME类型不同的形式：<br>
1、使用CURRENT_TIMESTAMP输人系统当前日期和时间。<br>
2、输人NULL时系统会输人系统当前日期和时间。<br>
3、无任何输人时系统会输入系统当前日期和时间。</p>
<h4 id="6-二进制类型">6.二进制类型</h4>
<p>在MySQL中常用BLOB存储二进制类型的数据，例如：图片、PDF文档等。BLOB类型分为如下四种：</p>
<table>
<thead>
<tr>
<th style="text-align:left">数据类型</th>
<th style="text-align:left">储存范围</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">TINYBLOB</td>
<td style="text-align:left">0~255字节</td>
</tr>
<tr>
<td style="text-align:left">BLOB</td>
<td style="text-align:left">0~65535字节</td>
</tr>
<tr>
<td style="text-align:left">MEDIUMBLOB</td>
<td style="text-align:left">0~16777215字节</td>
</tr>
<tr>
<td style="text-align:left">LONGBLOB</td>
<td style="text-align:left">0~4294967295字节</td>
</tr>
</tbody>
</table>
<h3 id="3、SQL库操作">3、SQL库操作</h3>
<blockquote>
<p>目标：掌握数据库相关SQL指令</p>
</blockquote>
<ul>
<li>创建数据库</li>
<li>显示数据库</li>
<li>使用数据库</li>
<li>修改数据库</li>
<li>删除数据库</li>
</ul>
<h1>DDL</h1>
<h2 id=""></h2>
<blockquote>
<p>目标：学习基本的SQL操作，实现数据库的基本管理</p>
</blockquote>
<ul>
<li>SQL基本语法</li>
<li>SQL库操作</li>
<li>SQL表操作</li>
<li>SQL数据操作</li>
</ul>
<h2 id="1-数据库操作">1.数据库操作</h2>
<h4 id="1-创建数据库">1) 创建数据库</h4>
<p><strong>创建数据库</strong>：根据项目需求创建一个存储数据的仓库</p>
<ul>
<li>使用create database 数据库名字创建
<ul>
<li>数据库层面可以指定字符集：charset / character set</li>
<li>数据库层面可以指定校对集：collate</li>
</ul>
</li>
<li>创建数据库会在磁盘指定存放处产生一个文件夹</li>
<li>创建语法: <code>create database 数据库名字 [数据库选项];</code></li>
</ul>
<p>1、创建一个指定名字的数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database db_1;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>2、创建一个指定字符集的数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database db_2 charset utf8MB4;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>3、创建一个指定校对集的数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database db_3 charset utf8MB4 <span class="keyword">collate</span> utf8mb4_general_ci;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、数据库的创建是存储数据的基础，数据库的创建通常是一次性的</p>
<p>2、创建数据库的语法包含几个部分</p>
<ul>
<li>
<p>关键字： create database</p>
</li>
<li>
<p>数据库名字： 自定义名字</p>
<ul>
<li>数字、字母和下划线组成</li>
<li>不区分大小写</li>
<li>数字不能开头</li>
<li>使用下划线法创建复杂数据库名字</li>
</ul>
</li>
<li>
<p>数据库选项：</p>
<p>非必须的规定</p>
<ul>
<li>字符集：charset /character set 字符集。非必须，默认继承DBMS</li>
<li>校对集：collate 校对集。非必须，依赖字符集</li>
</ul>
</li>
</ul>
<p>3、创建好的数据库可以在数据存储指定地点（安装时指定）看到</p>
<h4 id="2-显示数据库">2) 显示数据库</h4>
<p><strong>显示数据库</strong>：通过客户端指令来查看已有数据库</p>
<ul>
<li>数据库的查看是根据用户权限限定的</li>
<li>数据库的查看分为两种查看方式：
<ul>
<li>查看全部数据库: <code>show databases;</code></li>
<li>查看数据库创建指令: <code>show create database 数据库名字;</code></li>
</ul>
</li>
</ul>
<p>1、显示所有数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;</span><br></pre></td></tr></table></figure>
<p>2、显示数据库创建指令</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> database db_1;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、查看数据库分为两种方式</p>
<ul>
<li>查看全部</li>
<li>查看具体创建指令</li>
</ul>
<p>2、查看数据库的目的和应用</p>
<ul>
<li>开发人员确认数据库是否存在</li>
<li>数据库管理员维护</li>
</ul>
<h4 id="3-使用数据库">3) 使用数据库</h4>
<p><strong>使用数据库</strong>：指在进行具体SQL指令之前，让系统知道操作针对的是哪个数据库</p>
<ul>
<li>数据库的操作通常是针对数据表或者数据</li>
<li>通过使用数据库可以让后续指令默认针对具体数据库环境</li>
<li>使用数据库语法：<code>use 数据库名字;</code></li>
</ul>
<p>1、使用某个数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use db_1;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、使用数据库的指令是：use 数据库名字;</p>
<p>2、使用数据库的目标</p>
<ul>
<li>让系统知道后续SQL指令都是针对当前选择的数据库</li>
<li>简化后续SQL指令的复杂度（如果不指定数据库，那么所有的SQL操作都必须强制指定数据库名字）</li>
</ul>
<h4 id="4-修改数据库">4) 修改数据库</h4>
<p><strong>修改数据库</strong>：修改数据库的相关库选项</p>
<ul>
<li>数据库名字不可修改（老版本可以）
<ul>
<li>先新增</li>
<li>后迁移</li>
<li>最后删除</li>
</ul>
</li>
<li>数据库修改分为两个部分（库选项）
<ul>
<li>字符集</li>
<li>校对集</li>
</ul>
</li>
<li>数据库修改指令（与创建指令差不多）: <code>alter database 数据库名字 库选项</code></li>
</ul>
<p>1、修改数据库字符集</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> database db_2 charset gbk;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>2、修改数据库校对集（如果字符集修改必须同时改变字符集）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> database db_3 charset gbk <span class="keyword">collate</span> gbk_chinese_ci;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、数据库的修改只能修改<strong>库选项</strong>，不能修改名字</p>
<p>2、字符集的修改指令使用alter，其他跟创建指令一致</p>
<p>3、数据库修改通常有两部分</p>
<ul>
<li>字符集修改</li>
<li>校对集修改（校对集必须对应字符集）</li>
</ul>
<p>4、一般都不会使用数据库修改（一般要改也是删除后新增）</p>
<h4 id="5-删除数据库">5) 删除数据库</h4>
<p><strong>删除数据库</strong>：将当前已有数据库删除</p>
<ul>
<li>删除数据库会删除数据库内所有的表和数据</li>
<li>删除数据库操作要慎重（删前备份）</li>
<li>删除数据库后，对应的存储文件夹就会消失</li>
<li>删除语法：<code>drop database[if exists] 数据库名字;</code></li>
<li></li>
</ul>
<p>1、删除某个数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> database[if <span class="keyword">exists</span>] db_1;</span><br><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> db_1;删除指定表，并重新创建该表</span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、删除数据库使用指令：drop database 数据库名字;</p>
<p>truncate table表名;删除指定表，并重新创建该表</p>
<p>2、数据库的删除<strong>不可逆</strong></p>
<ul>
<li>删除会清空当前数据库内的所有数据表（表里数据一并删除）</li>
<li>删除数据库会将对应的文件夹从磁盘抹掉</li>
<li>数据库删除要谨慎（一般不建议删除）</li>
</ul>
<h4 id="6-总结">6) 总结</h4>
<p>1、数据库的操作通常是<strong>一次性</strong>的，即在进行业务代码开展之前将数据库维护好</p>
<p>2、数据库的删除需要非常慎重，尤其是生产环境，数据库的删除是<strong>不可逆</strong>（会将数据库中的所有数据全部删除）</p>
<h2 id="2-表（字段）操作">2.表（字段）操作</h2>
<blockquote>
<p>目标：掌握数据库和字段的相关操作指令，熟练运用这些指令完成数据表的增删改查</p>
</blockquote>
<ul>
<li>创建数据表</li>
<li>显示数据表</li>
<li>查看表结构</li>
<li>更改数据表</li>
<li>更改字段</li>
<li>删除数据表</li>
</ul>
<h3 id="1-创建数据表">1) 创建数据表</h3>
<blockquote>
<p>目标：了解数据表创建的语法，掌握创建规则</p>
</blockquote>
<p><strong>创建数据表</strong>：根据业务需求，确定数据表的字段信息，然后创建表结构</p>
<ul>
<li>表与字段不分家，相辅相成</li>
<li>表的创建需要指定存储的数据库
<ul>
<li>明确指定数据库：<code>数据库.表名</code></li>
<li>先使用数据库：<code>use 数据库名字</code></li>
</ul>
</li>
<li>字段至少需要指定名字、类型</li>
<li>数据库表不限定字段数量
<ul>
<li>每个字段间使用逗号<code>,</code>分隔</li>
<li>最后一个字段不需要逗号</li>
</ul>
</li>
<li>表可以指定表选项（都有默认值）
<ul>
<li>存储引擎：engine [=] 具体存储引擎</li>
<li>字符集：[default] charset 具体字符集（继承数据库）</li>
<li>校对集：collate（继承数据库）</li>
</ul>
</li>
<li>表创建语法: <code>create table [数据库名.]表名(字段名 字段类型,...字段名 字段类型)表选项;</code></li>
</ul>
<p>1、创建简单数据表（指定数据库创建数据表）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> db_2.t_1(</span><br><span class="line">	name <span class="type">varchar</span>(<span class="number">50</span>)</span><br><span class="line">);</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>2、创建数据表——多字段</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 使用数据库（进入数据库环境）</span><br><span class="line">use db_2;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t_2(</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">50</span>),</span><br><span class="line">    age <span class="type">int</span>,</span><br><span class="line">    gender <span class="type">varchar</span>(<span class="number">10</span>)</span><br><span class="line">);</span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>
<p>3、创建数据表——表选项</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t_3(</span><br><span class="line">	name <span class="type">varchar</span>(<span class="number">50</span>)</span><br><span class="line">)engine Innodb charset utf8MB4;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、创建数据库表是为了存储具体数据</p>
<p>2、数据表的创建与字段是同时存在的</p>
<p>3、数据表的创建需要<strong>指定数据库</strong></p>
<ul>
<li>在表名字前指定数据库：数据库名.表名</li>
<li>进入数据库环境（常用）</li>
</ul>
<p>4、一张数据表用来存一组相关数据</p>
<p>5、扩展：存储引擎是指<strong>数据存储和管理的方式</strong>，MySQL中提供了多种存储引擎，一般使用<strong>默认存储引擎</strong></p>
<ul>
<li>InnoDB
<ul>
<li>默认存储引擎</li>
<li>支持事务处理和外键</li>
<li>数据统一管理</li>
</ul>
</li>
<li>MyIsam
<ul>
<li>不支持事务和外键</li>
<li>数据、表结构、索引独立管理</li>
<li>MySQL5.6以后不再维护</li>
</ul>
</li>
</ul>
<p>6、扩展：如果想创建一个与已有表一样的数据表，MySQL提供了一种便捷的复制模式</p>
<ul>
<li><code>create table 表名 like 数据库名字.表名;</code></li>
</ul>
<h3 id="2-显示数据表">2) 显示数据表</h3>
<blockquote>
<p>目标：了解如何查看数据表结构</p>
</blockquote>
<p>显示数据表：客户端通过指令显示已有的数据表</p>
<ul>
<li>数据表的显示跟用户权限有关</li>
<li>显示数据表有两种方式
<ul>
<li>显示所有数据表：<code>show tables [from 指定数据库];</code></li>
<li>显示部分：<code>show tables like 'pattern';</code></li>
<li>显示具体数据表的创建指令：<code>show create table 表名;</code></li>
</ul>
</li>
</ul>
<p>1、显示所有数据表——当前数据库下</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> tables;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>2、显示所有数据表——指定数据库</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> tables <span class="keyword">from</span> db_3;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>3、显示部分关联数据表——匹配</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> tables <span class="keyword">like</span> <span class="string">&#x27;%like&#x27;</span>;	# _表示匹配一个字符（固定位置），<span class="operator">%</span>表示匹配N个字符</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>4、显示数据表的创建指令</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> t_1; # 看到的结果未必一定是真实创建的指令（系统会加工）</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、显示数据表有两种形式</p>
<ul>
<li>显示所有数据表：show tables [from 指定数据库];</li>
<li>显示部分：show tables like ‘pattern’; <strong>匹配模式：_匹配单个字符，%匹配不限量字符</strong></li>
<li>显示数据表创建指令：show create table 表名;</li>
</ul>
<p>2、显示数据表通常是为了验证数据表是否存在或者验证数据表的创建指令是否正确</p>
<p>3、在显示数据的时候可以使用不同的语句结束符</p>
<ul>
<li>\g：与普通分号无区别</li>
<li>\G：纵向显示列数据</li>
</ul>
<h3 id="3-查看数据表">3) 查看数据表</h3>
<blockquote>
<p>目标：了解查看数据表的概念和掌握数据表查看的语法</p>
</blockquote>
<p><strong>查看数据表</strong>：指查看数据表中的具体结构</p>
<ul>
<li>通常是查看字段信息</li>
<li>详细的显示字段的各项信息</li>
<li>查看语法有三种（效果一样）
<ul>
<li><code>desc 表名；</code></li>
<li><code>describe 表名;</code></li>
<li><code>show columns from 表名;</code></li>
</ul>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">desc</span> t_1;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、数据表的查看是为了查看表中具体字段的信息</p>
<p>2、查看数据表的指令有多个，效果都一样</p>
<ul>
<li>desc 表名;（常用）</li>
<li>describe 表名;</li>
<li>show columns from 表名;</li>
</ul>
<p>3、查看表结构的原因通常是在开发过程中为了更清晰的了解数据的存储形式和要求</p>
<h3 id="4-更改数据表">4) 更改数据表</h3>
<blockquote>
<p>目标：了解数据表的修改内容以及修改语法</p>
</blockquote>
<p><strong>更改数据表</strong>：修改表名字和表选项</p>
<ul>
<li>修改表名：<code>rename table 表名 to 新表名;</code></li>
<li>修改表选项：<code>alter table 表名 表选项;</code></li>
</ul>
<p>1、修改表名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="keyword">table</span> t_1 <span class="keyword">to</span> t1;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>：如果有时候想要跨库修改的话，需要使用<code>数据库名.表名</code></p>
<p>2、修改表选项</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t1 charset utf8;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、更改数据表分为两个部分</p>
<ul>
<li>更改表名：rename table 原表名 to 新表名；</li>
<li>更改表选项：alter table 表名 表选项</li>
</ul>
<p>2、通常我们较少使用更改数据表，数据表应该在创建时就定义好</p>
<h3 id="5-更改字段">5) 更改字段</h3>
<blockquote>
<p>目标：了解字段更改的类型和基本语法的使用</p>
</blockquote>
<p><strong>更改字段</strong>：指针对表创建好后，里面字段的增删改</p>
<ul>
<li>字段操作包含字段名字、类型和属性的操作</li>
<li>字段操作分为四类
<ul>
<li>新增字段：add [column]</li>
<li>更改字段名：change</li>
<li>修改类型：modify</li>
<li>删除字段：drop</li>
</ul>
</li>
<li>字段操作还有位置处理</li>
<li>字段操作通常是在表已经存在数据后进行</li>
</ul>
<h4 id="①-新增字段">① 新增字段</h4>
<p><strong>新增字段</strong>：在表创建好后往里面增加其他字段</p>
<ul>
<li>字段的新增必须同时存在字段类型</li>
<li>新增语法：<code>alter table 表名 add [column] 字段名 字段类型 [字段属性] [字段位置]</code></li>
</ul>
<p>1、给已经存在的t_3表增加一个字段age</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_3 <span class="keyword">add</span> age <span class="type">int</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>2、给已经存在的t_3表增加一个字段nickname</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_3 <span class="keyword">add</span> <span class="keyword">column</span> nickname <span class="type">varchar</span>(<span class="number">10</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、新增字段就是给已有表追加一个字段（较少）</p>
<p>2、字段新增必须指定<strong>字段类型</strong></p>
<p>3、字段新增语法为：alter table 表名 add [column] 字段名 字段类型;</p>
<p>4、字段的追加默认是在<strong>所有字段之后</strong></p>
<h4 id="②-字段位置">② 字段位置</h4>
<p><strong>字段位置</strong>：指字段放到某个指定字段之后</p>
<ul>
<li>字段位置分为两种
<ul>
<li>第一个字段：first</li>
<li>某个字段后：after 已经存在字段名</li>
</ul>
</li>
<li>字段位置适用于<strong>追加字段、修改字段、更改字段名</strong></li>
<li>字段位置语法：<code>alter table 表名 字段操作 字段位置;</code></li>
</ul>
<p>1、为t_3表增加一个id字段，放到最前面</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_3 <span class="keyword">add</span> id <span class="type">int</span> <span class="keyword">first</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>2、在t_3表name字段后增加一个身份证字段card</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_3 <span class="keyword">add</span> card <span class="type">varchar</span>(<span class="number">18</span>) after name;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、字段位置是配合字段操作的（新增、修改）</p>
<p>2、字段位置分两种</p>
<ul>
<li>最前面（第一个字段）：first</li>
<li>字段后面：after 已存在字段名</li>
</ul>
<h4 id="③-更改字段名">③ 更改字段名</h4>
<p><strong>更改字段名</strong>：指对已经存在的字段名进行修改</p>
<ul>
<li>字段名的修改也必须跟上<strong>字段类型</strong></li>
<li>字段名修改语法：<code>alter table 表名 change 原字段名 新字段名 字段类型 [字段属性] [位置]</code></li>
</ul>
<p>1、修改字段名card为sfz</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_3 change card sfz <span class="type">varchar</span>(<span class="number">18</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、字段名更改通常只是修改字段名字，但是也必须跟随类型</p>
<p>2、字段名修改语法：alter table 表名 change 原字段名 新字段名 字段类型</p>
<p>3、字段名修改change其实也可以修改字段类型、属性和位置，但是通常不使用（专人专事）</p>
<h4 id="④-修改字段">④ 修改字段</h4>
<p><strong>修改字段</strong>：指修改字段的相关信息</p>
<ul>
<li>修改<strong>字段类型、字段属性和位置</strong></li>
<li>修改字段语法：<code>****alter table 表名 modify 字段名 字段类型 [字段属性] [位置]；**</code>**</li>
</ul>
<p>1、修改身份证的类型为char(18)并且位置放到id后面</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_3 modify sfz <span class="type">char</span>(<span class="number">18</span>) after id;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、修改字段包含多个操作</p>
<ul>
<li>字段类型修改</li>
<li>字段属性修改</li>
<li>字段位置修改<br>
2、修改字段语法：alter table 表名 modify 字段名 字段类型 [字段属性] [位置];</li>
</ul>
<h3 id="6）删除字段">6）删除字段</h3>
<blockquote>
<p>目标：了解字段删除语法</p>
</blockquote>
<p><strong>删除字段</strong>：即将某个不要的字段从表中剔除</p>
<ul>
<li>删除字段会将数据也删除（不可逆）</li>
<li>删除字段语法：<code>alter table 表名 drop 字段名;</code></li>
</ul>
<p>1、删除年龄字段</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> t_3 <span class="keyword">drop</span> age;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、字段删除在删除字段名的同时会删除字段<strong>对应的数据</strong>，而且<strong>不可逆</strong></p>
<p>2、字段删除语法：alter table 表名 drop 字段名</p>
<h3 id="7）总结">7）总结</h3>
<p>1、数据表结构的操作是<strong>数据操作的基础</strong></p>
<p>2、一般情况下新手都不会接触数据表的设计，但是作为一名新手一定要在使用数据表之前查看数据表的结构信息</p>
<p>3、不要轻易的修改或者删除数据表结构（<strong>数据会一并被处理掉</strong>）</p>
<p>4、数据表结构的维护通常是一次性的，在业务开展前尽可能好的设计好数据表，而不要后期再进行其他维护</p>
<h1>DML</h1>
<blockquote>
<p>目标：掌握mysql中数据的增删改查的基本操作</p>
</blockquote>
<ul>
<li>新增数据</li>
<li>查看数据</li>
<li>更新数据</li>
<li>删除数据</li>
</ul>
<h3 id="1）新增数据">1）新增数据</h3>
<blockquote>
<p>目标：了解数据的新增指令和逻辑，实现数据的入库操作</p>
</blockquote>
<p><strong>新增数据</strong>：将数据插入到数据表永久存储</p>
<ul>
<li>新增数据是根据表的字段顺序和数据类型要求将数据存放到数据表中</li>
<li>数据表中的数据以行（row） 为存储单位，实际存储属于 字段（field） 存储数据</li>
<li>数据插入分两种方式：
<ul>
<li>全字段插入：<code>insert into 表名 values(字段列表顺序对应的所有值);</code></li>
<li>部分字段插入：<code>insert into 表名 (字段列表) values(字段列表对应的值顺序列表);</code></li>
<li>插入多条数据： insert into 表名 values(字段列表顺序对应的所有值)，(字段列表顺序对应的所有值)；</li>
</ul>
</li>
</ul>
<p>1、给t_3表插入一条完整数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_3 <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;440111200011111101&#x27;</span>,<span class="string">&#x27;Jim&#x27;</span>,<span class="string">&#x27;Green&#x27;</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>2、根据字段插入数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_3 (id,sfz,name) <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;441000200011111211&#x27;</span>,<span class="string">&#x27;Tom&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>3.插入多条数据</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into t_3  values(<span class="number">2</span>,&#x27;<span class="number">44100020001111</span><span class="number">1211</span>&#x27;,&#x27;Tom&#x27;),(<span class="number">3</span>,&#x27;<span class="number">44100020001111</span><span class="number">1211</span>&#x27;,&#x27;jack&#x27;),(<span class="number">4</span>,&#x27;<span class="number">44100020001111</span><span class="number">1211</span>&#x27;,&#x27;jerry&#x27;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、数据插入是利用insert指令将数据<strong>永久存储</strong>到数据表中</p>
<p>2、数据存储以行为单位，字段为<strong>最小实际存储单位</strong></p>
<p>3、数据插入分为两种方式插入数据</p>
<ul>
<li>全字段插入
<ul>
<li>insert into 表名 values(值列表)</li>
<li>值列表必须与字段列表<strong>顺序</strong>一致</li>
<li>值列表的每个<strong>数据类型</strong>必须与字段类型一致</li>
</ul>
</li>
<li>部分字段插入
<ul>
<li>insert into 表名 (字段列表) values(值列表)</li>
<li>字段列表可以<strong>顺序随意</strong></li>
<li>值列表必须与指定的字段列表顺序一致</li>
<li>值列表元素的类型必须与字段列表的类型一致</li>
</ul>
</li>
</ul>
<h3 id="2、查看数据">2、查看数据</h3>
<blockquote>
<p>目标：了解数据查看的指令，掌握数据查看实际操作</p>
</blockquote>
<p><strong>查看数据</strong>：将表中已经存在的数据按照指定的要求显示出来</p>
<ul>
<li>查到的数据显示出来是一张<strong>二维表</strong></li>
<li>数据显示包含<strong>字段名</strong>和<strong>数据本身</strong></li>
<li>数据查看分两种方式
<ul>
<li>查看全部字段：使用<code>*</code>代替所有字段</li>
<li>查看部分字段：明确字段名，使用逗号分隔</li>
</ul>
</li>
<li>查看数据很多时候也是根据条件查询部分数据</li>
<li>查看语法：<code>select */字段列表 from 表名;</code></li>
</ul>
<p>1、查看t_3表中所有数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_3;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>2、查看t_3表中的name和身份证信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> name,sfz <span class="keyword">from</span> t_3;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>3、查看t_3表中id值为1的信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_3 <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、数据查看是数据库中<strong>最常用的操作</strong>（99%）</p>
<p>2、数据查看分两种情况</p>
<ul>
<li>查看全部：select * （*叫做通配符）</li>
<li>查看部分：select 字段列表（建议）</li>
</ul>
<p>3、实际使用时通常会带where条件进行数据筛选</p>
<h3 id="3-更新数据">3) 更新数据</h3>
<blockquote>
<p>目标：了解更新数据的语法，掌握数据更新操作</p>
</blockquote>
<p><strong>更新数据</strong>：即更新某个已有字段的值</p>
<ul>
<li>更新数据通常是根据条件更新某些数据，而不是全部记录都更新</li>
<li>更新数据语法：<code>update 表名 set 字段 = 新值[,字段 = 新值] [where条件筛选];</code></li>
</ul>
<p>1、更新所有记录的身份证信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> t_3 <span class="keyword">set</span> sfz <span class="operator">=</span> <span class="string">&#x27;440100200010100001&#x27;</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>2、更新某个记录的多个字段数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> t_3 <span class="keyword">set</span> name <span class="operator">=</span> <span class="string">&#x27;Lily&#x27;</span>,sfz <span class="operator">=</span> <span class="string">&#x27;440100200010100002&#x27;</span> <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、更新数据的针对记录的字段数据进行更新</p>
<p>2、更新通常是限定条件更新（一般不会更新全部）</p>
<h3 id="4、删除数据">4、删除数据</h3>
<blockquote>
<p>目标：了解删除语法，掌握删除操作实现</p>
</blockquote>
<p><strong>删除数据</strong>：将数据从已有数据表中清除（针对的是记录record）</p>
<ul>
<li>删除数据是一种不可逆操作</li>
<li>数据删除通常都是有条件删除</li>
<li>数据删除语法：<code>delete from 表名 [where条件];</code></li>
</ul>
<p>1、删除t_3表中id为2的数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> t_3 <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>小结</p>
</blockquote>
<p>1、数据删除是不可逆的操作</p>
<p>2、数据删除通常都匹配条件部分删除</p>
<h3 id="5）总结">5）总结</h3>
<p>1、数据操作不论是初级开发者还是高级开发者都频繁接触的操作</p>
<p>2、数据操作中读操作，往往占据了整个操作的99%以上</p>
<p>3、基本的<strong>增删改查</strong>是作为进阶的必要知识，必须熟练掌握和频繁练习（尽可能使用原码，集成工具后期开发时使用）</p>
<h1><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=DQL&amp;spm=1001.2101.3001.7020">DQL</a>（数据库查询语言）：</h1>
<p>*<em>DQL（data query language）数据查询语言，专门用来查询数据。</em></p>
<h2 id="select查询">select查询</h2>
<ul>
<li>一般使用的都是Select 所有的查询操作都是这个</li>
<li>简单的查询和复杂的查询都能做</li>
<li>数据库中最核心的语言，也是最重要的语句。</li>
<li>使用频率最高的语句</li>
</ul>
<p>查询所有</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 表名;  <span class="comment">-- 一般不推荐使用 sql优化不推荐使用</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>查询指定字段</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id , name <span class="keyword">from</span>	表名;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>查询起别名，然后通过别名得到数据</p>
<h2 id="as-可以给字段起别名，也可以给表起别名"><strong>as 可以给字段起别名，也可以给表起别名</strong></h2>
<p>如 ： from 表名 as ‘别名’</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 列名<span class="number">1</span> <span class="keyword">as</span> <span class="string">&#x27;别名1&#x27;</span> , 列名<span class="number">2</span> <span class="keyword">as</span> <span class="string">&#x27;别名2&#x27;</span> ... <span class="keyword">from</span> 表名；</span><br></pre></td></tr></table></figure>
<h2 id="去重查询distinct"><strong>去重查询distinct</strong></h2>
<blockquote>
<p>去除查到的重复的值</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> 列名 <span class="keyword">from</span> 表名；  <span class="comment">-- 查询表中重复的数据，使得重复的数据只显示一条。</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> version() ; <span class="comment">-- 查询系统版本</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">100</span><span class="operator">*</span><span class="number">3</span> <span class="number">-1</span> <span class="keyword">as</span> <span class="string">&#x27;结果&#x27;</span> ;  <span class="comment">-- 用来计算  </span></span><br><span class="line"><span class="keyword">select</span> @<span class="variable">@auto_increment_increment</span> ;   <span class="comment">-- 查询自增的步长（变量）</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 例子 查询考试成绩 + 1 查看</span></span><br><span class="line"><span class="keyword">select</span> id , scode <span class="operator">+</span> <span class="number">1</span> <span class="keyword">as</span> <span class="string">&#x27;加分后&#x27;</span> <span class="keyword">from</span> 表名;</span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>
<p><strong>数据库中表达式：</strong></p>
<blockquote>
<p>文本值，列，NULL，函数，计算表达式，系统变量…</p>
</blockquote>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 表达式 <span class="keyword">from</span> 表名;</span><br></pre></td></tr></table></figure>
<h2 id="WHERE条件"><strong>WHERE条件</strong></h2>
<blockquote>
<p>一般作为检索数据中的符合条件的值</p>
</blockquote>
<p>搜索的条件一般由一个或多个条件组成。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id , score <span class="keyword">from</span> 表名；</span><br><span class="line"><span class="comment">-- 查询成绩在95 - 100 直接的 id</span></span><br><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> 表名 <span class="keyword">where</span> score <span class="operator">&gt;=</span><span class="number">95</span>  <span class="keyword">and</span> score <span class="operator">&lt;=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- and  &amp;&amp; </span></span><br><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> 表名 <span class="keyword">where</span> score <span class="operator">&gt;=</span><span class="number">95</span>  <span class="operator">&amp;&amp;</span> score <span class="operator">&lt;=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 模糊查询（between）</span></span><br><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> 表名 <span class="keyword">where</span> score <span class="keyword">between</span> <span class="number">95</span> <span class="keyword">and</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 除了1000号同学以为的所有同学的成绩</span></span><br><span class="line"><span class="keyword">select</span> id ,score <span class="keyword">from</span> 表名 <span class="keyword">where</span> id <span class="operator">!=</span> <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- != not </span></span><br><span class="line"><span class="keyword">select</span> id ,score <span class="keyword">from</span> 表名 <span class="keyword">where</span> <span class="keyword">not</span> id <span class="operator">=</span> <span class="number">1000</span>;</span><br><span class="line"><span class="number">123456789101112131415</span></span><br></pre></td></tr></table></figure>
<h2 id="了解逻辑运算符："><strong>了解逻辑运算符：</strong></h2>
<table>
<thead>
<tr>
<th>运算符</th>
<th>语法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>and &amp;&amp;</td>
<td>a and b a &amp;&amp; b</td>
<td>逻辑与，两真为真</td>
</tr>
<tr>
<td>or ||</td>
<td>a || b a or b</td>
<td>逻辑或 ，一真为真，全假为假</td>
</tr>
<tr>
<td>not !</td>
<td>not a !a</td>
<td>逻辑非，真为假，假为真</td>
</tr>
</tbody>
</table>
<p><strong>模糊查询</strong></p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>语法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>is null</td>
<td>a is null</td>
<td>如果操作符为null,结果为真</td>
</tr>
<tr>
<td>is not null</td>
<td>a is not null</td>
<td>如果操作符不为空，结果为真</td>
</tr>
<tr>
<td>between</td>
<td>a between b and c</td>
<td>如果a在b和c之间，则结果为真</td>
</tr>
<tr>
<td>like</td>
<td>a like b</td>
<td>sql匹配成功，如果a匹配b，则结果为真</td>
</tr>
<tr>
<td>in</td>
<td>a in b</td>
<td>a 在 b 中</td>
</tr>
</tbody>
</table>
<p>举例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询姓刘的同学的名字</span></span><br><span class="line"><span class="keyword">select</span> id , name <span class="keyword">from</span> 表名 <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;刘%&#x27;</span>；</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询姓刘的同学，且只有一个字的</span></span><br><span class="line"><span class="keyword">select</span> id , name <span class="keyword">from</span> 表名 <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;刘_&#x27;</span>；</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询姓刘的同学，且只有两个字的</span></span><br><span class="line"><span class="keyword">select</span> id , name <span class="keyword">from</span> 表名 <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;刘__&#x27;</span>；</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询名字中有嘉的同学，%嘉%</span></span><br><span class="line"><span class="keyword">select</span> id , name <span class="keyword">from</span> 表名 <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;%嘉%&#x27;</span>；</span><br><span class="line"></span><br><span class="line"><span class="comment">-- =================== in（具体的一个或多个值） ================</span></span><br><span class="line"> <span class="comment">-- 查询101,102,103 号学员</span></span><br><span class="line"> <span class="keyword">select</span> id, name <span class="keyword">from</span> 表名 <span class="keyword">where</span> id <span class="keyword">in</span> ( <span class="number">101</span>,<span class="number">102</span>,<span class="number">103</span>);</span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 用in查询名字等于张三，李四。。。的学生</span></span><br><span class="line"> <span class="keyword">select</span> id , name <span class="keyword">from</span> 表名 <span class="keyword">where</span> name <span class="keyword">in</span> (<span class="string">&#x27;张三&#x27;</span>, <span class="string">&#x27;李四&#x27;</span> ,<span class="string">&#x27;王五&#x27;</span>...)；</span><br><span class="line"> </span><br><span class="line"> <span class="comment">-- 查询姓名为空的学习（当然我们设置默认值，必定不存在这个值）</span></span><br><span class="line">  <span class="keyword">select</span> id , name <span class="keyword">from</span> 表名 <span class="keyword">where</span> name  <span class="operator">=</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">or</span> name <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">-- 查询姓名不为空的同学</span></span><br><span class="line">    <span class="keyword">select</span> id , name <span class="keyword">from</span> 表名 <span class="keyword">where</span> name  <span class="operator">!=</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">or</span> name <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425</span></span><br></pre></td></tr></table></figure>
<h3 id="-2"></h3>
<h2 id="五种常用的聚合函数">五种常用的聚合函数</h2>
<h3 id="什么是聚合函数">什么是聚合函数</h3>
<p>聚合函数作用于一组数据，并对一组数据返回一个值。<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023859feb9b790b463182d8123878d659b2.png" alt="在这里插入图片描述"></p>
<blockquote>
<h4 id="聚合函数不能嵌套调用。比如不能出现类似“AVG-SUM-字段名称-”形式的调用。"><strong>聚合函数不能嵌套调用</strong>。比如不能出现类似“AVG(SUM(字段名称))”形式的调用。</h4>
<h4 id="null值不参与所有聚合函数运算">***<em><strong><strong>null<em>值不参与所有聚合函数运算</em></strong></strong></em></h4>
</blockquote>
<h3 id="AVG和SUM函数">AVG和<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=SUM%E5%87%BD%E6%95%B0&amp;spm=1001.2101.3001.7020">SUM函数</a></h3>
<p>AVG函数：求平均值<br>
SUM函数：求总和</p>
<blockquote>
<p>AVG / SUM ：只适用于数值类型的字段（或变量）</p>
</blockquote>
<p>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(salary),<span class="built_in">SUM</span>(salary),<span class="built_in">AVG</span>(salary) <span class="operator">*</span> <span class="number">107</span></span><br><span class="line"><span class="keyword">FROM</span> employees [<span class="keyword">where</span>];</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>结果：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023488b4d9f1f0b436f947da482c702792c.png" alt="在这里插入图片描述"></p>
<h3 id="MIN和MAX函数">MIN和<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=MAX%E5%87%BD%E6%95%B0&amp;spm=1001.2101.3001.7020">MAX函数</a></h3>
<p>MIN函数：求最小值<br>
MAX函数：求最大值</p>
<blockquote>
<p>可以对任意数据类型的数据使用 MIN 和 MAX 函数。</p>
</blockquote>
<p>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(salary),<span class="built_in">MIN</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(last_name),<span class="built_in">MIN</span>(last_name),<span class="built_in">MAX</span>(hire_date),<span class="built_in">MIN</span>(hire_date)</span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>
<p>结果：<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202348f20c9183774c7da1d322db4255fb00.png" alt="在这里插入图片描述"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b4bbf020d6ab4508ae6c02169d5655ec.png" alt="在这里插入图片描述"></p>
<p>既然在ORDER BY中字符串可以排序，那么显然字符串是有大有小的，在MySQL中会根据字符串的ASCII码值进行大小的比较。（先比较第一个字符，如果相同则继续往后比较，如此继续下去）</p>
<h3 id="COUNT函数">COUNT函数</h3>
<p>COUNT函数：计算指定字段在查询结构中出现的个数</p>
<blockquote>
<p>注意：计算指定字段出现的个数时，是不计算NULL值的。</p>
</blockquote>
<p>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(employee_id),<span class="built_in">COUNT</span>(salary),<span class="built_in">COUNT</span>(<span class="number">2</span> <span class="operator">*</span> salary),<span class="built_in">COUNT</span>(<span class="number">1</span>),<span class="built_in">COUNT</span>(<span class="number">2</span>),<span class="built_in">COUNT</span>(<span class="operator">*</span>)</span><br><span class="line"><span class="keyword">FROM</span> employees ;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>结果：<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023235458762b864c1daaafcd72028e703b.png" alt="在这里插入图片描述"><br>
注：employees表中一共有107条员工的信息，有些员工的相关字段会有NULL值</p>
<p>公式：AVG = SUM / COUNT</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(commission_pct),<span class="built_in">SUM</span>(commission_pct)<span class="operator">/</span><span class="built_in">COUNT</span>(commission_pct),</span><br><span class="line"><span class="built_in">SUM</span>(commission_pct) <span class="operator">/</span> <span class="number">107</span></span><br><span class="line"><span class="keyword">FROM</span> employees;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>结果：<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202355d1f5b6523f4b719016fb19f8f09e71.png" alt="在这里插入图片描述"><br>
<strong>由此我们可知</strong>：SUM函数、AVG函数是不会把NULL值计算进去的</p>
<h4 id="有关COUNT的效率问题">有关COUNT的效率问题</h4>
<p>如何需要统计表中的记录数，使用COUNT(<em>)、COUNT(1)、COUNT(具体字段) 哪个效率更高呢？<br>
如果使用的是MyISAM 存储引擎，则三者效率相同，都是O(1)<br>
如果使用的是InnoDB 存储引擎，则三者效率：COUNT(</em>) = COUNT(1)&gt; COUNT(字段)</p>
<h3 id="GROUP-BY">GROUP BY</h3>
<h4 id="基本实现">基本实现</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023bf30f767a08f419abee88cebd06466e9.png" alt="在这里插入图片描述"><br>
作用：将表中的数据分成若干组<br>
语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span>, group_function(<span class="keyword">column</span>)</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">table</span></span><br><span class="line">[<span class="keyword">WHERE</span> <span class="keyword">condition</span>]</span><br><span class="line">[<span class="keyword">GROUP</span> <span class="keyword">BY</span> group_by_expression]</span><br><span class="line">[<span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">column</span>];</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>明确：GROUP BY 声明在FROM后面、WHERE后面，ORDER BY 前面、LIMIT前面</p>
</blockquote>
<h4 id="使用多个列分组">使用多个列分组</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023dd2623ec298e4a0ea2a2cd14336fdb30.png" alt="在这里插入图片描述"><br>
例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> department_id dept_id, job_id, <span class="built_in">SUM</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id, job_id ;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>结果：<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d62d0f7dc909453e8c653d2b7a458c9d.png" alt="在这里插入图片描述"></p>
<blockquote>
<p><strong>注意</strong>：SELECT中出现的非组函数的字段必须声明在GROUP BY 中。反之，GROUP BY中声明的字段可以不出现在SELECT中。</p>
</blockquote>
<h3 id="GROUP-BY中使用WITH-ROLLUP">GROUP BY中使用WITH ROLLUP</h3>
<p>使用 <code>WITH ROLLUP</code> 关键字之后，在所有查询出的分组记录之后增加一条记录，该记录计算查询出的所有记录的总和，即统计记录数量。<br>
例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> department_id,<span class="built_in">AVG</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id <span class="keyword">WITH</span> <span class="keyword">ROLLUP</span>;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>结果：<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202306faf9cabda74266a6faea3b576ac2ed.png" alt="在这里插入图片描述"></p>
<blockquote>
<p>注意：当使用ROLLUP时，不能同时使用ORDER BY子句进行结果排序，即ROLLUP和ORDER BY是互相排斥的。</p>
</blockquote>
<h3 id="HAVING">HAVING</h3>
<h4 id="HAVING的使用">HAVING的使用</h4>
<p>HAVING的作用：过滤<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023a84adac51d434a7ca283e1c15e66b201.png" alt="在这里插入图片描述"><br>
使用要求：</p>
<ul>
<li>如果过滤条件中使用了聚合函数，<strong>则必须使用HAVING来替换WHERE</strong>。否则，报错。</li>
<li>HAVING 必须声明在 GROUP BY 的后面。</li>
<li>开发中，我们使用HAVING的前提是SQL中使用了GROUP BY。</li>
</ul>
<p>例如：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> department_id,<span class="built_in">MAX</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">MAX</span>(salary) <span class="operator">&gt;</span> <span class="number">10000</span>;</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>
<h4 id="WHERE和HAVING的对比">WHERE和HAVING的对比</h4>
<p><strong>区别1</strong>：WHERE 可以直接使用表中的字段作为筛选条件，但不能使用分组中的计算函数作为筛选条件；HAVING 必须要与 GROUP BY 配合使用，可以把分组计算的函数和分组字段作为筛选条件。</p>
<p>这决定了，在需要对数据进行分组统计的时候，HAVING 可以完成 WHERE 不能完成的任务。这是因为，在查询语法结构中，WHERE 在 GROUP BY 之前，所以无法对分组结果进行筛选。HAVING 在 GROUP BY 之后，可以使用分组字段和分组中的计算函数，对分组的结果集进行筛选，这个功能是 WHERE 无法完成的。另外，WHERE排除的记录不再包括在分组中。</p>
<p><strong>区别2</strong>：如果需要通过连接从关联表中获取需要的数据，WHERE 是先筛选后连接，而 HAVING 是先连接后筛选。</p>
<p>这一点，就决定了在关联查询中，WHERE 比 HAVING 更高效。因为 WHERE 可以先筛选，用一个筛选后的较小数据集和关联表进行连接，这样占用的资源比较少，执行效率也比较高。HAVING 则需要先把结果集准备好，也就是用未被筛选的数据集进行关联，然后对这个大的数据集进行筛选，这样占用的资源就比较多，执行效率也较低。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023c9064179e6c142abb3dd6f0f1dbb72d4.png" alt="在这里插入图片描述"><br>
开发中的选择：<br>
WHERE 和 HAVING 也不是互相排斥的，我们可以在一个查询里面同时使用 WHERE 和 HAVING。包含分组统计函数的条件用 HAVING，普通条件用 WHERE。这样，我们就既利用了 WHERE 条件的高效快速，又发挥了 HAVING 可以使用包含分组统计函数的查询条件的优点。当数据量特别大的时候，运行效率会有很大的差别。</p>
<blockquote>
<p>结论：当过滤条件中有聚合函数时，则此过滤条件必须声明在HAVING中。<br>
当过滤条件中没有聚合函数时，则此过滤条件声明在WHERE中或HAVING中都可以。但是，最好声明在WHERE中，如此效率更高。</p>
</blockquote>
<p>例如：查询部门id为10,20,30,40这4个部门中最高工资比10000高的部门信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> department_id,<span class="built_in">MAX</span>(salary)</span><br><span class="line"><span class="keyword">FROM</span> employees</span><br><span class="line"><span class="keyword">WHERE</span> department_id <span class="keyword">IN</span> (<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>)</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> department_id</span><br><span class="line"><span class="keyword">HAVING</span> <span class="built_in">MAX</span>(salary) <span class="operator">&gt;</span> <span class="number">10000</span>;</span><br></pre></td></tr></table></figure>
<h2 id="执行顺序">执行顺序</h2>
<h3 id="一、SQL">一、SQL</h3>
<p>我们要编写一段查询数据的SQL语句，经常会用到如下字段。(编写顺序)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">		字段</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">		表名</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">		条件列表</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">		分组字段列表</span><br><span class="line"><span class="keyword">HAVING</span> </span><br><span class="line">		分组后条件列表</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">		排序字段列表</span><br><span class="line">LIMIT</span><br><span class="line">		分页参数</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>你有没有思考过，上诉几个关键字的执行顺序，又是怎样的呢？</p>
<h3 id="二、执行顺序">二、执行顺序</h3>
<p>正确的执行顺序如下所示。</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">		表名</span><br><span class="line"><span class="keyword">WHERE</span></span><br><span class="line">		条件列表</span><br><span class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span></span><br><span class="line">		分组字段列表</span><br><span class="line"><span class="keyword">HAVING</span> </span><br><span class="line">		分组后条件列表</span><br><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">		字段</span><br><span class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span></span><br><span class="line">		排序字段列表</span><br><span class="line"><span class="keyword">LIMIT</span></span><br><span class="line">		分页参数</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>连表查询（JOIN on）</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202321c9238b540f44e7b0f2b0a6cd021bc5.png" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">-- 连接两个表</span></span><br><span class="line">    <span class="keyword">select</span> s.id , s.name ,cid ,cname </span><br><span class="line">    <span class="keyword">from</span> stu s <span class="keyword">inner</span> <span class="keyword">join</span> class <span class="keyword">as</span> r</span><br><span class="line">    <span class="keyword">where</span> s.id <span class="operator">=</span> r.id;</span><br><span class="line">     </span><br><span class="line">    <span class="comment">-- 右连接 right join </span></span><br><span class="line">    <span class="keyword">select</span> s.id , name , cid , cname <span class="keyword">from</span> stu s</span><br><span class="line">    <span class="keyword">right</span> <span class="keyword">join</span> class c</span><br><span class="line">    <span class="keyword">on</span> s.id <span class="operator">=</span> c.id</span><br><span class="line">    </span><br><span class="line">    <span class="comment">-- 左连接 left join  </span></span><br><span class="line">    <span class="keyword">select</span> s.id , name , cid , cname <span class="keyword">from</span> stu s</span><br><span class="line">    <span class="keyword">left</span> <span class="keyword">join</span> class c</span><br><span class="line">    <span class="keyword">on</span> s.id <span class="operator">=</span> c.id</span><br><span class="line">    </span><br><span class="line">    <span class="comment">-- join  on  连接查询</span></span><br><span class="line">    <span class="comment">-- where  等值查询</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">-- 查询name为空的同学</span></span><br><span class="line">    <span class="keyword">select</span> s.id , sname , cid, cname </span><br><span class="line">    <span class="keyword">from</span> stu s <span class="keyword">left</span> <span class="keyword">join</span> </span><br><span class="line">    class c <span class="keyword">on</span> s.id <span class="operator">=</span> c.id </span><br><span class="line">    <span class="keyword">where</span> name <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">-- 查询时间为空的学生信息</span></span><br><span class="line">    <span class="keyword">select</span> s.id ,<span class="type">date</span>, name ,cid , cname <span class="keyword">from</span> stu s</span><br><span class="line">    <span class="keyword">left</span> <span class="keyword">join</span> class c</span><br><span class="line">    <span class="keyword">on</span> s.id <span class="operator">=</span> c.id</span><br><span class="line">    <span class="keyword">where</span> <span class="type">date</span> <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>操作</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>inner join</td>
<td>如果表中至少有一个匹配值，那么就返回行</td>
</tr>
<tr>
<td>left join</td>
<td>会从左表中返回所有的值，即使右表中没有</td>
</tr>
<tr>
<td>right join</td>
<td>会从右表中返回所有的值，即使左表中没有</td>
</tr>
</tbody>
</table>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">-- 测试数据库</span></span><br><span class="line">    <span class="keyword">create</span> <span class="keyword">table</span> `table_a` (</span><br><span class="line">      `aid` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">      `a_name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">      `age` <span class="type">smallint</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">      <span class="keyword">PRIMARY</span> KEY(`aid`)</span><br><span class="line">    ) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 COMMENT <span class="string">&#x27;测试表A&#x27;</span>;</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">create</span> <span class="keyword">table</span> `table_b` (</span><br><span class="line">      `bid` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">      `b_name` <span class="type">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">      `age` <span class="type">smallint</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">      <span class="keyword">PRIMARY</span> KEY(`bid`)</span><br><span class="line">    ) ENGINE<span class="operator">=</span>InnoDB <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8mb4 COMMENT <span class="string">&#x27;测试表B&#x27;</span>;</span><br><span class="line">     </span><br><span class="line">    # 插入测试数据</span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> `table_a`(aid, a_name, age) <span class="keyword">VALUES</span>(<span class="number">1</span>, <span class="string">&#x27;test1&#x27;</span>, <span class="number">1</span>),(<span class="number">2</span>, <span class="string">&#x27;test2&#x27;</span>, <span class="number">2</span>),(<span class="number">3</span>, <span class="string">&#x27;test3&#x27;</span>, <span class="number">3</span>);</span><br><span class="line">    <span class="keyword">INSERT</span> <span class="keyword">INTO</span> `table_b`(bid, b_name, age) <span class="keyword">VALUES</span>(<span class="number">1</span>, <span class="string">&#x27;test2&#x27;</span>, <span class="number">2</span>),(<span class="number">2</span>, <span class="string">&#x27;test3&#x27;</span>, <span class="number">3</span>),(<span class="number">4</span>, <span class="string">&#x27;test4&#x27;</span>, <span class="number">4</span>);</span><br><span class="line"><span class="number">123456789101112131415161718</span></span><br></pre></td></tr></table></figure>
<p><strong>这三条SQL都是等价的</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table_a <span class="keyword">JOIN</span> table_b;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table_a <span class="keyword">INNER</span> <span class="keyword">JOIN</span> table_b;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table_a <span class="keyword">CROSS</span> <span class="keyword">JOIN</span> table_b;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>结果如下：</p>
<p><strong>inner join连接</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">   <span class="comment">-- 相当于笛卡尔积</span></span><br><span class="line">    mysql<span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table_a <span class="keyword">INNER</span> <span class="keyword">JOIN</span> table_b;</span><br><span class="line">    <span class="operator">+</span><span class="comment">-----+--------+-----+-----+--------+-----+</span></span><br><span class="line">    <span class="operator">|</span> aid <span class="operator">|</span> a_name <span class="operator">|</span> age <span class="operator">|</span> bid <span class="operator">|</span> b_name <span class="operator">|</span> age <span class="operator">|</span></span><br><span class="line">    <span class="operator">+</span><span class="comment">-----+--------+-----+-----+--------+-----+</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span> test1  <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span> test2  <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> test2  <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span> test2  <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span> test3  <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span> test2  <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span> test1  <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> test3  <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> test2  <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> test3  <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span> test3  <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> test3  <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span> test1  <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span>   <span class="number">4</span> <span class="operator">|</span> test4  <span class="operator">|</span>   <span class="number">4</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> test2  <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span>   <span class="number">4</span> <span class="operator">|</span> test4  <span class="operator">|</span>   <span class="number">4</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span> test3  <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span>   <span class="number">4</span> <span class="operator">|</span> test4  <span class="operator">|</span>   <span class="number">4</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">+</span><span class="comment">-----+--------+-----+-----+--------+-----+</span></span><br><span class="line"><span class="number">123456789101112131415</span></span><br></pre></td></tr></table></figure>
<p><strong>有ON和WHERE筛选条件，此时得到的结果是两张表的交集（中间的图），对于内连接，ON和WHERE是等价的，但是对于外连接则不是，在下面会讲到。</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> # 这两条<span class="keyword">SQL</span>是等价的，不过建议使用<span class="keyword">ON</span>关键字，约定俗成</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table_a a <span class="keyword">INNER</span> <span class="keyword">JOIN</span> table_b b <span class="keyword">ON</span> a.a_name<span class="operator">=</span>b.b_name;</span><br><span class="line">    <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table_a a <span class="keyword">INNER</span> <span class="keyword">JOIN</span> table_b b <span class="keyword">WHERE</span> a.a_name<span class="operator">=</span>b.b_name;</span><br><span class="line">    </span><br><span class="line">    # 结果如下：</span><br><span class="line">    mysql<span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> table_a a <span class="keyword">INNER</span> <span class="keyword">JOIN</span> table_b b <span class="keyword">ON</span> a.a_name<span class="operator">=</span>b.b_name;</span><br><span class="line">    <span class="operator">+</span><span class="comment">-----+--------+-----+-----+--------+-----+</span></span><br><span class="line">    <span class="operator">|</span> aid <span class="operator">|</span> a_name <span class="operator">|</span> age <span class="operator">|</span> bid <span class="operator">|</span> b_name <span class="operator">|</span> age <span class="operator">|</span></span><br><span class="line">    <span class="operator">+</span><span class="comment">-----+--------+-----+-----+--------+-----+</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> test2  <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span> test2  <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span> test3  <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> test3  <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">+</span><span class="comment">-----+--------+-----+-----+--------+-----+</span></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>
<h2 id="右连接-right-join"><strong>右连接(right join)</strong></h2>
<p><strong>右连接的关键字是 RIGHT JOIN，从上图可以得到（右边的图），右连接其实就是两个表的交集+右表剩下的数据 ，当然这是在没其他过滤条件的情况下。</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `table_a` a <span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> `table_b` b <span class="keyword">ON</span> a.a_name<span class="operator">=</span>b.b_name;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+------+-----+--------+-----+</span></span><br><span class="line"><span class="operator">|</span> aid  <span class="operator">|</span> a_name <span class="operator">|</span> age  <span class="operator">|</span> bid <span class="operator">|</span> b_name <span class="operator">|</span> age <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+------+-----+--------+-----+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> test2  <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span> test2  <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> test3  <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> test3  <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>   <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>   <span class="number">4</span> <span class="operator">|</span> test4  <span class="operator">|</span>   <span class="number">4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+------+-----+--------+-----+</span></span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>
<h2 id="左连接-left-join"><strong>左连接(left join)</strong></h2>
<p><strong>左连接的关键字是 LEFT JOIN，从上图可以得到（左边的图），左连接其实就是两个表的交集+左表剩下的数据 ，当然这是在没其他过滤条件的情况下。</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  # 没找到的被置为<span class="keyword">NULL</span></span><br><span class="line">    mysql<span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> `table_a` a <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> `table_b` b <span class="keyword">ON</span> a.a_name<span class="operator">=</span>b.b_name;</span><br><span class="line">    <span class="operator">+</span><span class="comment">-----+--------+-----+------+--------+------+</span></span><br><span class="line">    <span class="operator">|</span> aid <span class="operator">|</span> a_name <span class="operator">|</span> age <span class="operator">|</span> bid  <span class="operator">|</span> b_name <span class="operator">|</span> age  <span class="operator">|</span></span><br><span class="line">    <span class="operator">+</span><span class="comment">-----+--------+-----+------+--------+------+</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span> test2  <span class="operator">|</span>   <span class="number">2</span> <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> test2  <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span> test3  <span class="operator">|</span>   <span class="number">3</span> <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> test3  <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span> test1  <span class="operator">|</span>   <span class="number">1</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>   <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line">    <span class="operator">+</span><span class="comment">-----+--------+-----+------+--------+------+</span></span><br><span class="line">    </span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<p><strong>WHERE子句中的过滤条件就是我们常见的那种，不管是内连接还是外连接，只要不符合WHERE子句的过滤条件，都会被过滤掉。</strong></p>
<p><strong>而ON子句中的过滤条件对于内连接和外连接是不同的，对于内连接，ON和WHERE的作用是一致的，因为匹配不到的都会过滤，所以你可以看到内连接并不强制需要 ON 关键字；但是对于外连接，ON决定匹配不到的是否要过滤，所以你可以看到外连接是强制需要 ON 关键字的。</strong></p>
<p>我要查询哪些数据 select …</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">从那几个表中查 <span class="keyword">from</span> 表 XXX <span class="keyword">join</span> 连接的表 <span class="keyword">on</span> 交叉条件</span><br></pre></td></tr></table></figure>
<p>假设存在一种多张表查询，慢慢来，先查询两张表 然后在慢慢添加。</p>
<p><strong>自连接(了解)</strong></p>
<p><strong>自己的表和自己的表连接： 核心是一张表拆为两张表使用</strong></p>
<blockquote>
<p>将数据同一张表中数据进行查分，然后起别名。将一张表变成两张表处理。</p>
<p>分为父和子，也就是拆分的表可以成为父和子关系或者说包含和被包含关系。</p>
</blockquote>
<h2 id="分页和排序—limit-和-order-by"><strong>分页和排序—limit 和 order by</strong></h2>
<h4 id="limit（分页）"><strong>limit（分页）</strong></h4>
<p><code>limit</code> 的第一个参数代表从 <code>第几个位置开始索引</code>。—— 索引位置从0开始计算。<br>
<code>limit</code> 的第二个参数代表 <code>要查的行数数量是多少</code>。</p>
<p>假设limit第一个参数是 <code>index</code> ，第二个参数是 <code>pageSize</code>，<code>currentPage</code> 代表当前页数<br>
做分页查询有个公式 ： <code>index = (currentPage-1) * pageSize</code></p>
<p>假如我们要查询第一页的数据 ？</p>
<p>因为是第一页，所以当前页码是1，也就是 <code>currentPage</code> = 1，一页大小为6条数据，也就是 <code>pageSize</code> = 6，代入公式 <code>index = (currentPage-1) * pageSize</code></p>
<p><code>index = (1-1)* 6 = 0</code>，求出 index = 0</p>
<p>最后进入 sql 语句 <code>select * from book limit 0,6;</code> 完成第一页完成分页操作。</p>
<p>第一和第二个参数可以分别理解成<strong>从第几个数据开始查找，向后面查找多少个数据</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">limit  当前页，页面大小</span><br><span class="line"></span><br><span class="line">limit  <span class="number">0</span> , <span class="number">5</span>       <span class="comment">--前边数字表示第几页，后边数据每页显示的数据条数</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<h4 id="order-by-（排序）"><strong>order by （排序）</strong></h4>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">-</span> 升序	<span class="keyword">asc</span></span><br><span class="line">  <span class="keyword">order</span> <span class="keyword">by</span> id  <span class="keyword">asc</span> 根据id升序排序</span><br><span class="line"><span class="operator">-</span> 降序        <span class="keyword">desc</span></span><br><span class="line">  <span class="keyword">order</span> <span class="keyword">by</span>  id  <span class="keyword">desc</span>根据id降序排序</span><br><span class="line"><span class="number">1234</span></span><br></pre></td></tr></table></figure>
<h2 id="案例">案例</h2>
<p><strong>（1）查询年龄为20,21,22,23岁的员工信息。</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> gender <span class="operator">=</span> <span class="string">&#x27;女&#x27;</span> <span class="keyword">and</span> age <span class="keyword">in</span>(<span class="number">20</span>,<span class="number">21</span>,<span class="number">22</span>,<span class="number">23</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>（2）查询性别为 男 ，并且年龄在 20-40 岁(含)以内的姓名为三个字的员工。</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> gender <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span> <span class="keyword">and</span> ( age <span class="keyword">between</span> <span class="number">20</span> <span class="keyword">and</span> <span class="number">40</span> ) <span class="keyword">and</span> name <span class="keyword">like</span></span><br><span class="line"><span class="string">&#x27;___&#x27;</span>;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>（3）统计员工表中, 年龄小于60岁的 , 男性员工和女性员工的人数。</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> gender, <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">&lt;</span> <span class="number">60</span> <span class="keyword">group</span> <span class="keyword">by</span> gender;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>（4）查询所有年龄小于等于35岁员工的姓名和年龄，并对查询结果按年龄升序排序，如果年龄相同按<br>
入职时间降序排序。</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> name , age <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">&lt;=</span> <span class="number">35</span> <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span> , entrydate <span class="keyword">desc</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>（5）查询性别为男，且年龄在20-40 岁(含)以内的前5个员工信息，对查询的结果按年龄升序排序，<br>
年龄相同按入职时间升序排序。</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> gender <span class="operator">=</span> <span class="string">&#x27;男&#x27;</span> <span class="keyword">and</span> age <span class="keyword">between</span> <span class="number">20</span> <span class="keyword">and</span> <span class="number">40</span> <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span> ,</span><br><span class="line">entrydate <span class="keyword">asc</span> limit <span class="number">5</span> ;</span><br></pre></td></tr></table></figure>
<h1>DCL语句目录</h1>
<p><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=DCL&amp;spm=1001.2101.3001.7020">DCL</a>英文全称是Data Control Language(数据控制语言)，用来管理数据库用户、控制数据库的访<br>
问权限。</p>
<h2 id="一、管理用户">一、管理用户</h2>
<p><strong>🍀（1）查询用户</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> mysql.user;</span><br></pre></td></tr></table></figure>
<p>查询的结果如下:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/5113c4c62e944a6ba1849e79e1fa7293.png" alt=""></p>
<p>其中 Host代表当前用户访问的主机, 如果为localhost, 仅代表只能够在当前本机访问，是不可以<br>
远程访问的。 User代表的是访问该数据库的用户名。在MySQL中需要通过Host和User来唯一标识一<br>
个用户。</p>
<p><strong>🍀（2）创建用户</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span> IDENTIFIED <span class="keyword">BY</span> <span class="string">&#x27;密码&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><strong>🍀（3）修改用户密码</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">USER</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span> IDENTIFIED <span class="keyword">WITH</span> mysql_native_password <span class="keyword">BY</span> <span class="string">&#x27;新密码&#x27;</span> ;</span><br></pre></td></tr></table></figure>
<p><strong>🍀（4） 删除用户</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span> ;</span><br></pre></td></tr></table></figure>
<p><strong>注意事项:</strong></p>
<ul>
<li>在MySQL中需要通过用户名@主机名的方式，来唯一标识一个用户。</li>
<li>主机名可以使用 % 通配。</li>
<li>这类SQL开发人员操作的比较少，主要是DBA（ Database Administrator 数据库管理员）使用。</li>
</ul>
<p><strong>🍀（5）案例</strong></p>
<p>A. 创建用户itcast, 只能够在当前主机localhost访问, 密码123456;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;itcast&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123456&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>B. 创建用户heima, 可以在任意主机访问该数据库, 密码123456;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;heima&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;123456&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>C. 修改用户heima的访问密码为1234;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">user</span> <span class="string">&#x27;heima&#x27;</span>@<span class="string">&#x27;%&#x27;</span> identified <span class="keyword">with</span> mysql_native_password <span class="keyword">by</span> <span class="string">&#x27;1234&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>D. 删除 itcast@localhost 用户</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> <span class="string">&#x27;itcast&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h2 id="二、权限控制">二、权限控制</h2>
<p>MySQL中定义了很多种权限，但是常用的就以下几种：</p>
<table>
<thead>
<tr>
<th>权限</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>ALL, ALL PRIVILEGES</td>
<td>所有权限</td>
</tr>
<tr>
<td>SELECT</td>
<td>查询数据</td>
</tr>
<tr>
<td>INSERT</td>
<td>插入数据</td>
</tr>
<tr>
<td>UPDATE</td>
<td>修改数据</td>
</tr>
<tr>
<td>DELETE</td>
<td>删除数据</td>
</tr>
<tr>
<td>ALTER</td>
<td>修改表</td>
</tr>
<tr>
<td>DROP</td>
<td>删除数据库/表/视图</td>
</tr>
<tr>
<td>CREATE</td>
<td>创建数据库/表</td>
</tr>
</tbody>
</table>
<p>上述只是简单罗列了常见的几种权限描述，其他权限描述及含义，可以直接参考官方文档。</p>
<p><strong>🍀（1）查询权限</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> GRANTS <span class="keyword">FOR</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span> ;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>🍀（2）授予权限</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> 权限列表 <span class="keyword">ON</span> 数据库名.表名 <span class="keyword">TO</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>🍀（3）撤销权限</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">REVOKE</span> 权限列表 <span class="keyword">ON</span> 数据库名.表名 <span class="keyword">FROM</span> <span class="string">&#x27;用户名&#x27;</span>@<span class="string">&#x27;主机名&#x27;</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>注意事项：</strong></p>
<ul>
<li>多个权限之间，使用逗号分隔</li>
<li>授权时， 数据库名和表名可以使用 * 进行通配，代表所有。</li>
</ul>
<p><strong>🍀（4）案例</strong></p>
<p>A. 查询 ‘heima’@‘%’ 用户的权限</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> grants <span class="keyword">for</span> <span class="string">&#x27;heima&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>B. 授予 ‘heima’@‘%’ 用户itcast数据库所有表的所有操作权限</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">on</span> itcast.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;heima&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>C. 撤销 ‘heima’@‘%’ 用户的itcast数据库的所有权限</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">revoke</span> <span class="keyword">all</span> <span class="keyword">on</span> itcast.<span class="operator">*</span> <span class="keyword">from</span> <span class="string">&#x27;heima&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br></pre></td></tr></table></figure>
<h1>函数</h1>
<p><strong>函数</strong> 是指一段可以直接被另一段程序调用的程序或代码。 也就意味着，这一段程序或代码在MySQL中<br>
已经给我们提供了，我们要做的就是在合适的业务场景调用对应的函数完成对应的业务需求即可。 那<br>
么，函数到底在哪儿使用呢？</p>
<p>我们先来看两个场景：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202321e933d71e654c08ab7a18e4bf971146.png" alt="在这里插入图片描述"></p>
<ul>
<li>（1）在企业的OA或其他的人力系统中，经常会提供的有这样一个功能，每一个员工登录上来之后都能 够看到当前员工入职的天数。而在数据库中，存储的都是入职日期，如 2000-11-12，那如果快速计 算出天数呢？</li>
<li>（2）在做报表这类的业务需求中,我们要展示出学员的分数等级分布。而在数据库中，存储的是学生的分数值，如98/75，如何快速判定分数的等级呢？</li>
</ul>
<p>其实，上述的这一类的需求呢，我们通过MySQL中的函数都可以很方便的实现 。</p>
<p>MySQL中的函数主要分为以下四类： <strong>字符串函数</strong>、<strong>数值函数</strong>、<strong>日期函数</strong>、<strong>流程函数</strong>。</p>
<h2 id="一、字符串函数">一、字符串函数</h2>
<p>MySQL中内置了很多字符串函数，常用的几个如下（有时候前面什么都没有的时候要加select）：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>CONCAT(S1,S2,…Sn)</td>
<td>字符串拼接，将S1，S2，… Sn拼接成一个字符串</td>
</tr>
<tr>
<td>LOWER(str)</td>
<td>将字符串str全部转为小写</td>
</tr>
<tr>
<td>UPPER(str)</td>
<td>将字符串str全部转为大写</td>
</tr>
<tr>
<td>LPAD(str,n,pad)</td>
<td>左填充，用字符串pad对str的左边进行填充，达到n个字符串长度</td>
</tr>
<tr>
<td>RPAD(str,n,pad)</td>
<td>右填充，用字符串pad对str的右边进行填充，达到n个字符串长度</td>
</tr>
<tr>
<td>TRIM(str)</td>
<td>去掉字符串头部和尾部的空格</td>
</tr>
<tr>
<td>SUBSTRING(str,start,len)</td>
<td>返回从字符串str从start位置起的len个长度的字符串，下标从1开始</td>
</tr>
</tbody>
</table>
<p><strong>演示如下：</strong></p>
<p>A. concat : 字符串拼接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> concat(<span class="string">&#x27;Hello&#x27;</span> , <span class="string">&#x27; MySQL&#x27;</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>B. lower : 全部转小写</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">lower</span>(<span class="string">&#x27;Hello&#x27;</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>C. upper : 全部转大写</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">upper</span>(<span class="string">&#x27;Hello&#x27;</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>D. lpad : 左填充</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> lpad(<span class="string">&#x27;01&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;-&#x27;</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>E. rpad : 右填充</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> rpad(<span class="string">&#x27;01&#x27;</span>, <span class="number">5</span>, <span class="string">&#x27;-&#x27;</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>F. trim : 去除空格</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">trim</span>(<span class="string">&#x27; Hello MySQL &#x27;</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>G. substring : 截取子字符串</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">substring</span>(<span class="string">&#x27;Hello MySQL&#x27;</span>,<span class="number">1</span>,<span class="number">5</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>案例:</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d1b3f63b9ed2477ba19f34ea45f6f41c.png" alt="在这里插入图片描述"></p>
<p>由于业务需求变更，企业员工的工号，统一为5位数，目前不足5位数的全部在前面补0。比如： 1号员<br>
工的工号应该为00001。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> emp <span class="keyword">set</span> workno <span class="operator">=</span> lpad(workno, <span class="number">5</span>, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>处理完毕后, 具体的数据为:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202339b1768c0a7240d4b7f44debf843503e.png" alt="在这里插入图片描述"></p>
<h2 id="二、数值函数">二、数值函数</h2>
<p>常见的数值函数如下：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>CEIL(x)</td>
<td>向上取整</td>
</tr>
<tr>
<td>FLOOR(x)</td>
<td>向下取整</td>
</tr>
<tr>
<td>MOD(x,y)</td>
<td>返回x/y的模</td>
</tr>
<tr>
<td>RAND()</td>
<td>返回0~1内的随机数</td>
</tr>
<tr>
<td>ROUND(x,y)</td>
<td>求参数x的四舍五入的值，保留y位小数</td>
</tr>
</tbody>
</table>
<p><strong>演示如下：</strong></p>
<p>A. ceil：向上取整</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">ceil</span>(<span class="number">1.1</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>B. floor：向下取整</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">floor</span>(<span class="number">1.9</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>C. mod：取模</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">mod</span>(<span class="number">7</span>,<span class="number">4</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>D. rand：获取随机数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> rand();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>E. round：四舍五入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> round(<span class="number">2.344</span>,<span class="number">2</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>案例：</strong></p>
<p>通过数据库的函数，生成一个六位数的随机验证码。</p>
<p>思路： 获取随机数可以通过rand()函数，但是获取出来的随机数是在0-1之间的，所以可以在其基础<br>
上乘以1000000，然后舍弃小数部分，如果长度不足6位，补0</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> lpad(round(rand()<span class="operator">*</span><span class="number">1000000</span> , <span class="number">0</span>), <span class="number">6</span>, <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="三、日期函数">三、<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0&amp;spm=1001.2101.3001.7020">日期函数</a></h2>
<p>常见的日期函数如下：</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>CURDATE()</td>
<td>返回当前日期</td>
</tr>
<tr>
<td>CURTIME()</td>
<td>返回当前时间</td>
</tr>
<tr>
<td>NOW()</td>
<td>返回当前日期和时间</td>
</tr>
<tr>
<td>YEAR(date)</td>
<td>获取指定date的年份</td>
</tr>
<tr>
<td>MONTH(date)</td>
<td>获取指定date的月份</td>
</tr>
<tr>
<td>DAY(date)</td>
<td>获取指定date的日期</td>
</tr>
<tr>
<td>DATE_ADD(date, INTERVAL exprtype)</td>
<td>返回一个日期/时间值加上一个时间间隔expr后的时间值</td>
</tr>
<tr>
<td>DATEDIFF(date1,date2)</td>
<td>返回起始时间date1 和 结束时间date2之间的天数</td>
</tr>
</tbody>
</table>
<p><strong>演示如下：</strong></p>
<p>A. curdate：当前日期</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> curdate();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>B. curtime：当前时间</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> curtime();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>C. now：当前日期和时间</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> now();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>D. YEAR , MONTH , DAY：当前年、月、日</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">YEAR</span>(now());</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">MONTH</span>(now());</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">DAY</span>(now());</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>E. date_add：增加指定的时间间隔</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> date_add(now(), <span class="type">INTERVAL</span> <span class="number">70</span> <span class="keyword">YEAR</span> );</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>F. datediff：获取两个日期相差的天数（前减后）</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> datediff(<span class="string">&#x27;2021-10-01&#x27;</span>, <span class="string">&#x27;2021-12-01&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>案例：</strong></p>
<p>查询所有员工的入职天数，并根据入职天数倒序排序。</p>
<p>思路： 入职天数，就是通过当前日期 - 入职日期，所以需要使用datediff函数来完成。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> name, datediff(curdate(), entrydate) <span class="keyword">as</span> <span class="string">&#x27;entrydays&#x27;</span> <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> entrydays <span class="keyword">desc</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="四、流程函数">四、流程函数</h2>
<p>流程函数也是很常用的一类函数，可以在SQL语句中实现条件筛选，从而提高语句的效率。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>IF(value , t , f)</td>
<td>如果value为true，则返回t，否则返回f</td>
</tr>
<tr>
<td>IFNULL(value1 , value2)</td>
<td>如果value1不为空，返回value1，否则返回value2</td>
</tr>
<tr>
<td>CASE WHEN [ val1 ] THEN [res1] …ELSE [ default ] END</td>
<td>如果val1为true，返回res1，… 否则返回default默认值</td>
</tr>
<tr>
<td>CASE [ expr ] WHEN [ val1 ] THEN [res1] … ELSE [ default ] END</td>
<td>如果expr的值等于val1，返回res1，… 否则返回default默认值</td>
</tr>
</tbody>
</table>
<p><strong>演示如下：</strong></p>
<p>A. if</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> if(<span class="literal">false</span>, <span class="string">&#x27;Ok&#x27;</span>, <span class="string">&#x27;Error&#x27;</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>B. ifnull</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ifnull(<span class="string">&#x27;Ok&#x27;</span>,<span class="string">&#x27;Default&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> ifnull(<span class="string">&#x27;&#x27;</span>,<span class="string">&#x27;Default&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> ifnull(<span class="keyword">null</span>,<span class="string">&#x27;Default&#x27;</span>);</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>C. case when then else end<br>
需求: 查询emp表的员工姓名和工作地址 (北京/上海 ----&gt; 一线城市 , 其他 ----&gt; 二线城市)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">    name,</span><br><span class="line">    ( <span class="keyword">case</span> workaddress <span class="keyword">when</span> <span class="string">&#x27;北京&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;一线城市&#x27;</span> <span class="keyword">when</span> <span class="string">&#x27;上海&#x27;</span> <span class="keyword">then</span> <span class="string">&#x27;一线城市&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;二线城市&#x27;</span> <span class="keyword">end</span> ) </span><br><span class="line">    <span class="keyword">as</span> <span class="string">&#x27;工作地址&#x27;</span></span><br><span class="line"><span class="keyword">from</span> emp;</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>
<p><strong>案例:</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> score(</span><br><span class="line">  id <span class="type">int</span> comment <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">  math <span class="type">int</span> comment <span class="string">&#x27;数学&#x27;</span>,</span><br><span class="line">  english <span class="type">int</span> comment <span class="string">&#x27;英语&#x27;</span>,</span><br><span class="line">  chinese <span class="type">int</span> comment <span class="string">&#x27;语文&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;学员成绩表&#x27;</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> score(id, name, math, english, chinese) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;Tom&#x27;</span>, <span class="number">67</span>, <span class="number">88</span>, <span class="number">95</span></span><br><span class="line">), (<span class="number">2</span>, <span class="string">&#x27;Rose&#x27;</span> , <span class="number">23</span>, <span class="number">66</span>, <span class="number">90</span>),(<span class="number">3</span>, <span class="string">&#x27;Jack&#x27;</span>, <span class="number">56</span>, <span class="number">98</span>, <span class="number">76</span>);</span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<p>具体的SQL语句如下:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span></span><br><span class="line">  id,</span><br><span class="line">  name,</span><br><span class="line">  (<span class="keyword">case</span> <span class="keyword">when</span> math <span class="operator">&gt;=</span> <span class="number">85</span> <span class="keyword">then</span> <span class="string">&#x27;优秀&#x27;</span> <span class="keyword">when</span> math <span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">then</span> <span class="string">&#x27;及格&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;不及格&#x27;</span> <span class="keyword">end</span> )</span><br><span class="line"><span class="string">&#x27;数学&#x27;</span>,</span><br><span class="line">  (<span class="keyword">case</span> <span class="keyword">when</span> english <span class="operator">&gt;=</span> <span class="number">85</span> <span class="keyword">then</span> <span class="string">&#x27;优秀&#x27;</span> <span class="keyword">when</span> english <span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">then</span> <span class="string">&#x27;及格&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;不及格&#x27;</span> <span class="keyword">end</span> )</span><br><span class="line"><span class="string">&#x27;英语&#x27;</span>,</span><br><span class="line">  (<span class="keyword">case</span> <span class="keyword">when</span> chinese <span class="operator">&gt;=</span> <span class="number">85</span> <span class="keyword">then</span> <span class="string">&#x27;优秀&#x27;</span> <span class="keyword">when</span> chinese <span class="operator">&gt;=</span><span class="number">60</span> <span class="keyword">then</span> <span class="string">&#x27;及格&#x27;</span> <span class="keyword">else</span> <span class="string">&#x27;不及格&#x27;</span> <span class="keyword">end</span> ) </span><br><span class="line"><span class="string">&#x27;语文&#x27;</span></span><br><span class="line"><span class="keyword">from</span> score;</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<p>MySQL的常见函数我们学习完了，那接下来，我们就来分析一下，在前面讲到的两个函数的案例场景，<br>
思考一下需要用到什么样的函数来实现?</p>
<ul>
<li>（1）数据库中，存储的是入职日期，如 2000-01-01，如何快速计算出入职天数呢？ --------&gt; 答案: datediff</li>
<li>（2）数据库中，存储的是学生的分数值，如98、75，如何快速判定分数的等级呢？ --------&gt; 答案: case … when …</li>
</ul>
<h1>约束</h1>
<h2 id="一、约束概述">一、约束概述</h2>
<p><strong>概念：</strong> 约束是作用于表中字段上的规则，用于限制存储在表中的数据。</p>
<p><strong>目的：</strong> 保证数据库中数据的正确、有效性和完整性。</p>
<p><strong>分类：</strong></p>
<table>
<thead>
<tr>
<th>约束</th>
<th>描述</th>
<th>关键字</th>
</tr>
</thead>
<tbody>
<tr>
<td>非空约束</td>
<td>限制该字段的数据不能为null</td>
<td>NOT NULL</td>
</tr>
<tr>
<td>唯一约束</td>
<td>保证该字段的所有数据都是唯一、不重复的</td>
<td>UNIQUE</td>
</tr>
<tr>
<td>主键约束</td>
<td>主键是一行数据的唯一标识，要求非空且唯一</td>
<td>PRIMARY KEY</td>
</tr>
<tr>
<td>默认约束</td>
<td>保存数据时，如果未指定该字段的值，则采用默认值</td>
<td>DEFAULT</td>
</tr>
<tr>
<td>检查约束(8.0.16版本之后)</td>
<td>保证字段值满足某一个条件</td>
<td>CHECK</td>
</tr>
<tr>
<td>外键约束</td>
<td>用来让两张表的数据之间建立连接，保证数据的一致性和完整性</td>
<td>FOREIGNKEY</td>
</tr>
</tbody>
</table>
<p><strong>注意：</strong> 约束是作用于表中字段上的，可以在创建表/修改表的时候添加约束。</p>
<h2 id="二、约束演示">二、约束演示</h2>
<p>上面我们介绍了数据库中常见的约束，以及约束涉及到的关键字，那这些约束我们到底如何在创建表、<br>
修改表的时候来指定呢，接下来我们就通过一个案例，来演示一下。</p>
<p>案例需求： 根据需求，完成表结构的创建。需求如下：</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>字段名</th>
<th>字段含义</th>
<th>字段类型</th>
<th>约束条件</th>
<th>约束关键字</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>ID唯一标识</td>
<td>int</td>
<td>主键，并且自动增长</td>
<td>PRIMARY KEY,AUTO_INCREMENT</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>姓名</td>
<td>varchar(10)</td>
<td>不为空，并且唯一</td>
<td>NOT NULL , UNIQUE</td>
<td></td>
</tr>
<tr>
<td>age</td>
<td>年龄</td>
<td>int</td>
<td>大于0，并且小于等于120</td>
<td>CHECK</td>
<td></td>
</tr>
<tr>
<td>status</td>
<td>状态</td>
<td>char(1)</td>
<td>如果没有指定该值，默认为1</td>
<td>DEFAULT</td>
<td></td>
</tr>
<tr>
<td>gender</td>
<td>性别</td>
<td>char(1)</td>
<td>无</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong><strong><strong><strong>注意，当指定为unique后若添加两个一样的值，主键为自动加一</strong></strong></strong></strong></p>
<p>对应的建表语句为：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> tb_user(</span><br><span class="line">id <span class="type">int</span> AUTO_INCREMENT <span class="keyword">PRIMARY</span> KEY COMMENT <span class="string">&#x27;ID唯一标识&#x27;</span>,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span> COMMENT <span class="string">&#x27;姓名&#x27;</span> ,</span><br><span class="line">age <span class="type">int</span> <span class="keyword">check</span> (age <span class="operator">&gt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> age <span class="operator">&lt;=</span> <span class="number">120</span>) COMMENT <span class="string">&#x27;年龄&#x27;</span> ,</span><br><span class="line">status <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">default</span> <span class="string">&#x27;1&#x27;</span> COMMENT <span class="string">&#x27;状态&#x27;</span>,</span><br><span class="line">gender <span class="type">char</span>(<span class="number">1</span>) COMMENT <span class="string">&#x27;性别&#x27;</span></span><br><span class="line">);</span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>
<p>在为字段添加约束时，我们只需要在字段之后加上约束的关键字即可，需要关注其语法。我们执行上面<br>
的SQL把表结构创建完成，然后接下来，就可以通过一组数据进行测试，从而验证一下，约束是否可以<br>
生效。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom1&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;男&#x27;</span>),(<span class="string">&#x27;Tom2&#x27;</span>,<span class="number">25</span>,<span class="string">&#x27;0&#x27;</span>,<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom3&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="keyword">null</span>,<span class="number">19</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom3&#x27;</span>,<span class="number">19</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom4&#x27;</span>,<span class="number">80</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom5&#x27;</span>,<span class="number">-1</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,status,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom5&#x27;</span>,<span class="number">121</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(name,age,gender) <span class="keyword">values</span> (<span class="string">&#x27;Tom5&#x27;</span>,<span class="number">120</span>,<span class="string">&#x27;男&#x27;</span>);</span><br><span class="line"><span class="number">12345678</span></span><br></pre></td></tr></table></figure>
<p>上面，我们是通过编写SQL语句的形式来完成约束的指定，那加入我们是通过图形化界面来创建表结构<br>
时，又该如何来指定约束呢？ 只需要在创建表的时候，根据我们的需要选择对应的约束即可。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023255121ac82c34fdda9414252f889d9bf.png" alt=""></p>
<h2 id="三、外键约束">三、外键约束</h2>
<h3 id="1️⃣外键约束介绍">1️⃣外键约束介绍</h3>
<p>外键：用来让两张表的数据之间建立连接，从而保证数据的一致性和完整性。</p>
<p>我们来看一个例子：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023322d809e7baa46c89e93dfec4f52307e.png" alt="在这里插入图片描述"></p>
<p>左侧的emp表是员工表，里面存储员工的基本信息，包含员工的ID、姓名、年龄、职位、薪资、入职日<br>
期、上级主管ID、部门ID，在员工的信息中存储的是部门的ID dept_id，而这个部门的ID是关联的<br>
部门表dept的主键id，那emp表的dept_id就是外键,关联的是另一张表的主键。</p>
<p><strong>注意：</strong> 目前上述两张表，只是在逻辑上存在这样一层关系；在数据库层面，并未建立外键关联，<br>
所以是无法保证数据的一致性和完整性的。</p>
<p>没有数据库外键关联的情况下，能够保证一致性和完整性呢，我们来测试一下。</p>
<p><strong>准备数据</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dept(</span><br><span class="line">id <span class="type">int</span> auto_increment comment <span class="string">&#x27;ID&#x27;</span> <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;部门名称&#x27;</span></span><br><span class="line">)comment <span class="string">&#x27;部门表&#x27;</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> dept (id, name) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;研发部&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;市场部&#x27;</span>),(<span class="number">3</span>, <span class="string">&#x27;财务部&#x27;</span>), (<span class="number">4</span>,</span><br><span class="line"><span class="string">&#x27;销售部&#x27;</span>), (<span class="number">5</span>, <span class="string">&#x27;总经办&#x27;</span>);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">id <span class="type">int</span> auto_increment comment <span class="string">&#x27;ID&#x27;</span> <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">age <span class="type">int</span> comment <span class="string">&#x27;年龄&#x27;</span>,</span><br><span class="line">job <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;职位&#x27;</span>,</span><br><span class="line">salary <span class="type">int</span> comment <span class="string">&#x27;薪资&#x27;</span>,</span><br><span class="line">entrydate <span class="type">date</span> comment <span class="string">&#x27;入职时间&#x27;</span>,</span><br><span class="line">managerid <span class="type">int</span> comment <span class="string">&#x27;直属领导ID&#x27;</span>,</span><br><span class="line">dept_id <span class="type">int</span> comment <span class="string">&#x27;部门ID&#x27;</span></span><br><span class="line">)comment <span class="string">&#x27;员工表&#x27;</span>;</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, name, age, job,salary, entrydate, managerid, dept_id)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>, <span class="string">&#x27;金庸&#x27;</span>, <span class="number">66</span>, <span class="string">&#x27;总裁&#x27;</span>,<span class="number">20000</span>, <span class="string">&#x27;2000-01-01&#x27;</span>, <span class="keyword">null</span>,<span class="number">5</span>),(<span class="number">2</span>, <span class="string">&#x27;张无忌&#x27;</span>, <span class="number">20</span>,</span><br><span class="line"><span class="string">&#x27;项目经理&#x27;</span>,<span class="number">12500</span>, <span class="string">&#x27;2005-12-05&#x27;</span>, <span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">3</span>, <span class="string">&#x27;杨逍&#x27;</span>, <span class="number">33</span>, <span class="string">&#x27;开发&#x27;</span>, <span class="number">8400</span>,<span class="string">&#x27;2000-11-03&#x27;</span>, <span class="number">2</span>,<span class="number">1</span>),(<span class="number">4</span>, <span class="string">&#x27;韦一笑&#x27;</span>, <span class="number">48</span>, <span class="string">&#x27;开</span></span><br><span class="line"><span class="string">发&#x27;</span>,<span class="number">11000</span>, <span class="string">&#x27;2002-02-05&#x27;</span>, <span class="number">2</span>,<span class="number">1</span>),</span><br><span class="line">(<span class="number">5</span>, <span class="string">&#x27;常遇春&#x27;</span>, <span class="number">43</span>, <span class="string">&#x27;开发&#x27;</span>,<span class="number">10500</span>, <span class="string">&#x27;2004-09-07&#x27;</span>, <span class="number">3</span>,<span class="number">1</span>),(<span class="number">6</span>, <span class="string">&#x27;小昭&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;程</span></span><br><span class="line"><span class="string">序员鼓励师&#x27;</span>,<span class="number">6600</span>, <span class="string">&#x27;2004-10-12&#x27;</span>, <span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"><span class="number">123456789101112131415161718192021222324</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023cf021473832c465faff7ea8ad1492d69.png" alt="在这里插入图片描述"></p>
<p>接下来，我们可以做一个测试，删除id为1的部门信息。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20233c28d14ce90f4d8c82463fc44339e932.png" alt="在这里插入图片描述"></p>
<p>结果，我们看到删除成功，而删除成功之后，部门表不存在id为1的部门，而在emp表中还有很多的员<br>
工，关联的为id为1的部门，此时就出现了数据的不完整性。 而要想解决这个问题就得通过数据库的<br>
外键约束。</p>
<h3 id="2️⃣语法">2️⃣语法</h3>
<p><strong>🍀（1）添加外键</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> 表名(</span><br><span class="line">字段名 数据类型,</span><br><span class="line">...</span><br><span class="line">[<span class="keyword">CONSTRAINT</span>] [外键名称] <span class="keyword">FOREIGN</span> KEY (外键字段名) <span class="keyword">REFERENCES</span> 主表 (主表列名)</span><br><span class="line">);</span><br><span class="line"><span class="number">12345</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 子表名 <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> 自定义的外键名称 <span class="keyword">FOREIGN</span> KEY (子表内的外键字段名)</span><br><span class="line"><span class="keyword">REFERENCES</span> 父表 (父表列名) ;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>案例:</strong></p>
<p>为emp表的dept_id字段添加外键约束,关联dept表的主键id。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">add</span> <span class="keyword">constraint</span> fk_emp_dept_id <span class="keyword">foreign</span> key (dept_id) <span class="keyword">references</span></span><br><span class="line">dept(id);</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f29fd3a942d3430dbe70c2eccbdb74c9.png" alt="在这里插入图片描述"></p>
<p>添加了外键约束之后，我们再到dept表(父表)删除id为1的记录，然后看一下会发生什么现象。 此时<br>
将会报错，不能删除或更新父表记录，因为存在外键约束。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202362e341bbb86341bbb1776a63515f6cfc.png" alt="在这里插入图片描述"></p>
<p><strong>🍀（2）删除外键</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">DROP</span> <span class="keyword">FOREIGN</span> KEY 外键名称;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>案例：</strong></p>
<p>删除emp表的外键fk_emp_dept_id。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">drop</span> <span class="keyword">foreign</span> key fk_emp_dept_id;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>🍀（3）删除/更新行为</strong></p>
<p>添加了外键之后，再删除父表数据时产生的约束行为，我们就称为删除/更新行为。具体的删除/更新行<br>
为有以下几种:</p>
<table>
<thead>
<tr>
<th>行为</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>NO ACTION</td>
<td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新。 (与 RESTRICT 一致) 默认行为</td>
</tr>
<tr>
<td>RESTRICT</td>
<td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有则不允许删除/更新。 (与 NO ACTION 一致) 默认行为</td>
</tr>
<tr>
<td>CASCADE</td>
<td>当在父表中删除/更新对应记录时，首先检查该记录是否有对应外键，如果有，则也删除/更新外键在子表中的记录。</td>
</tr>
<tr>
<td>SET NULL</td>
<td>当在父表中删除对应记录时，首先检查该记录是否有对应外键，如果有则设置子表中该外键值为null（这就要求该外键允许取null）。</td>
</tr>
<tr>
<td>SET DEFAULT</td>
<td>父表有变更时，子表将外键列设置成一个默认的值 (Innodb不支持)</td>
</tr>
</tbody>
</table>
<p>具体语法为:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> 表名 <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> 外键名称 <span class="keyword">FOREIGN</span> KEY (外键字段) <span class="keyword">REFERENCES</span></span><br><span class="line">主表名 (主表字段名) <span class="keyword">ON</span> <span class="keyword">UPDATE</span> CASCADE <span class="keyword">ON</span> <span class="keyword">DELETE</span> CASCADE;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>演示如下：</p>
<p>由于NO ACTION 是默认行为，我们前面语法演示的时候，已经测试过了，就不再演示了，这里我们再<br>
演示其他的两种行为：CASCADE、SET NULL。</p>
<p>（1）CASCADE</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">add</span> <span class="keyword">constraint</span> fk_emp_dept_id <span class="keyword">foreign</span> key (dept_id) <span class="keyword">references</span></span><br><span class="line">dept(id) <span class="keyword">on</span> <span class="keyword">update</span> cascade <span class="keyword">on</span> <span class="keyword">delete</span> cascade ;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>A. 修改父表id为1的记录，将id修改为6</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023bd1c79d64b9449499dabf8054e238da5.png" alt="在这里插入图片描述"><br>
我们发现，原来在子表中dept_id值为1的记录，现在也变为6了，这就是cascade级联的效果。</p>
<p><strong>注意：</strong> 在一般的业务系统中，不会修改一张表的主键值。</p>
<p>B. 删除父表id为6的记录</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023fbc19745eda84b60889fca7775c6a0a7.png" alt="在这里插入图片描述"></p>
<p>我们发现，父表的数据删除成功了，但是子表中关联的记录也被级联删除了。</p>
<p>（2）SET NULL</p>
<p>在进行测试之前，我们先需要删除上面建立的外键 fk_emp_dept_id。然后再通过数据脚本，将<br>
emp、dept表的数据恢复了。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">add</span> <span class="keyword">constraint</span> fk_emp_dept_id <span class="keyword">foreign</span> key (dept_id) <span class="keyword">references</span></span><br><span class="line">dept(id) <span class="keyword">on</span> <span class="keyword">update</span> <span class="keyword">set</span> <span class="keyword">null</span> <span class="keyword">on</span> <span class="keyword">delete</span> <span class="keyword">set</span> <span class="keyword">null</span> ;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>接下来，我们删除id为1的数据，看看会发生什么样的现象。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202384bd379c4eb041e9a433b6b5c422bc1c.png" alt="在这里插入图片描述"></p>
<p>我们发现父表的记录是可以正常的删除的，父表的数据删除之后，再打开子表 emp，我们发现子表emp<br>
的dept_id字段，原来dept_id为1的数据，现在都被置为NULL了。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20235bcf7d9531e2451ba3744f884480ba20.png" alt="在这里插入图片描述"></p>
<p>这就是SET NULL这种删除/更新行为的效果。</p>
<h1>多表查询</h1>
<p>之前在介绍SQL语句的时候，介绍到了DQL语句，也就是数据查询语句，但是之前介绍的查询都是单<br>
表查询，而本问将要介绍的则是多表查询操作，主要从以下几个方面进行介绍。</p>
<h2 id="一、多表关系">一、多表关系</h2>
<p>项目开发中，在进行数据库表结构设计时，会根据业务需求及业务模块之间的关系，分析并设计表结<br>
构，由于业务之间相互关联，所以各个表结构之间也存在着各种联系，基本上分为三种：</p>
<ul>
<li>一对多(多对一)</li>
<li>多对多</li>
<li>一对一</li>
</ul>
<h3 id="1️⃣一对多">1️⃣一对多</h3>
<ul>
<li>案例: 部门 与 员工的关系</li>
<li>关系: 一个部门对应多个员工，一个员工对应一个部门</li>
<li>实现: 在多的一方建立外键，指向一的一方的主键</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20235befe04c181e4a6c827e41e4a0196151.png" alt="在这里插入图片描述"></p>
<h3 id="2️⃣多对多">2️⃣多对多</h3>
<ul>
<li>案例: 学生 与 课程的关系</li>
<li>关系: 一个学生可以选修多门课程，一门课程也可以供多个学生选择</li>
<li>实现: 建立第三张中间表，中间表至少包含两个外键，分别关联两方主键</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f819057a9f3d4e179d6a6775eb2d3198.png" alt="在这里插入图片描述"></p>
<p>对应的SQL脚本:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">  id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key comment <span class="string">&#x27;主键ID&#x27;</span>,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">10</span>) comment <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">  <span class="keyword">no</span> <span class="type">varchar</span>(<span class="number">10</span>) comment <span class="string">&#x27;学号&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;学生表&#x27;</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student <span class="keyword">values</span> (<span class="keyword">null</span>, <span class="string">&#x27;黛绮丝&#x27;</span>, <span class="string">&#x27;2000100101&#x27;</span>),(<span class="keyword">null</span>, <span class="string">&#x27;谢逊&#x27;</span>,</span><br><span class="line"><span class="string">&#x27;2000100102&#x27;</span>),(<span class="keyword">null</span>, <span class="string">&#x27;殷天正&#x27;</span>, <span class="string">&#x27;2000100103&#x27;</span>),(<span class="keyword">null</span>, <span class="string">&#x27;韦一笑&#x27;</span>, <span class="string">&#x27;2000100104&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> course(</span><br><span class="line">  id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key comment <span class="string">&#x27;主键ID&#x27;</span>,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">10</span>) comment <span class="string">&#x27;课程名称&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;课程表&#x27;</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> course <span class="keyword">values</span> (<span class="keyword">null</span>, <span class="string">&#x27;Java&#x27;</span>), (<span class="keyword">null</span>, <span class="string">&#x27;PHP&#x27;</span>), (<span class="keyword">null</span> , <span class="string">&#x27;MySQL&#x27;</span>) ,</span><br><span class="line">(<span class="keyword">null</span>, <span class="string">&#x27;Hadoop&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student_course(</span><br><span class="line">  id <span class="type">int</span> auto_increment comment <span class="string">&#x27;主键&#x27;</span> <span class="keyword">primary</span> key,</span><br><span class="line">  studentid <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;学生ID&#x27;</span>,</span><br><span class="line">  courseid <span class="type">int</span> <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;课程ID&#x27;</span>,</span><br><span class="line">  <span class="keyword">constraint</span> fk_courseid <span class="keyword">foreign</span> key (courseid) <span class="keyword">references</span> course (id),</span><br><span class="line">  <span class="keyword">constraint</span> fk_studentid <span class="keyword">foreign</span> key (studentid) <span class="keyword">references</span> student (id)</span><br><span class="line">)comment <span class="string">&#x27;学生课程中间表&#x27;</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> student_course <span class="keyword">values</span> (<span class="keyword">null</span>,<span class="number">1</span>,<span class="number">1</span>),(<span class="keyword">null</span>,<span class="number">1</span>,<span class="number">2</span>),(<span class="keyword">null</span>,<span class="number">1</span>,<span class="number">3</span>),(<span class="keyword">null</span>,<span class="number">2</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="keyword">null</span>,<span class="number">2</span>,<span class="number">3</span>),(<span class="keyword">null</span>,<span class="number">3</span>,<span class="number">4</span>);</span><br><span class="line"><span class="number">123456789101112131415161718192021222324</span></span><br></pre></td></tr></table></figure>
<h3 id="3️⃣一对一">3️⃣一对一</h3>
<ul>
<li>案例: 用户 与 用户详情的关系</li>
<li>关系: 一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另 一张表中，以提升操作效率</li>
<li>实现: 在任意一方加入外键，关联另外一方的主键，并且设置外键为唯一的(UNIQUE)</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023383a19f358b243a98d0524cdbb2f90b3.png" alt="在这里插入图片描述"></p>
<p>对应的SQL脚本:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tb_user(</span><br><span class="line">  id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key comment <span class="string">&#x27;主键ID&#x27;</span>,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">10</span>) comment <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">  age <span class="type">int</span> comment <span class="string">&#x27;年龄&#x27;</span>,</span><br><span class="line">  gender <span class="type">char</span>(<span class="number">1</span>) comment <span class="string">&#x27;1: 男 , 2: 女&#x27;</span>,</span><br><span class="line">  phone <span class="type">char</span>(<span class="number">11</span>) comment <span class="string">&#x27;手机号&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;用户基本信息表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tb_user_edu(</span><br><span class="line">  id <span class="type">int</span> auto_increment <span class="keyword">primary</span> key comment <span class="string">&#x27;主键ID&#x27;</span>,</span><br><span class="line">  degree <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;学历&#x27;</span>,</span><br><span class="line">  major <span class="type">varchar</span>(<span class="number">50</span>) comment <span class="string">&#x27;专业&#x27;</span>,</span><br><span class="line">  primaryschool <span class="type">varchar</span>(<span class="number">50</span>) comment <span class="string">&#x27;小学&#x27;</span>,</span><br><span class="line">  middleschool <span class="type">varchar</span>(<span class="number">50</span>) comment <span class="string">&#x27;中学&#x27;</span>,</span><br><span class="line">  university <span class="type">varchar</span>(<span class="number">50</span>) comment <span class="string">&#x27;大学&#x27;</span>,</span><br><span class="line">  userid <span class="type">int</span> <span class="keyword">unique</span> comment <span class="string">&#x27;用户ID&#x27;</span>,</span><br><span class="line">  <span class="keyword">constraint</span> fk_userid <span class="keyword">foreign</span> key (userid) <span class="keyword">references</span> tb_user(id)</span><br><span class="line">) comment <span class="string">&#x27;用户教育信息表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user(id, name, age, gender, phone) <span class="keyword">values</span></span><br><span class="line">  (<span class="keyword">null</span>,<span class="string">&#x27;黄渤&#x27;</span>,<span class="number">45</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;18800001111&#x27;</span>),</span><br><span class="line">  (<span class="keyword">null</span>,<span class="string">&#x27;冰冰&#x27;</span>,<span class="number">35</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;18800002222&#x27;</span>),</span><br><span class="line">  (<span class="keyword">null</span>,<span class="string">&#x27;码云&#x27;</span>,<span class="number">55</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;18800008888&#x27;</span>),</span><br><span class="line">  (<span class="keyword">null</span>,<span class="string">&#x27;李彦宏&#x27;</span>,<span class="number">50</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;18800009999&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_user_edu(id, degree, major, primaryschool, middleschool, university, userid) <span class="keyword">values</span></span><br><span class="line">  (<span class="keyword">null</span>,<span class="string">&#x27;本科&#x27;</span>,<span class="string">&#x27;舞蹈&#x27;</span>,<span class="string">&#x27;静安区第一小学&#x27;</span>,<span class="string">&#x27;静安区第一中学&#x27;</span>,<span class="string">&#x27;北京舞蹈学院&#x27;</span>,<span class="number">1</span>),</span><br><span class="line">  (<span class="keyword">null</span>,<span class="string">&#x27;硕士&#x27;</span>,<span class="string">&#x27;表演&#x27;</span>,<span class="string">&#x27;朝阳区第一小学&#x27;</span>,<span class="string">&#x27;朝阳区第一中学&#x27;</span>,<span class="string">&#x27;北京电影学院&#x27;</span>,<span class="number">2</span>),</span><br><span class="line">  (<span class="keyword">null</span>,<span class="string">&#x27;本科&#x27;</span>,<span class="string">&#x27;英语&#x27;</span>,<span class="string">&#x27;杭州市第一小学&#x27;</span>,<span class="string">&#x27;杭州市第一中学&#x27;</span>,<span class="string">&#x27;杭州师范大学&#x27;</span>,<span class="number">3</span>),</span><br><span class="line">  (<span class="keyword">null</span>,<span class="string">&#x27;本科&#x27;</span>,<span class="string">&#x27;应用数学&#x27;</span>,<span class="string">&#x27;阳泉第一小学&#x27;</span>,<span class="string">&#x27;阳泉区第一中学&#x27;</span>,<span class="string">&#x27;清华大学&#x27;</span>,<span class="number">4</span>);</span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930</span></span><br></pre></td></tr></table></figure>
<h2 id="二、多表查询概述">二、多表查询概述</h2>
<h3 id="1️⃣数据准备">1️⃣数据准备</h3>
<p>（1）删除之前 emp, dept表的测试数据</p>
<p>（2）执行如下脚本，创建emp表与dept表并插入测试数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 创建dept表，并插入数据</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dept(</span><br><span class="line">  id <span class="type">int</span> auto_increment comment <span class="string">&#x27;ID&#x27;</span> <span class="keyword">primary</span> key,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;部门名称&#x27;</span></span><br><span class="line">)comment <span class="string">&#x27;部门表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> dept (id, name) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;研发部&#x27;</span>), (<span class="number">2</span>, <span class="string">&#x27;市场部&#x27;</span>),(<span class="number">3</span>, <span class="string">&#x27;财务部&#x27;</span>), (<span class="number">4</span>,</span><br><span class="line"><span class="string">&#x27;销售部&#x27;</span>), (<span class="number">5</span>, <span class="string">&#x27;总经办&#x27;</span>), (<span class="number">6</span>, <span class="string">&#x27;人事部&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建emp表，并插入数据</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp(</span><br><span class="line">  id <span class="type">int</span> auto_increment comment <span class="string">&#x27;ID&#x27;</span> <span class="keyword">primary</span> key,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">50</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">  age <span class="type">int</span> comment <span class="string">&#x27;年龄&#x27;</span>,</span><br><span class="line">  job <span class="type">varchar</span>(<span class="number">20</span>) comment <span class="string">&#x27;职位&#x27;</span>,</span><br><span class="line">  salary <span class="type">int</span> comment <span class="string">&#x27;薪资&#x27;</span>,</span><br><span class="line">  entrydate <span class="type">date</span> comment <span class="string">&#x27;入职时间&#x27;</span>,</span><br><span class="line">  managerid <span class="type">int</span> comment <span class="string">&#x27;直属领导ID&#x27;</span>,</span><br><span class="line">  dept_id <span class="type">int</span> comment <span class="string">&#x27;部门ID&#x27;</span></span><br><span class="line">)comment <span class="string">&#x27;员工表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 添加外键</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> emp <span class="keyword">add</span> <span class="keyword">constraint</span> fk_emp_dept_id <span class="keyword">foreign</span> key (dept_id) <span class="keyword">references</span></span><br><span class="line">dept(id);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (id, name, age, job,salary, entrydate, managerid, dept_id)</span><br><span class="line"><span class="keyword">VALUES</span></span><br><span class="line">  (<span class="number">1</span>, <span class="string">&#x27;金庸&#x27;</span>, <span class="number">66</span>, <span class="string">&#x27;总裁&#x27;</span>,<span class="number">20000</span>, <span class="string">&#x27;2000-01-01&#x27;</span>, <span class="keyword">null</span>,<span class="number">5</span>),</span><br><span class="line">  (<span class="number">2</span>, <span class="string">&#x27;张无忌&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;项目经理&#x27;</span>,<span class="number">12500</span>, <span class="string">&#x27;2005-12-05&#x27;</span>, <span class="number">1</span>,<span class="number">1</span>),</span><br><span class="line">  (<span class="number">3</span>, <span class="string">&#x27;杨逍&#x27;</span>, <span class="number">33</span>, <span class="string">&#x27;开发&#x27;</span>, <span class="number">8400</span>,<span class="string">&#x27;2000-11-03&#x27;</span>, <span class="number">2</span>,<span class="number">1</span>),</span><br><span class="line">  (<span class="number">4</span>, <span class="string">&#x27;韦一笑&#x27;</span>, <span class="number">48</span>, <span class="string">&#x27;开发&#x27;</span>,<span class="number">11000</span>, <span class="string">&#x27;2002-02-05&#x27;</span>, <span class="number">2</span>,<span class="number">1</span>),</span><br><span class="line">  (<span class="number">5</span>, <span class="string">&#x27;常遇春&#x27;</span>, <span class="number">43</span>, <span class="string">&#x27;开发&#x27;</span>,<span class="number">10500</span>, <span class="string">&#x27;2004-09-07&#x27;</span>, <span class="number">3</span>,<span class="number">1</span>),</span><br><span class="line">  (<span class="number">6</span>, <span class="string">&#x27;小昭&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;程序员鼓励师&#x27;</span>,<span class="number">6600</span>, <span class="string">&#x27;2004-10-12&#x27;</span>, <span class="number">2</span>,<span class="number">1</span>),</span><br><span class="line">  (<span class="number">7</span>, <span class="string">&#x27;灭绝&#x27;</span>, <span class="number">60</span>, <span class="string">&#x27;财务总监&#x27;</span>,<span class="number">8500</span>, <span class="string">&#x27;2002-09-12&#x27;</span>, <span class="number">1</span>,<span class="number">3</span>),</span><br><span class="line">  (<span class="number">8</span>, <span class="string">&#x27;周芷若&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;会计&#x27;</span>,<span class="number">48000</span>, <span class="string">&#x27;2006-06-02&#x27;</span>, <span class="number">7</span>,<span class="number">3</span>),</span><br><span class="line">  (<span class="number">9</span>, <span class="string">&#x27;丁敏君&#x27;</span>, <span class="number">23</span>, <span class="string">&#x27;出纳&#x27;</span>,<span class="number">5250</span>, <span class="string">&#x27;2009-05-13&#x27;</span>, <span class="number">7</span>,<span class="number">3</span>),</span><br><span class="line">  (<span class="number">10</span>, <span class="string">&#x27;赵敏&#x27;</span>, <span class="number">20</span>, <span class="string">&#x27;市场部总监&#x27;</span>,<span class="number">12500</span>, <span class="string">&#x27;2004-10-12&#x27;</span>, <span class="number">1</span>,<span class="number">2</span>),</span><br><span class="line">  (<span class="number">11</span>, <span class="string">&#x27;鹿杖客&#x27;</span>, <span class="number">56</span>, <span class="string">&#x27;职员&#x27;</span>,<span class="number">3750</span>, <span class="string">&#x27;2006-10-03&#x27;</span>, <span class="number">10</span>,<span class="number">2</span>),</span><br><span class="line">  (<span class="number">12</span>, <span class="string">&#x27;鹤笔翁&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;职员&#x27;</span>,<span class="number">3750</span>, <span class="string">&#x27;2007-05-09&#x27;</span>, <span class="number">10</span>,<span class="number">2</span>),</span><br><span class="line">  (<span class="number">13</span>, <span class="string">&#x27;方东白&#x27;</span>, <span class="number">19</span>, <span class="string">&#x27;职员&#x27;</span>,<span class="number">5500</span>, <span class="string">&#x27;2009-02-12&#x27;</span>, <span class="number">10</span>,<span class="number">2</span>),</span><br><span class="line">  (<span class="number">14</span>, <span class="string">&#x27;张三丰&#x27;</span>, <span class="number">88</span>, <span class="string">&#x27;销售总监&#x27;</span>,<span class="number">14000</span>, <span class="string">&#x27;2004-10-12&#x27;</span>, <span class="number">1</span>,<span class="number">4</span>),</span><br><span class="line">  (<span class="number">15</span>, <span class="string">&#x27;俞莲舟&#x27;</span>, <span class="number">38</span>, <span class="string">&#x27;销售&#x27;</span>,<span class="number">4600</span>, <span class="string">&#x27;2004-10-12&#x27;</span>, <span class="number">14</span>,<span class="number">4</span>),</span><br><span class="line">  (<span class="number">16</span>, <span class="string">&#x27;宋远桥&#x27;</span>, <span class="number">40</span>, <span class="string">&#x27;销售&#x27;</span>,<span class="number">4600</span>, <span class="string">&#x27;2004-10-12&#x27;</span>, <span class="number">14</span>,<span class="number">4</span>),</span><br><span class="line">  (<span class="number">17</span>, <span class="string">&#x27;陈友谅&#x27;</span>, <span class="number">42</span>, <span class="keyword">null</span>,<span class="number">2000</span>, <span class="string">&#x27;2011-10-12&#x27;</span>, <span class="number">1</span>,<span class="keyword">null</span>);</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041424344</span></span><br></pre></td></tr></table></figure>
<p>dept表共6条记录，emp表共17条记录。</p>
<h3 id="2️⃣概述">2️⃣概述</h3>
<p>多表查询就是指从多张表中查询数据。</p>
<p>原来查询单表数据，执行的SQL形式为：select * from emp;</p>
<p>那么我们要执行多表查询，就只需要使用逗号分隔多张表即可，如： select * from emp , dept; 具体的执行结果如下:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023225a9088c81c43dda82b5add761cc2b0.png" alt="在这里插入图片描述"></p>
<p>此时,我们看到查询结果中包含了大量的结果集，总共102条记录，而这其实就是员工表emp所有的记录<br>
(17) 与 部门表dept所有记录(6) 的所有组合情况，这种现象称之为笛卡尔积。接下来，就来简单介绍下笛卡尔积。</p>
<p>笛卡尔积: 笛卡尔乘积是指在数学中，两个集合A集合 和 B集合的所有组合情况。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023c3576264a8a34cdb90073e099de8fde9.png" alt="在这里插入图片描述"></p>
<p>而在多表查询中，我们是需要消除无效的笛卡尔积的，只保留两张表关联部分的数据。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20233e404b56d22348348e673212d89b1ef0.png" alt="在这里插入图片描述"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234bdaeea6ba1645e2a57b1faba5069ec1.png" alt="在这里插入图片描述"></p>
<p>在SQL语句中，如何来去除无效的笛卡尔积呢？ 我们可以给多表查询加上连接查询的条件即可。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp , dept <span class="keyword">where</span> emp.dept_id <span class="operator">=</span> dept.id;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d7e5728bf4eb4f7f9420654d6b7c9d89.png" alt="在这里插入图片描述"></p>
<p>而由于id为17的员工，没有dept_id字段值，所以在多表查询时，根据连接查询的条件并没有查询<br>
到。</p>
<h3 id="3️⃣分类">3️⃣分类</h3>
<p><strong>连接查询</strong></p>
<ul>
<li><strong>内连接</strong>：相当于查询A、B交集部分数据</li>
<li><strong>外连接</strong>：左外连接：查询左表所有数据，以及两张表交集部分数据；右外连接：查询右表所有数据，以及两张表交集部分数据</li>
<li><strong>自连接</strong>：当前表与自身的连接查询，自连接必须使用表别名</li>
</ul>
<p><strong>子查询</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234c96aa8fb4ec46c78491dd2c6611d6f3.png" alt="在这里插入图片描述"></p>
<h2 id="三、内连接">三、<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%86%85%E8%BF%9E%E6%8E%A5&amp;spm=1001.2101.3001.7020">内连接</a></h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234c96aa8fb4ec46c78491dd2c6611d6f3.png" alt="在这里插入图片描述"><br>
内连接查询的是两张表交集部分的数据。(也就是绿色部分的数据)</p>
<p>内连接的语法分为两种: 隐式内连接、显式内连接。先来学习一下具体的语法结构。</p>
<p>🍀（1）隐式内连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表<span class="number">1</span> , 表<span class="number">2</span> <span class="keyword">WHERE</span> 条件 ... ;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>🍀（2）显式内连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表<span class="number">1</span> [ <span class="keyword">INNER</span> ] <span class="keyword">JOIN</span> 表<span class="number">2</span> <span class="keyword">ON</span> 连接条件 ... ;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>案例:</p>
<p>A. 查询每一个员工的姓名 , 及关联的部门的名称 (隐式内连接实现)</p>
<p><strong>表结构:</strong> emp , dept<br>
<strong>连接条件:</strong> emp.dept_id = <a target="_blank" rel="noopener" href="http://dept.id">dept.id</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> emp.name , dept.name <span class="keyword">from</span> emp , dept <span class="keyword">where</span> emp.dept_id <span class="operator">=</span> dept.id ;</span><br><span class="line"><span class="comment">-- 为每一张表起别名,简化SQL编写</span></span><br><span class="line"><span class="keyword">select</span> e.name,d.name <span class="keyword">from</span> emp e , dept d <span class="keyword">where</span> e.dept_id <span class="operator">=</span> d.id;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>B. 查询每一个员工的姓名 , 及关联的部门的名称 (显式内连接实现) — INNER JOIN …ON …</p>
<p><strong>表结构:</strong> emp , dept<br>
<strong>连接条件:</strong> emp.dept_id = <a target="_blank" rel="noopener" href="http://dept.id">dept.id</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.name, d.name <span class="keyword">from</span> emp e <span class="keyword">inner</span> <span class="keyword">join</span> dept d <span class="keyword">on</span> e.dept_id <span class="operator">=</span> d.id;</span><br><span class="line"><span class="comment">-- 为每一张表起别名,简化SQL编写</span></span><br><span class="line"><span class="keyword">select</span> e.name, d.name <span class="keyword">from</span> emp e <span class="keyword">join</span> dept d <span class="keyword">on</span> e.dept_id <span class="operator">=</span> d.id;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p><strong>表的别名:</strong></p>
<ul>
<li>①. tablea as 别名1 , tableb as 别名2 ;</li>
<li>②. tablea 别名1 , tableb 别名2 ;</li>
</ul>
<p><strong>注意事项:</strong> 一旦为表起了别名，就不能再使用表名来指定对应的字段了，此时只能够使用别名来指定字<br>
段。</p>
<h2 id="四、外连接">四、外连接</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20235a219d7059414b5f87d6da6ea279163f.png" alt="在这里插入图片描述"><br>
外连接分为两种，分别是：左外连接 和 右外连接。具体的语法结构为：</p>
<p>🍀（1） 左外连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表<span class="number">1</span> <span class="keyword">LEFT</span> [ <span class="keyword">OUTER</span> ] <span class="keyword">JOIN</span> 表<span class="number">2</span> <span class="keyword">ON</span> 条件 ... ;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>左外连接相当于查询表1(左表)的所有数据，当然也包含表1和表2交集部分的数据。</p>
<p>🍀（2） 右外连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表<span class="number">1</span> <span class="keyword">RIGHT</span> [ <span class="keyword">OUTER</span> ] <span class="keyword">JOIN</span> 表<span class="number">2</span> <span class="keyword">ON</span> 条件 ... ;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>右外连接相当于查询表2(右表)的所有数据，当然也包含表1和表2交集部分的数据。</p>
<p>案例:</p>
<p>A. 查询emp表的所有数据, 和对应的部门信息</p>
<p>由于需求中提到，要查询emp的所有数据，所以是不能内连接查询的，需要考虑使用外连接查询。</p>
<p><strong>表结构:</strong> emp, dept<br>
<strong>连接条件:</strong> emp.dept_id = <a target="_blank" rel="noopener" href="http://dept.id">dept.id</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.<span class="operator">*</span>, d.name <span class="keyword">from</span> emp e <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> dept d <span class="keyword">on</span> e.dept_id <span class="operator">=</span> d.id;</span><br><span class="line"><span class="keyword">select</span> e.<span class="operator">*</span>, d.name <span class="keyword">from</span> emp e <span class="keyword">left</span> <span class="keyword">join</span> dept d <span class="keyword">on</span> e.dept_id <span class="operator">=</span> d.id;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>B. 查询dept表的所有数据, 和对应的员工信息(右外连接)</p>
<p>由于需求中提到，要查询dept表的所有数据，所以是不能内连接查询的，需要考虑使用外连接查询。</p>
<p><strong>表结构:</strong> emp, dept<br>
<strong>连接条件:</strong> emp.dept_id = <a target="_blank" rel="noopener" href="http://dept.id">dept.id</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> d.<span class="operator">*</span>, e.<span class="operator">*</span> <span class="keyword">from</span> emp e <span class="keyword">right</span> <span class="keyword">outer</span> <span class="keyword">join</span> dept d <span class="keyword">on</span> e.dept_id <span class="operator">=</span> d.id;</span><br><span class="line"><span class="keyword">select</span> d.<span class="operator">*</span>, e.<span class="operator">*</span> <span class="keyword">from</span> dept d <span class="keyword">left</span> <span class="keyword">outer</span> <span class="keyword">join</span> emp e <span class="keyword">on</span> e.dept_id <span class="operator">=</span> d.id;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>注意事项：</strong> 左外连接和右外连接是可以相互替换的，只需要调整在连接查询时SQL中，表结构的先后顺序就可以了。而我们在日常开发使用时，更偏向于左外连接。</p>
<h2 id="五、自连接">五、自连接</h2>
<h3 id="1️⃣自连接查询">1️⃣自连接查询</h3>
<p>自连接查询，顾名思义，就是自己连接自己，也就是把一张表连接查询多次。我们先来学习一下自连接<br>
的查询语法：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表A 别名A <span class="keyword">JOIN</span> 表A 别名B <span class="keyword">ON</span> 条件 ... ;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>而对于自连接查询，可以是内连接查询，也可以是外连接查询。</p>
<p>案例：</p>
<p>A. 查询员工 及其 所属领导的名字</p>
<p>表结构: emp</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.name , b.name <span class="keyword">from</span> emp a , emp b <span class="keyword">where</span> a.managerid <span class="operator">=</span> b.id;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>B. 查询所有员工 emp 及其领导的名字 emp , 如果员工没有领导, 也需要查询出来</p>
<p>表结构: emp a , emp b</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> a.name <span class="string">&#x27;员工&#x27;</span>, b.name <span class="string">&#x27;领导&#x27;</span> <span class="keyword">from</span> emp a <span class="keyword">left</span> <span class="keyword">join</span> emp b <span class="keyword">on</span> a.managerid <span class="operator">=</span></span><br><span class="line">b.id;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>注意事项:</strong> 在自连接查询中，必须要为表起别名，要不然我们不清楚所指定的条件、返回的字段，到底是哪一张表的字段。</p>
<h3 id="2️⃣联合查询">2️⃣联合查询</h3>
<p>对于union查询，就是把多次查询的结果合并起来，形成一个新的查询结果集。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表A ...</span><br><span class="line"><span class="keyword">UNION</span> [ <span class="keyword">ALL</span> ]</span><br><span class="line"><span class="keyword">SELECT</span> 字段列表 <span class="keyword">FROM</span> 表B ....;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>对于联合查询的多张表的列数必须保持一致，字段类型也需要保持一致。</strong></li>
<li><strong>union all 会将全部的数据直接合并在一起，union 会对合并之后的数据去重。</strong></li>
</ul>
<p>案例:</p>
<p>A. 将薪资低于 5000 的员工 , 和 年龄大于 50 岁的员工全部查询出来.</p>
<p>当前对于这个需求，我们可以直接使用多条件查询，使用逻辑运算符 or 连接即可。 那这里呢，我们也可以通过union/union all来联合查询.</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> salary <span class="operator">&lt;</span> <span class="number">5000</span></span><br><span class="line"><span class="keyword">union</span> <span class="keyword">all</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">&gt;</span> <span class="number">50</span>;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023bb27cf0969d745ee83c02547fa4353e4.png" alt="在这里插入图片描述"><br>
union all查询出来的结果，仅仅进行简单的合并，并未去重。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> salary <span class="operator">&lt;</span> <span class="number">5000</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> age <span class="operator">&gt;</span> <span class="number">50</span>;</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023efb86fc847cb45e18912577fd7083a82.png" alt="在这里插入图片描述"><br>
union 联合查询，会对查询出来的结果进行去重处理。</p>
<p><strong>注意：</strong></p>
<p>如果多条查询语句查询出来的结果，字段数量不一致，在进行union/union all联合查询时，将会报错，如：<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20237f9eac0bb827400291600d71548b101c.png" alt="在这里插入图片描述"></p>
<h2 id="六、子查询">六、子查询</h2>
<h3 id="1️⃣概述">1️⃣概述</h3>
<p>🍀（1）概念</p>
<p>SQL语句中嵌套SELECT语句，称为嵌套查询，又称子查询。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> t1 <span class="keyword">WHERE</span> column1 <span class="operator">=</span> ( <span class="keyword">SELECT</span> column1 <span class="keyword">FROM</span> t2 );</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>子查询外部的语句可以是INSERT / UPDATE / DELETE / SELECT 的任何一个。</p>
<p>🍀（2）分类</p>
<p>根据子查询结果不同，分为：</p>
<ul>
<li>A. 标量子查询（子查询结果为单个值）</li>
<li>B. 列子查询(子查询结果为一列)</li>
<li>C. 行子查询(子查询结果为一行)</li>
<li>D. 表子查询(子查询结果为多行多列)</li>
</ul>
<p>根据子查询位置，分为：</p>
<ul>
<li>A. WHERE之后</li>
<li>B. FROM之后</li>
<li>C. SELECT之后</li>
</ul>
<h3 id="2️⃣标量子查询">2️⃣标量子查询</h3>
<p>子查询返回的结果是单个值（数字、字符串、日期等），最简单的形式，这种子查询称为标量子查询。</p>
<p>常用的操作符：= ， &lt;&gt;， &gt; ， &gt;=， &lt;， &lt;=</p>
<p><strong>案例:</strong></p>
<p><strong>A. 查询 “销售部” 的所有员工信息</strong></p>
<p>完成这个需求时，我们可以将需求分解为两步：</p>
<p>①. 查询 “销售部” 部门ID</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;销售部&#x27;</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>②. 根据 “销售部” 部门ID, 查询员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> dept_id <span class="operator">=</span> (<span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;销售部&#x27;</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>B. 查询在 “方东白” 入职之后的员工信息</strong></p>
<p>完成这个需求时，我们可以将需求分解为两步：</p>
<p>①. 查询 方东白 的入职日期</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> entrydate <span class="keyword">from</span> emp <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;方东白&#x27;</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>②. 查询指定入职日期之后入职的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> entrydate <span class="operator">&gt;</span> (<span class="keyword">select</span> entrydate <span class="keyword">from</span> emp <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;方东</span></span><br><span class="line"><span class="string">白&#x27;</span>);</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<h3 id="3️⃣列子查询">3️⃣列子查询</h3>
<p>子查询返回的结果是一列（可以是多行），这种子查询称为列子查询。</p>
<p>常用的操作符：IN 、NOT IN 、 ANY 、SOME 、 ALL</p>
<table>
<thead>
<tr>
<th>操作符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>IN</td>
<td>在指定的集合范围之内，多选一</td>
</tr>
<tr>
<td>NOT IN</td>
<td>不在指定的集合范围之内</td>
</tr>
<tr>
<td>ANY</td>
<td>子查询返回列表中，有任意一个满足即可</td>
</tr>
<tr>
<td>SOME</td>
<td>与ANY等同，使用SOME的地方都可以使用ANY</td>
</tr>
<tr>
<td>ALL</td>
<td>子查询返回列表的所有值都必须满足</td>
</tr>
</tbody>
</table>
<p><strong>案例:</strong></p>
<p><strong>A. 查询 “销售部” 和 “市场部” 的所有员工信息</strong></p>
<p>分解为以下两步:</p>
<p>①. 查询 “销售部” 和 “市场部” 的部门ID</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;销售部&#x27;</span> <span class="keyword">or</span> name <span class="operator">=</span> <span class="string">&#x27;市场部&#x27;</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>②. 根据部门ID, 查询员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> dept_id <span class="keyword">in</span> (<span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;销售部&#x27;</span> <span class="keyword">or</span></span><br><span class="line">name <span class="operator">=</span> <span class="string">&#x27;市场部&#x27;</span>);</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>B. 查询比 财务部 所有人工资都高的员工信息</strong></p>
<p>分解为以下两步:</p>
<p>①. 查询所有 财务部 人员工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;财务部&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> salary <span class="keyword">from</span> emp <span class="keyword">where</span> dept_id <span class="operator">=</span> (<span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;财务部&#x27;</span>);</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>②. 比 财务部 所有人工资都高的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> salary <span class="operator">&gt;</span> <span class="keyword">all</span> ( <span class="keyword">select</span> salary <span class="keyword">from</span> emp <span class="keyword">where</span> dept_id <span class="operator">=</span></span><br><span class="line">(<span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;财务部&#x27;</span>) );</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>C. 查询比研发部其中任意一人工资高的员工信息</strong></p>
<p>分解为以下两步:</p>
<p>①. 查询研发部所有人工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> salary <span class="keyword">from</span> emp <span class="keyword">where</span> dept_id <span class="operator">=</span> (<span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;研发部&#x27;</span>);</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>②. 比研发部其中任意一人工资高的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> salary <span class="operator">&gt;</span> <span class="keyword">any</span> ( <span class="keyword">select</span> salary <span class="keyword">from</span> emp <span class="keyword">where</span> dept_id <span class="operator">=</span></span><br><span class="line">(<span class="keyword">select</span> id <span class="keyword">from</span> dept <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;研发部&#x27;</span>) );</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<h3 id="4️⃣行子查询">4️⃣行子查询</h3>
<p>子查询返回的结果是一行（可以是多列），这种子查询称为行子查询。</p>
<p>常用的操作符：= 、&lt;&gt; 、IN 、NOT IN</p>
<p><strong>案例:</strong></p>
<p><strong>A. 查询与 “张无忌” 的薪资及直属领导相同的员工信息 ;</strong></p>
<p>这个需求同样可以拆解为两步进行:</p>
<p>①. 查询 “张无忌” 的薪资及直属领导</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> salary, managerid <span class="keyword">from</span> emp <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张无忌&#x27;</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>②. 查询与 “张无忌” 的薪资及直属领导相同的员工信息 ;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> (salary,managerid) <span class="operator">=</span> (<span class="keyword">select</span> salary, managerid <span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张无忌&#x27;</span>);</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<h3 id="5️⃣表子查询">5️⃣表子查询</h3>
<p>子查询返回的结果是多行多列，这种子查询称为表子查询。</p>
<p>常用的操作符：IN</p>
<p><strong>案例:</strong></p>
<p><strong>A. 查询与 “鹿杖客” , “宋远桥” 的职位和薪资相同的员工信息</strong></p>
<p>分解为两步执行:</p>
<p>①. 查询 “鹿杖客” , “宋远桥” 的职位和薪资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> job, salary <span class="keyword">from</span> emp <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;鹿杖客&#x27;</span> <span class="keyword">or</span> name <span class="operator">=</span> <span class="string">&#x27;宋远桥&#x27;</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>②. 查询与 “鹿杖客” , “宋远桥” 的职位和薪资相同的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> (job,salary) <span class="keyword">in</span> ( <span class="keyword">select</span> job, salary <span class="keyword">from</span> emp <span class="keyword">where</span> name <span class="operator">=</span></span><br><span class="line"><span class="string">&#x27;鹿杖客&#x27;</span> <span class="keyword">or</span> name <span class="operator">=</span> <span class="string">&#x27;宋远桥&#x27;</span> );</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>B. 查询入职日期是 “2006-01-01” 之后的员工信息 , 及其部门信息</strong></p>
<p>分解为两步执行:</p>
<p>①. 入职日期是 “2006-01-01” 之后的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> entrydate <span class="operator">&gt;</span> <span class="string">&#x27;2006-01-01&#x27;</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>②. 查询这部分员工, 对应的部门信息;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.<span class="operator">*</span>, d.<span class="operator">*</span> <span class="keyword">from</span> (<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> entrydate <span class="operator">&gt;</span> <span class="string">&#x27;2006-01-01&#x27;</span>) e <span class="keyword">left</span></span><br><span class="line"><span class="keyword">join</span> dept d <span class="keyword">on</span> e.dept_id <span class="operator">=</span> d.id ;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<h2 id="七、多表查询案例">七、多表查询案例</h2>
<p><strong>数据环境准备:</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> salgrade(</span><br><span class="line">  grade <span class="type">int</span>,</span><br><span class="line">  losal <span class="type">int</span>,</span><br><span class="line">  hisal <span class="type">int</span></span><br><span class="line">) comment <span class="string">&#x27;薪资等级表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">1</span>,<span class="number">0</span>,<span class="number">3000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">2</span>,<span class="number">3001</span>,<span class="number">5000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">3</span>,<span class="number">5001</span>,<span class="number">8000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">4</span>,<span class="number">8001</span>,<span class="number">10000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">5</span>,<span class="number">10001</span>,<span class="number">15000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">6</span>,<span class="number">15001</span>,<span class="number">20000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">7</span>,<span class="number">20001</span>,<span class="number">25000</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> salgrade <span class="keyword">values</span> (<span class="number">8</span>,<span class="number">25001</span>,<span class="number">30000</span>);</span><br><span class="line"><span class="number">1234567891011121314</span></span><br></pre></td></tr></table></figure>
<p>在这个案例中，我们主要运用上面所讲解的多表查询的语法，完成以下的12个需求即可，而这里主要涉<br>
及到的表就三张：emp员工表、dept部门表、salgrade薪资等级表 。</p>
<p><strong>（1）查询员工的姓名、年龄、职位、部门信息 （隐式内连接）</strong></p>
<p>表: emp , dept<br>
连接条件: emp.dept_id = <a target="_blank" rel="noopener" href="http://dept.id">dept.id</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.name , e.age , e.job , d.name <span class="keyword">from</span> emp e , dept d <span class="keyword">where</span> e.dept_id <span class="operator">=</span> d.id;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>（2）查询年龄小于30岁的员工的姓名、年龄、职位、部门信息（显式内连接）</strong></p>
<p>表: emp , dept<br>
连接条件: emp.dept_id = <a target="_blank" rel="noopener" href="http://dept.id">dept.id</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.name , e.age , e.job , d.name <span class="keyword">from</span> emp e <span class="keyword">inner</span> <span class="keyword">join</span> dept d <span class="keyword">on</span> e.dept_id <span class="operator">=</span></span><br><span class="line">d.id <span class="keyword">where</span> e.age <span class="operator">&lt;</span> <span class="number">30</span>;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>（3）查询拥有员工的部门ID、部门名称</strong></p>
<p>表: emp , dept<br>
连接条件: emp.dept_id = <a target="_blank" rel="noopener" href="http://dept.id">dept.id</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> d.id , d.name <span class="keyword">from</span> emp e , dept d <span class="keyword">where</span> e.dept_id <span class="operator">=</span> d.id;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>（4）查询所有年龄大于40岁的员工, 及其归属的部门名称; 如果员工没有分配部门, 也需要展示出来(外连接)</strong></p>
<p>表: emp , dept<br>
连接条件: emp.dept_id = <a target="_blank" rel="noopener" href="http://dept.id">dept.id</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.<span class="operator">*</span>, d.name <span class="keyword">from</span> emp e <span class="keyword">left</span> <span class="keyword">join</span> dept d <span class="keyword">on</span> e.dept_id <span class="operator">=</span> d.id <span class="keyword">where</span> e.age <span class="operator">&gt;</span></span><br><span class="line"><span class="number">40</span> ;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>（5）查询所有员工的工资等级</strong></p>
<p>表: emp , salgrade<br>
连接条件 : emp.salary &gt;= salgrade.losal and emp.salary &lt;= salgrade.hisal</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 方式一</span></span><br><span class="line"><span class="keyword">select</span> e.<span class="operator">*</span> , s.grade , s.losal, s.hisal <span class="keyword">from</span> emp e , salgrade s <span class="keyword">where</span> e.salary <span class="operator">&gt;=</span></span><br><span class="line">s.losal <span class="keyword">and</span> e.salary <span class="operator">&lt;=</span> s.hisal;</span><br><span class="line"><span class="comment">-- 方式二</span></span><br><span class="line"><span class="keyword">select</span> e.<span class="operator">*</span> , s.grade , s.losal, s.hisal <span class="keyword">from</span> emp e , salgrade s <span class="keyword">where</span> e.salary</span><br><span class="line"><span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal;</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>
<p><strong>（6）查询 “研发部” 所有员工的信息及 工资等级</strong></p>
<p>表: emp , salgrade , dept<br>
连接条件 : emp.salary between salgrade.losal and salgrade.hisal , emp.dept_id = <a target="_blank" rel="noopener" href="http://dept.id">dept.id</a><br>
查询条件 : <a target="_blank" rel="noopener" href="http://dept.name">dept.name</a> = ‘研发部’</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.<span class="operator">*</span> , s.grade <span class="keyword">from</span> emp e , dept d , salgrade s <span class="keyword">where</span> e.dept_id <span class="operator">=</span> d.id <span class="keyword">and</span> (</span><br><span class="line">e.salary <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal ) <span class="keyword">and</span> d.name <span class="operator">=</span> <span class="string">&#x27;研发部&#x27;</span>;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>（7）查询 “研发部” 员工的平均工资</strong></p>
<p>表: emp , dept<br>
连接条件 : emp.dept_id = <a target="_blank" rel="noopener" href="http://dept.id">dept.id</a></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(e.salary) <span class="keyword">from</span> emp e, dept d <span class="keyword">where</span> e.dept_id <span class="operator">=</span> d.id <span class="keyword">and</span> d.name <span class="operator">=</span> <span class="string">&#x27;研发</span></span><br><span class="line"><span class="string">部&#x27;</span>;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>（8）查询工资比 “灭绝” 高的员工信息</strong></p>
<p>①. 查询 “灭绝” 的薪资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> salary <span class="keyword">from</span> emp <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;灭绝&#x27;</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>②. 查询比她工资高的员工数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> salary <span class="operator">&gt;</span> ( <span class="keyword">select</span> salary <span class="keyword">from</span> emp <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;灭绝&#x27;</span> );</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>（9）查询比平均薪资高的员工信息</strong></p>
<p>①. 查询员工的平均薪资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(salary) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>②. 查询比平均薪资高的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> salary <span class="operator">&gt;</span> ( <span class="keyword">select</span> <span class="built_in">avg</span>(salary) <span class="keyword">from</span> emp );</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><strong>（10）查询低于本部门平均工资的员工信息</strong></p>
<p>①. 查询指定部门平均薪资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(e1.salary) <span class="keyword">from</span> emp e1 <span class="keyword">where</span> e1.dept_id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(e1.salary) <span class="keyword">from</span> emp e1 <span class="keyword">where</span> e1.dept_id <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p>②. 查询低于本部门平均工资的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp e2 <span class="keyword">where</span> e2.salary <span class="operator">&lt;</span> ( <span class="keyword">select</span> <span class="built_in">avg</span>(e1.salary) <span class="keyword">from</span> emp e1 <span class="keyword">where</span></span><br><span class="line">e1.dept_id <span class="operator">=</span> e2.dept_id );</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>（11）查询所有的部门信息, 并统计部门的员工人数</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> d.id, d.name , ( <span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> emp e <span class="keyword">where</span> e.dept_id <span class="operator">=</span> d.id ) <span class="string">&#x27;人数&#x27;</span></span><br><span class="line"><span class="keyword">from</span> dept d;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>（12）查询所有学生的选课情况, 展示出学生名称, 学号, 课程名称</strong></p>
<p>表: student , course , student_course<br>
连接条件: <a target="_blank" rel="noopener" href="http://student.id">student.id</a> = student_course.studentid , <a target="_blank" rel="noopener" href="http://course.id">course.id</a> = student_course.courseid</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> s.name , s.no , c.name <span class="keyword">from</span> student s , student_course sc , course c <span class="keyword">where</span></span><br><span class="line">s.id <span class="operator">=</span> sc.studentid <span class="keyword">and</span> sc.courseid <span class="operator">=</span> c.id ;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>注意:</strong> 以上需求的实现方式可能会很多, SQL写法也有很多，只要能满足我们的需求，查询出符合条<br>
件的记录即可。</p>
<h1>事务</h1>
<h2 id="一、事务简介">一、事务简介</h2>
<p><strong>事务</strong> 是一组操作的集合，它是一个不可分割的工作单位，事务会把所有的操作作为一个整体一起向系统提交或撤销操作请求，即这些操作要么同时成功，要么同时失败。</p>
<p><strong>比如:</strong> 张三给李四转账1000块钱，张三银行账户的钱减少1000，而李四银行账户的钱要增加1000。 这一组操作就必须在一个事务的范围内，要么都成功，要么都失败。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232f5c38d340024c6a8f4e62a1fa4bf76a.png" alt="在这里插入图片描述"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234b6401747d4e488380e33b7b4da2fafb.png" alt="在这里插入图片描述"></p>
<p><strong>正常情况:</strong> 转账这个操作, 需要分为以下这么三步来完成 , 三步完成之后, 张三减少1000, 而李四增加1000, 转账成功 :</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ca94f23df57e4e09b9b8e6540d536ff4.png" alt="在这里插入图片描述"></p>
<p><strong>异常情况:</strong> 转账这个操作, 也是分为以下这么三步来完成 , 在执行第三步是报错了, 这样就导致张三减少1000块钱, 而李四的金额没变, 这样就造成了数据的不一致, 就出现问题了。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20239965222ab55146088bdfc4188fdff5b3.png" alt="在这里插入图片描述"></p>
<p>为了解决上述的问题，就需要通过数据的事务来完成，我们只需要在业务逻辑执行之前开启事务，执行完毕后提交事务。如果执行过程中报错，则回滚事务，把数据恢复到事务开始之前的状态。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d3f8a51ea56b45c288bec7ac461375ae.png" alt="在这里插入图片描述"></p>
<p><strong>注意：</strong> 默认MySQL的事务是自动提交的，也就是说，当执行完一条DML语句时，MySQL会立即隐<br>
式的提交事务。</p>
<h2 id="二、事务操作">二、事务操作</h2>
<p><strong>数据准备：</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> account;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> account(</span><br><span class="line">  id <span class="type">int</span> <span class="keyword">primary</span> key AUTO_INCREMENT comment <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">10</span>) comment <span class="string">&#x27;姓名&#x27;</span>,</span><br><span class="line">  money <span class="keyword">double</span>(<span class="number">10</span>,<span class="number">2</span>) comment <span class="string">&#x27;余额&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;账户表&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> account(name, money) <span class="keyword">VALUES</span> (<span class="string">&#x27;张三&#x27;</span>,<span class="number">2000</span>), (<span class="string">&#x27;李四&#x27;</span>,<span class="number">2000</span>);</span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<h3 id="1️⃣未控制事务">1️⃣未控制事务</h3>
<p>🍀（1）测试正常情况</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1. 查询张三余额</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> account <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="comment">-- 2. 张三的余额减少1000</span></span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money <span class="operator">=</span> money <span class="operator">-</span> <span class="number">1000</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="comment">-- 3. 李四的余额增加1000</span></span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money <span class="operator">=</span> money <span class="operator">+</span> <span class="number">1000</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;李四&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>测试完毕之后检查数据的状态, 可以看到数据操作前后是一致的。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f7d7e54dc4804ad1a831b65d5d414cbe.png" alt="在这里插入图片描述"></p>
<p>🍀（2）测试异常情况</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1. 查询张三余额</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> account <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="comment">-- 2. 张三的余额减少1000</span></span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money <span class="operator">=</span> money <span class="operator">-</span> <span class="number">1000</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line">出错了....</span><br><span class="line"><span class="comment">-- 3. 李四的余额增加1000</span></span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money <span class="operator">=</span> money <span class="operator">+</span> <span class="number">1000</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;李四&#x27;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>我们把数据都恢复到2000， 然后再次一次性执行上述的SQL语句(出错了… 这句话不符合SQL语<br>
法,执行就会报错)，检查最终的数据情况, 发现数据在操作前后不一致了。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232c5241bf976b496db0f2a4cc92e2d717.png" alt="在这里插入图片描述"></p>
<h3 id="2️⃣控制事务一">2️⃣控制事务一</h3>
<p>🍀（1）查看/设置事务提交方式</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@autocommit</span> ;</span><br><span class="line"><span class="keyword">SET</span> @<span class="variable">@autocommit</span> <span class="operator">=</span> <span class="number">0</span> ;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>🍀（2）提交事务</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">COMMIT</span>;可以理解成保存</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>🍀（3）回滚事务</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ROLLBACK</span>;撤销</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong> 上述的这种方式，我们是修改了事务的自动提交行为, 把默认的自动提交修改为了手动提<br>
交, 此时我们执行的DML语句都不会提交, 需要手动的执行commit进行提交。</p>
<h3 id="3️⃣控制事务二">3️⃣控制事务二</h3>
<p>🍀（1）开启事务</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">START</span> TRANSACTION 或 <span class="keyword">BEGIN</span> ;</span><br></pre></td></tr></table></figure>
<p>🍀（2）提交事务</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">COMMIT</span>;</span><br></pre></td></tr></table></figure>
<p>🍀（3）回滚事务</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ROLLBACK</span>;</span><br></pre></td></tr></table></figure>
<p><strong>转账案例：</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 开启事务</span></span><br><span class="line"><span class="keyword">start</span> transaction 可理解为打开某个软件</span><br><span class="line"><span class="comment">-- 1. 查询张三余额</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> account <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="comment">-- 2. 张三的余额减少1000</span></span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money <span class="operator">=</span> money <span class="operator">-</span> <span class="number">1000</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;张三&#x27;</span>;</span><br><span class="line"><span class="comment">-- 3. 李四的余额增加1000</span></span><br><span class="line"><span class="keyword">update</span> account <span class="keyword">set</span> money <span class="operator">=</span> money <span class="operator">+</span> <span class="number">1000</span> <span class="keyword">where</span> name <span class="operator">=</span> <span class="string">&#x27;李四&#x27;</span>;</span><br><span class="line"><span class="comment">-- 如果正常执行完毕, 则提交事务</span></span><br><span class="line"><span class="keyword">commit</span>;保存软件</span><br><span class="line"><span class="comment">-- 如果执行过程中报错, 则回滚事务</span></span><br><span class="line"><span class="comment">-- rollback;撤销操作</span></span><br></pre></td></tr></table></figure>
<h2 id="三、事务四大特性">三、事务四大特性</h2>
<ul>
<li>原子性（Atomicity）：事务是不可分割的最小操作单元，要么全部成功，要么全部失败。</li>
<li>一致性（Consistency）：事务完成时，必须使所有的数据都保持一致状态。</li>
<li>隔离性（Isolation）：数据库系统提供的隔离机制，保证事务在不受外部并发操作影响的独立环境下运行。</li>
<li>持久性（Durability）：事务一旦提交或回滚，它对数据库中的数据的改变就是永久的。</li>
</ul>
<p>上述就是事务的四大特性，简称<strong>ACID</strong>。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202351d1017bb9134cecbc3f184aed0cc116.png" alt="在这里插入图片描述"></p>
<h2 id="四、并发事务问题">四、并发事务问题</h2>
<p>🍀（1）赃读：一个事务读到另外一个事务还没有提交的数据。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202332ffe04d81f342158c3b7f039664c5f9.png" alt="在这里插入图片描述"></p>
<p>比如B读取到了A未提交的数据。</p>
<p>🍀（2）不可重复读：一个事务先后读取同一条记录，但两次读取的数据不同，称之为不可重复读。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023fd258725f3414d86a633698241307585.png" alt="在这里插入图片描述"></p>
<p>事务A两次读取同一条记录，但是读取到的数据却是不一样的。</p>
<p>🍀（3）幻读：一个事务按照条件查询数据时，没有对应的数据行，但是在插入数据时，又发现这行数据已经存在，好像出现了 “幻影”。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202376c3232e61ab48f093777c706336c9cf.png" alt="在这里插入图片描述"></p>
<h2 id="五、事务隔离级别">五、事务隔离级别</h2>
<p>为了解决并发事务所引发的问题，在数据库中引入了事务隔离级别。主要有以下几种：</p>
<table>
<thead>
<tr>
<th>隔离级别</th>
<th>脏读</th>
<th>不可重复读</th>
<th>幻读</th>
</tr>
</thead>
<tbody>
<tr>
<td>Read uncommitted</td>
<td>√</td>
<td>√</td>
<td>√</td>
</tr>
<tr>
<td>Read committed</td>
<td>×</td>
<td>√</td>
<td>√</td>
</tr>
<tr>
<td>Repeatable Read(默认)</td>
<td>×</td>
<td>×</td>
<td>√</td>
</tr>
<tr>
<td>Serializable</td>
<td>×</td>
<td>×</td>
<td>×</td>
</tr>
</tbody>
</table>
<p>🍀（1）查看事务隔离级别</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@TRANSACTION_ISOLATION</span>;</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>🍀（2）设置事务隔离级别</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> [ SESSION <span class="operator">|</span> <span class="keyword">GLOBAL</span> ] TRANSACTION ISOLATION LEVEL &#123; READ UNCOMMITTED <span class="operator">|</span></span><br><span class="line">READ COMMITTED <span class="operator">|</span> REPEATABLE READ <span class="operator">|</span> SERIALIZABLE &#125;</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><strong>注意：</strong> 事务隔离级别越高，数据越安全，但是性能越低。</p>
<p>1.不可重复读是由<strong>update</strong>引起的</p>
<p>2.幻读是由<strong>insert</strong>引起的</p>
<h1>基础篇到此结束，感谢陪伴！</h1>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>MYSQL数据库</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://godwad.github.io/posts/2d57d79b.html">https://godwad.github.io/posts/2d57d79b.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>小s今天吃什么</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2023-06-13</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2023-06-28</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;top:2px;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-sekuaibiaoqian"></use></svg></div>数据库</a></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">投喂作者</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://tuchuang.voooe.cn/images/2023/01/04/2.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tuchuang.voooe.cn/images/2023/01/04/2.webp" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://tuchuang.voooe.cn/images/2023/01/04/20f8e49805975b8f8.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tuchuang.voooe.cn/images/2023/01/04/20f8e49805975b8f8.webp" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></button></div><audio id="coinAudio" src="https://npm.elemecdn.com/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer="defer" src="/js/coin.js"></script><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/22062.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/822dBF1363523c8a8dbeF0f91db71Ae0.jpg" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">6 款贼好用的油猴脚本</div></div></a></div><div class="next-post pull-right"><a href="/posts/33094.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=4176005518,117762709&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=708&amp;h=500" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Linux-从入门到入土</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:bold">目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Mysql的安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81-%E4%B8%8B%E8%BD%BDMySQL"><span class="toc-text">一、 下载MySQL</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81-%E5%AE%89%E8%A3%85MySQL"><span class="toc-text">二、 安装MySQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%80%89%E6%8B%A9%E8%AE%BE%E7%BD%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">1. 选择设置类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%80%89%E6%8B%A9%E5%AE%89%E8%A3%85%E7%9A%84%E4%BA%A7%E5%93%81%E5%92%8C%E5%8A%9F%E8%83%BD"><span class="toc-text">2. 选择安装的产品和功能</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%85%88%E9%80%89%E4%B8%AD%E2%80%9CMySQL-Server-5-7-31%E2%80%9D-%EF%BC%8C%E4%B9%8B%E5%90%8E%E7%82%B9%E5%87%BB%E4%B8%8B%E6%96%B9%E7%9A%84%E8%93%9D%E8%89%B2%E2%80%9CAdvanced-Options%E2%80%9D"><span class="toc-text">3. 先选中“MySQL Server 5.7.31” ，之后点击下方的蓝色“Advanced Options”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AE%89%E8%A3%85%E8%B7%AF%E5%BE%84%E5%92%8C%E6%95%B0%E6%8D%AE%E5%AD%98%E6%94%BE%E8%B7%AF%E5%BE%84%EF%BC%8C%E6%9B%B4%E6%94%B9%E5%AE%8C%E6%88%90%E4%B9%8B%E5%90%8E%E7%82%B9%E5%87%BB%E2%80%9COK%E2%80%9D"><span class="toc-text">4. 自定义安装路径和数据存放路径，更改完成之后点击“OK”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E2%80%9COK%E2%80%9D"><span class="toc-text">5. 直接点击“OK”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%9B%B4%E6%94%B9%E5%AE%8C%E6%88%90%E4%B9%8B%E5%90%8E%E7%82%B9%E5%87%BB%E2%80%9CNext%E2%80%9D"><span class="toc-text">6. 更改完成之后点击“Next”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E7%A1%AE%E8%AE%A4%E4%B8%80%E4%B8%8B%E5%AE%89%E8%A3%85%E8%B7%AF%E5%BE%84%E5%92%8C%E6%95%B0%E6%8D%AE%E5%AD%98%E6%94%BE%E8%B7%AF%E5%BE%84%E5%AF%B9%E4%B8%8D%E5%AF%B9%EF%BC%8C%E6%B2%A1%E6%9C%89%E9%97%AE%E9%A2%98%E7%9A%84%E8%AF%9D%E5%B0%B1%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BBNext"><span class="toc-text">7. 确认一下安装路径和数据存放路径对不对，没有问题的话就直接点击Next</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E2%80%9CYes%E2%80%9D"><span class="toc-text">8. 直接点击“Yes”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E5%85%88%E9%80%89%E4%B8%AD%E2%80%9CMySQL-Server5-7-31%E2%80%9D%EF%BC%8C%E8%8B%A5%E7%94%B5%E8%84%91%E4%B8%AD%E6%B2%A1%E6%9C%89%E8%BF%99%E4%B8%AA%E7%8E%AF%E5%A2%83%EF%BC%8C%E4%BC%9A%E6%8F%90%E7%A4%BA%E5%AE%89%E8%A3%85%E2%80%9CMicrosoft-Visual-C-2013%E2%80%9D%E7%8E%AF%E5%A2%83%EF%BC%8C%E7%82%B9%E5%87%BB%E2%80%9CExecute%E2%80%9D"><span class="toc-text">9. 先选中“MySQL Server5.7.31”，若电脑中没有这个环境，会提示安装“Microsoft Visual C++ 2013”环境，点击“Execute”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10-%E5%8B%BE%E9%80%89%E4%B8%AD%E4%B9%8B%E5%90%8E%E7%82%B9%E5%87%BB%E2%80%9CInstall%E2%80%9D"><span class="toc-text">10. 勾选中之后点击“Install”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11-%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90%EF%BC%8C%E7%82%B9%E5%87%BB%E2%80%9CClose%E2%80%9D"><span class="toc-text">11. 安装完成，点击“Close”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-%E7%9C%8B%E5%88%B0%E8%BF%99%E4%B8%AA%E5%AF%B9%E5%8B%BE%E5%B0%B1%E8%AF%B4%E6%98%8E%E8%BF%99%E4%B8%AA%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85%E4%B8%8A%E4%BA%86%EF%BC%8C%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E2%80%9CNext%E2%80%9D"><span class="toc-text">12. 看到这个对勾就说明这个环境安装上了，直接点击“Next”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E2%80%9CExecute%E2%80%9D"><span class="toc-text">13. 直接点击“Execute”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-%E5%87%BA%E7%8E%B0%E8%BF%99%E4%B8%AA%E5%9B%BE%E6%A0%87%E5%B0%B1%E8%AF%B4%E6%98%8E%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F%E4%BA%86%EF%BC%8C%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E2%80%9CNext%E2%80%9D"><span class="toc-text">14. 出现这个图标就说明安装成功了，直接点击“Next”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E2%80%9CNext%E2%80%9D"><span class="toc-text">15. 直接点击“Next”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E2%80%9CNext%E2%80%9D"><span class="toc-text">16. 直接点击“Next”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-%E9%80%89%E6%8B%A9%E5%AE%89%E8%A3%85%E7%B1%BB%E5%9E%8B"><span class="toc-text">17. 选择安装类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-MySQL%E7%9A%84%E9%BB%98%E8%AE%A4%E7%AB%AF%E5%8F%A3%E6%98%AF3306%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E4%BD%9C%E4%BF%AE%E6%94%B9%EF%BC%8C%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E2%80%9CNext%E2%80%9D"><span class="toc-text">18. MySQL的默认端口是3306，不需要作修改，直接点击“Next”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-%E8%BF%99%E9%87%8C%E9%9C%80%E8%A6%81%E8%AE%BE%E7%BD%AEMySQL%E7%9A%84%E5%AF%86%E7%A0%81%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E5%A4%AA%E5%A4%8D%E6%9D%82%EF%BC%8C%E8%AE%BE%E7%BD%AE%E5%AE%8C%E4%BA%86%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E2%80%9CNext%E2%80%9D"><span class="toc-text">19. 这里需要设置MySQL的密码，不需要太复杂，设置完了直接点击“Next”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#20-%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E2%80%9CNext%E2%80%9D"><span class="toc-text">20. 直接点击“Next”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E2%80%9CExecute%E2%80%9D%EF%BC%8C%E5%BC%80%E5%A7%8B%E5%AE%89%E8%A3%85%EF%BC%8C%E7%82%B9%E5%87%BB%E5%AE%89%E8%A3%85%E4%B9%8B%E5%90%8E%E9%9C%80%E8%A6%81%E7%AD%89%E5%BE%85%E7%89%87%E5%88%BB"><span class="toc-text">21. 直接点击“Execute”，开始安装，点击安装之后需要等待片刻</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-%E7%82%B9%E5%87%BB%E2%80%9CFinish%E2%80%9D"><span class="toc-text">22. 点击“Finish”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-%E7%82%B9%E5%87%BB%E2%80%9CNext%E2%80%9D"><span class="toc-text">23. 点击“Next”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-%E7%82%B9%E5%87%BB%E2%80%9CFinish%E2%80%9D%EF%BC%8C%E6%AD%A4%E6%97%B6MySQL%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90"><span class="toc-text">24. 点击“Finish”，此时MySQL安装完成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25-%E5%9C%A8%E5%BC%80%E5%A7%8B%E7%95%8C%E9%9D%A2%E6%90%9C%E7%B4%A2mysql%EF%BC%8C%E7%82%B9%E5%87%BB%E7%AC%AC%E4%B8%80%E4%B8%AAMySQL-5-7-Command-Line-Client"><span class="toc-text">25. 在开始界面搜索mysql，点击第一个MySQL 5.7 Command Line Client</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#26-%E8%BE%93%E5%85%A5%E5%88%9A%E6%89%8D%E8%AE%BE%E7%BD%AE%E7%9A%84MySQL%E7%9A%84%E5%AF%86%E7%A0%81%EF%BC%8C%E6%8C%89Enter%E9%94%AE%EF%BC%88%E5%9B%9E%E8%BD%A6%E9%94%AE%EF%BC%89"><span class="toc-text">26. 输入刚才设置的MySQL的密码，按Enter键（回车键）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#27-%E5%87%BA%E7%8E%B0%E4%B8%8B%E9%9D%A2%E7%95%8C%E9%9D%A2%E5%B0%B1%E8%AF%B4%E6%98%8E%E5%B7%B2%E7%BB%8F%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F%E4%BA%86"><span class="toc-text">27. 出现下面界面就说明已经安装成功了</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81-%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-text">三、 配置环境变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%89%BE%E5%88%B0MySQL%E7%9A%84%E5%AE%89%E8%A3%85%E8%B7%AF%E5%BE%84"><span class="toc-text">1. 找到MySQL的安装路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8F%B3%E5%87%BB%E6%AD%A4%E7%94%B5%E8%84%91%E9%80%89%E6%8B%A9%E2%80%9C%E5%B1%9E%E6%80%A7%E2%80%9D"><span class="toc-text">2. 右击此电脑选择“属性”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%85%88%E7%82%B9%E5%87%BB%E2%80%9C%E9%AB%98%E7%BA%A7%E7%B3%BB%E7%BB%9F%E8%AE%BE%E7%BD%AE%E2%80%9D%EF%BC%8C%E5%86%8D%E7%82%B9%E5%87%BB%E2%80%9C%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E2%80%9D"><span class="toc-text">3. 先点击“高级系统设置”，再点击“环境变量”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%9C%A8%E2%80%9C%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F%E2%80%9D%E4%B8%AD%E9%80%89%E6%8B%A9%E2%80%9CPath%E2%80%9D%EF%BC%8C%E7%82%B9%E5%87%BB%E2%80%9C%E7%BC%96%E8%BE%91%E2%80%9D"><span class="toc-text">4. 在“系统变量”中选择“Path”，点击“编辑”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%82%B9%E5%87%BB%E2%80%9C%E6%96%B0%E5%BB%BA%E2%80%9D%EF%BC%8C%E5%B0%86MySQL%E7%9A%84%E5%AE%89%E8%A3%85%E8%B7%AF%E5%BE%84%E6%B7%BB%E5%8A%A0%E4%B8%8A%E5%8E%BB%EF%BC%8C%E4%B9%8B%E5%90%8E%E7%82%B9%E5%87%BB%E2%80%9C%E7%A1%AE%E5%AE%9A%E2%80%9D"><span class="toc-text">5. 点击“新建”，将MySQL的安装路径添加上去，之后点击“确定”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%9B%B4%E6%8E%A5%E7%82%B9%E5%87%BB%E2%80%9C%E7%A1%AE%E5%AE%9A%E2%80%9D"><span class="toc-text">6. 直接点击“确定”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E9%AA%8C%E8%AF%81%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E6%98%AF%E5%90%A6%E9%85%8D%E7%BD%AE%E5%A5%BD%EF%BC%8C%E6%8C%89%E4%B8%8B%E2%80%9Cwindow-R%E2%80%9D%E9%94%AE-%E5%BC%B9%E5%87%BA%E8%BF%90%E8%A1%8C%E6%A1%86%EF%BC%8C%E8%BE%93%E5%85%A5%E2%80%9Ccmd%E2%80%9D%E8%BF%9B%E5%85%A5window%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="toc-text">7. 验证环境变量是否配置好，按下“window+R”键    弹出运行框，输入“cmd”进入window命令行</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E8%BE%93%E5%85%A5%E2%80%9Cmysql-u-root-p%E2%80%9D%E6%8C%89%E4%B8%8B%E5%9B%9E%E8%BD%A6"><span class="toc-text">8. 输入“mysql -u root -p”按下回车</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81%EF%BC%8C%E6%8C%89%E4%B8%8B%E2%80%9CEnter%E9%94%AE%EF%BC%88%E5%9B%9E%E8%BD%A6%E9%94%AE%EF%BC%89%E2%80%9D%EF%BC%8C%E5%87%BA%E7%8E%B0%E4%B8%8B%E9%9D%A2%E7%95%8C%E9%9D%A2%E5%88%99%E6%98%AF%E5%B7%B2%E7%BB%8F%E9%85%8D%E7%BD%AE%E6%88%90%E5%8A%9F"><span class="toc-text">9. 输入密码，按下“Enter键（回车键）”，出现下面界面则是已经配置成功</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%EF%BC%9A%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="toc-text">四：问题解决</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-%E6%80%BB%E7%BB%93"><span class="toc-text">五.总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">datagrip-mysql可视化软件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-%E5%89%8D%E8%A8%80"><span class="toc-text">一.前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-JetBrains-DataGrip%E4%BB%8B%E7%BB%8D%EF%BC%9A"><span class="toc-text">二.JetBrains DataGrip介绍：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B"><span class="toc-text">三.安装教程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-%E9%BB%98%E8%AE%A4%E6%98%AF%E8%8B%B1%E6%96%87%E7%9A%84%EF%BC%8C%E4%B8%8B%E9%9D%A2%E5%BC%80%E5%A7%8B%E6%9B%B4%E6%8D%A2%E4%B8%AD%E6%96%87%E8%AF%AD%E8%A8%80%E6%95%99%E7%A8%8B"><span class="toc-text">四.默认是英文的，下面开始更换中文语言教程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-DataGrip%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4%E3%80%90%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E3%80%91"><span class="toc-text">五.DataGrip的基本使用步骤【连接数据库】</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-text">解决方法：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%8C%BA%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3"><span class="toc-text">时区问题解决</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-%E4%BD%BF%E7%94%A8DataGrip%E6%93%8D%E4%BD%9CMySQL"><span class="toc-text">六.使用DataGrip操作MySQL</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text"></span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">SQL基本介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81SQL%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">1、SQL基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.数据库中的数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%95%B4%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-text">1.整数类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%B5%AE%E7%82%B9%E6%95%B0%E7%B1%BB%E5%9E%8B%E5%92%8C%E5%AE%9A%E7%82%B9%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.浮点数类型和定点数类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="toc-text">3.字符串类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="toc-text">4.字符串类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E6%97%A5%E6%9C%9F%E4%B8%8E%E6%97%B6%E9%97%B4%E7%B1%BB%E5%9E%8B"><span class="toc-text">5.日期与时间类型</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#5-1-YEAR%E7%B1%BB%E5%9E%8B"><span class="toc-text">5.1 YEAR类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-2-TIME%E7%B1%BB%E5%9E%8B"><span class="toc-text">5.2 TIME类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-3-DATETIME%E7%B1%BB%E5%9E%8B"><span class="toc-text">5.3 DATETIME类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-4-TIMESTAMP%E7%B1%BB%E5%9E%8B"><span class="toc-text">5.4 TIMESTAMP类型</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E4%BA%8C%E8%BF%9B%E5%88%B6%E7%B1%BB%E5%9E%8B"><span class="toc-text">6.二进制类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81SQL%E5%BA%93%E6%93%8D%E4%BD%9C"><span class="toc-text">3、SQL库操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">DDL</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C"><span class="toc-text">1.数据库操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">1) 创建数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">2) 显示数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">3) 使用数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">4) 修改数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">5) 删除数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E6%80%BB%E7%BB%93"><span class="toc-text">6) 总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E8%A1%A8%EF%BC%88%E5%AD%97%E6%AE%B5%EF%BC%89%E6%93%8D%E4%BD%9C"><span class="toc-text">2.表（字段）操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-text">1) 创建数据表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%98%BE%E7%A4%BA%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-text">2) 显示数据表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-text">3) 查看数据表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%9B%B4%E6%94%B9%E6%95%B0%E6%8D%AE%E8%A1%A8"><span class="toc-text">4) 更改数据表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%9B%B4%E6%94%B9%E5%AD%97%E6%AE%B5"><span class="toc-text">5) 更改字段</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0-%E6%96%B0%E5%A2%9E%E5%AD%97%E6%AE%B5"><span class="toc-text">① 新增字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1-%E5%AD%97%E6%AE%B5%E4%BD%8D%E7%BD%AE"><span class="toc-text">② 字段位置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2-%E6%9B%B4%E6%94%B9%E5%AD%97%E6%AE%B5%E5%90%8D"><span class="toc-text">③ 更改字段名</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3-%E4%BF%AE%E6%94%B9%E5%AD%97%E6%AE%B5"><span class="toc-text">④ 修改字段</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%EF%BC%89%E5%88%A0%E9%99%A4%E5%AD%97%E6%AE%B5"><span class="toc-text">6）删除字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%EF%BC%89%E6%80%BB%E7%BB%93"><span class="toc-text">7）总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">DML</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%BC%89%E6%96%B0%E5%A2%9E%E6%95%B0%E6%8D%AE"><span class="toc-text">1）新增数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%9F%A5%E7%9C%8B%E6%95%B0%E6%8D%AE"><span class="toc-text">2、查看数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE"><span class="toc-text">3) 更新数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE"><span class="toc-text">4、删除数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%EF%BC%89%E6%80%BB%E7%BB%93"><span class="toc-text">5）总结</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">DQL（数据库查询语言）：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#select%E6%9F%A5%E8%AF%A2"><span class="toc-text">select查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#as-%E5%8F%AF%E4%BB%A5%E7%BB%99%E5%AD%97%E6%AE%B5%E8%B5%B7%E5%88%AB%E5%90%8D%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E7%BB%99%E8%A1%A8%E8%B5%B7%E5%88%AB%E5%90%8D"><span class="toc-text">as 可以给字段起别名，也可以给表起别名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8E%BB%E9%87%8D%E6%9F%A5%E8%AF%A2distinct"><span class="toc-text">去重查询distinct</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WHERE%E6%9D%A1%E4%BB%B6"><span class="toc-text">WHERE条件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6%EF%BC%9A"><span class="toc-text">了解逻辑运算符：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-2"><span class="toc-text"></span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E7%A7%8D%E5%B8%B8%E7%94%A8%E7%9A%84%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-text">五种常用的聚合函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-text">什么是聚合函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E4%B8%8D%E8%83%BD%E5%B5%8C%E5%A5%97%E8%B0%83%E7%94%A8%E3%80%82%E6%AF%94%E5%A6%82%E4%B8%8D%E8%83%BD%E5%87%BA%E7%8E%B0%E7%B1%BB%E4%BC%BC%E2%80%9CAVG-SUM-%E5%AD%97%E6%AE%B5%E5%90%8D%E7%A7%B0-%E2%80%9D%E5%BD%A2%E5%BC%8F%E7%9A%84%E8%B0%83%E7%94%A8%E3%80%82"><span class="toc-text">聚合函数不能嵌套调用。比如不能出现类似“AVG(SUM(字段名称))”形式的调用。</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#null%E5%80%BC%E4%B8%8D%E5%8F%82%E4%B8%8E%E6%89%80%E6%9C%89%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0%E8%BF%90%E7%AE%97"><span class="toc-text">***null值不参与所有聚合函数运算</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AVG%E5%92%8CSUM%E5%87%BD%E6%95%B0"><span class="toc-text">AVG和SUM函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MIN%E5%92%8CMAX%E5%87%BD%E6%95%B0"><span class="toc-text">MIN和MAX函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#COUNT%E5%87%BD%E6%95%B0"><span class="toc-text">COUNT函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%89%E5%85%B3COUNT%E7%9A%84%E6%95%88%E7%8E%87%E9%97%AE%E9%A2%98"><span class="toc-text">有关COUNT的效率问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GROUP-BY"><span class="toc-text">GROUP BY</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%AE%9E%E7%8E%B0"><span class="toc-text">基本实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%A4%9A%E4%B8%AA%E5%88%97%E5%88%86%E7%BB%84"><span class="toc-text">使用多个列分组</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#GROUP-BY%E4%B8%AD%E4%BD%BF%E7%94%A8WITH-ROLLUP"><span class="toc-text">GROUP BY中使用WITH ROLLUP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HAVING"><span class="toc-text">HAVING</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HAVING%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">HAVING的使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WHERE%E5%92%8CHAVING%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-text">WHERE和HAVING的对比</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-text">执行顺序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81SQL"><span class="toc-text">一、SQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-text">二、执行顺序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%B3%E8%BF%9E%E6%8E%A5-right-join"><span class="toc-text">右连接(right join)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B7%A6%E8%BF%9E%E6%8E%A5-left-join"><span class="toc-text">左连接(left join)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E5%92%8C%E6%8E%92%E5%BA%8F%E2%80%94limit-%E5%92%8C-order-by"><span class="toc-text">分页和排序—limit 和 order by</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#limit%EF%BC%88%E5%88%86%E9%A1%B5%EF%BC%89"><span class="toc-text">limit（分页）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#order-by-%EF%BC%88%E6%8E%92%E5%BA%8F%EF%BC%89"><span class="toc-text">order by （排序）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B"><span class="toc-text">案例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">DCL语句目录</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%AE%A1%E7%90%86%E7%94%A8%E6%88%B7"><span class="toc-text">一、管理用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%9D%83%E9%99%90%E6%8E%A7%E5%88%B6"><span class="toc-text">二、权限控制</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-text">一、字符串函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%95%B0%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-text">二、数值函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-text">三、日期函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%B5%81%E7%A8%8B%E5%87%BD%E6%95%B0"><span class="toc-text">四、流程函数</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">约束</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E7%BA%A6%E6%9D%9F%E6%A6%82%E8%BF%B0"><span class="toc-text">一、约束概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E7%BA%A6%E6%9D%9F%E6%BC%94%E7%A4%BA"><span class="toc-text">二、约束演示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F"><span class="toc-text">三、外键约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%B8%8F%E2%83%A3%E5%A4%96%E9%94%AE%E7%BA%A6%E6%9D%9F%E4%BB%8B%E7%BB%8D"><span class="toc-text">1️⃣外键约束介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%B8%8F%E2%83%A3%E8%AF%AD%E6%B3%95"><span class="toc-text">2️⃣语法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">多表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%A4%9A%E8%A1%A8%E5%85%B3%E7%B3%BB"><span class="toc-text">一、多表关系</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%B8%8F%E2%83%A3%E4%B8%80%E5%AF%B9%E5%A4%9A"><span class="toc-text">1️⃣一对多</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%B8%8F%E2%83%A3%E5%A4%9A%E5%AF%B9%E5%A4%9A"><span class="toc-text">2️⃣多对多</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%B8%8F%E2%83%A3%E4%B8%80%E5%AF%B9%E4%B8%80"><span class="toc-text">3️⃣一对一</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E6%A6%82%E8%BF%B0"><span class="toc-text">二、多表查询概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%B8%8F%E2%83%A3%E6%95%B0%E6%8D%AE%E5%87%86%E5%A4%87"><span class="toc-text">1️⃣数据准备</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%B8%8F%E2%83%A3%E6%A6%82%E8%BF%B0"><span class="toc-text">2️⃣概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%B8%8F%E2%83%A3%E5%88%86%E7%B1%BB"><span class="toc-text">3️⃣分类</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="toc-text">三、内连接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-text">四、外连接</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E8%87%AA%E8%BF%9E%E6%8E%A5"><span class="toc-text">五、自连接</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%B8%8F%E2%83%A3%E8%87%AA%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-text">1️⃣自连接查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%B8%8F%E2%83%A3%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-text">2️⃣联合查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">六、子查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%B8%8F%E2%83%A3%E6%A6%82%E8%BF%B0"><span class="toc-text">1️⃣概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%B8%8F%E2%83%A3%E6%A0%87%E9%87%8F%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">2️⃣标量子查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%B8%8F%E2%83%A3%E5%88%97%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">3️⃣列子查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%EF%B8%8F%E2%83%A3%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">4️⃣行子查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%EF%B8%8F%E2%83%A3%E8%A1%A8%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">5️⃣表子查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2%E6%A1%88%E4%BE%8B"><span class="toc-text">七、多表查询案例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">事务</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E4%BA%8B%E5%8A%A1%E7%AE%80%E4%BB%8B"><span class="toc-text">一、事务简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C"><span class="toc-text">二、事务操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%EF%B8%8F%E2%83%A3%E6%9C%AA%E6%8E%A7%E5%88%B6%E4%BA%8B%E5%8A%A1"><span class="toc-text">1️⃣未控制事务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%EF%B8%8F%E2%83%A3%E6%8E%A7%E5%88%B6%E4%BA%8B%E5%8A%A1%E4%B8%80"><span class="toc-text">2️⃣控制事务一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%EF%B8%8F%E2%83%A3%E6%8E%A7%E5%88%B6%E4%BA%8B%E5%8A%A1%E4%BA%8C"><span class="toc-text">3️⃣控制事务二</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%BA%8B%E5%8A%A1%E5%9B%9B%E5%A4%A7%E7%89%B9%E6%80%A7"><span class="toc-text">三、事务四大特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%B9%B6%E5%8F%91%E4%BA%8B%E5%8A%A1%E9%97%AE%E9%A2%98"><span class="toc-text">四、并发事务问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-text">五、事务隔离级别</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">基础篇到此结束，感谢陪伴！</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background-color: transparent;"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">格言🧬</p><div class="bg-ad"><div>再看看那个光点，它就在这里，这是家园，这是我们 —— 你所爱的每一个人，你认识的一个人，你听说过的每一个人，曾经有过的每一个人，都在它上面度过他们的一生✨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">点击开启星辰之旅</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">猜你想看💡</p><ul class="ft-links"><li><a href="/posts/eec9786.html">魔改指南</a><a href="/box/nav/">网址导航</a></li><li><a href="/social/link/">我的朋友</a><a href="/comments/">留点什么</a></li><li><a href="/personal/about/">关于作者</a><a href="/archives/">文章归档</a></li><li><a href="/categories/">文章分类</a><a href="/tags/">文章标签</a></li><li><a href="/box/Gallery/">我的画廊</a><a href="/personal/bb/">我的唠叨</a></li><li><a href="/site/time/">建设进程</a><a href="/site/census/">网站统计</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">推荐友链⌛</p><div class="ft-img-group"><div class="img-group-item"><a target="_blank" rel="noopener" href="https://www.fomal.cc/" title="Fomalhaut🥝"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2F5680794c-f7f8-4b02-8778-f893746d50e5%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&amp;refer=http%3A%2F%2Fsafe-img.xhscdn.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1689256065&amp;t=158a3f4d7f8445a7830db3e3d0c9855d" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2Fba23f9d6-a343-4775-a4ba-6a75a1d1534a%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&amp;refer=http%3A%2F%2Fsafe-img.xhscdn.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1689256065&amp;t=94cbb7420fdb3fde6174422c4f9ce088" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://inews.gtimg.com/newsapp_bt/0/13613201613/1000" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic1.zhimg.com/v2-ca8c833cf905207881c55be1f8f3d5ec_r.jpg" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F201909%2F11%2F20190911194436_mzunv.thumb.1000_0.jpg&amp;refer=http%3A%2F%2Fc-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1689256273&amp;t=df44fbf97e12f5b8d63a3280de154e87" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fblog%2F202104%2F28%2F20210428162418_ac936.thumb.1000_0.jpg&amp;refer=http%3A%2F%2Fc-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1689256486&amp;t=677806a056194cc8089e0a675d7a0359" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=4014948925,1148047137&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=501&amp;h=500" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F202004%2F27%2F20200427065657_nojeh.thumb.1000_0.jpg&amp;refer=http%3A%2F%2Fc-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1689256098&amp;t=b75f07f327788990c4b90868abdac671" alt=""/></a></div></div></div></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v6.3.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Frame-Hexo-blue.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v4.3.1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Theme-Butterfly-6513df.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="本站采用多线部署，主线路托管于Vercel"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Hosted-Vercel-brightgreen.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://user.51.la/" style="margin-inline:5px" title="本站数据分析得益于51la技术支持"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Analytics-51la-3db1eb.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20226665" style="margin-inline:5px" title="本站已加入萌ICP豪华套餐，萌ICP备20226665号"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/萌ICP备-20226665-fe1384.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://bitiful.dogecast.com/buckets" style="margin-inline:5px" title="本网站经Service Worker分流至缤纷云对象存储"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Bucket-缤纷云-9c62da.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://www.netdun.net/" style="margin-inline:5px" title="本站使用网盾星球提供CDN加速与防护"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/CDN-网盾星球-fff2cc.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本网站源码由Github提供存储仓库"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Source-Github-d021d6.svg" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="右键模式" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>百度搜索</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>空降评论</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>随便逛逛</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>关于博客</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>美化设置</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>切换全屏</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>打印页面</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: '',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: '',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://godwad.github.io/categories/算法/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍡 小sの算法学习笔记 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://godwad.github.io/categories/软件/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍉 小sの软件使用教程 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://godwad.github.io/categories/数据库/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍨 小sの数据库笔记 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://godwad.github.io/categories/演示/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍥 小sの案例演示笔记 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://godwad.github.io/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(33.333333333333336% - 5px);background: #e9e9e9;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--text-bg-hover)}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/26494.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/D5bB596d66E33614A6406961348740cE.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-16</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/26494.html&quot;);" href="javascript:void(0);" alt="">从零开始学手游外挂</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/26494.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/4d7662.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/ex/wallhaven-exejgw.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-14</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/4d7662.html&quot;);" href="javascript:void(0);" alt="">客制化键盘</a><div class="blog-slider__text">人生中的第一个DIY产品</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/4d7662.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2d57d79b.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/3l/wallhaven-3l5d36.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2d57d79b.html&quot;);" href="javascript:void(0);" alt="">MYSQL数据库</a><div class="blog-slider__text">懂的都懂</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2d57d79b.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/54150.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/x6/wallhaven-x6jvdl.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-03-23</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/54150.html&quot;);" href="javascript:void(0);" alt="">算法合集</a><div class="blog-slider__text">🥧内含多达70种算法，后续会补充案例</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/54150.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/62324.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://imgo.68h5.com/6h/img2020/6/8/20/2020060806585602.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-15</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/62324.html&quot;);" href="javascript:void(0);" alt="">c语言项目</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/62324.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/3895.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/DD1dec9A0198314383c5f6F5D7Cc6676.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-06</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/3895.html&quot;);" href="javascript:void(0);" alt="">从零开始的blender教程</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/3895.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/41926.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/FE485Fed50273154B8253b02099BAC95.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-14</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/41926.html&quot;);" href="javascript:void(0);" alt="">windows命令行与批处理基础</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/41926.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/22062.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/822dBF1363523c8a8dbeF0f91db71Ae0.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/22062.html&quot;);" href="javascript:void(0);" alt="">6 款贼好用的油猴脚本</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/22062.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/23040.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/647553239ED3397e91eee03609Bba112.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/23040.html&quot;);" href="javascript:void(0);" alt="">基于 PotPlayer 和 madVR 的播放器的设置教程和方法</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/23040.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/24281.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/4297De6e630538DF9D1327F0e02F08c7.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-12</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/24281.html&quot;);" href="javascript:void(0);" alt="">自制云游戏服务器!月光Moonlight使用教程,使用串流技术将电脑游戏搬运到手机上游玩!(带外网无卡顿串流技术)</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/24281.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2928.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://file.dujin.org/image/yuanshen/466f79e8ly1gzoedikysuj21tm1ioqit.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2928.html&quot;);" href="javascript:void(0);" alt="">alist+raildrive+emby打造家庭影院</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2928.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/65105.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/7p/wallhaven-7ppp33.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/65105.html&quot;);" href="javascript:void(0);" alt="">ChatGPT</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/65105.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/34592.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://file.dujin.org/image/yuanshen/466f79e8ly1gzoecifvvuj21xc1llh70.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-11</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/34592.html&quot;);" href="javascript:void(0);" alt="">游戏playnite</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/34592.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/28254.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wallpapercave.com/wp/wp11267290.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/28254.html&quot;);" href="javascript:void(0);" alt="">关于视频码率的一些问题</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/28254.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/35796.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/C6c96684a65C3fB7afE02F20e2A6ff97.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-12-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/35796.html&quot;);" href="javascript:void(0);" alt="">节点搭建系列</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/35796.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/28738.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img9999.wchunge.cn/i/2022/11/30/w4zx6u.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/28738.html&quot;);" href="javascript:void(0);" alt="">Markdown书写语法</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/28738.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/30613.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img9999.wchunge.cn/i/2022/11/30/w4zefq.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-28</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/30613.html&quot;);" href="javascript:void(0);" alt="">作为一个理工男我觉得这太酷了</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/30613.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/26478.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img9999.wchunge.cn/i/2022/11/24/h4wbvc.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-18</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/26478.html&quot;);" href="javascript:void(0);" alt="">你的素质很差</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/26478.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_14.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">Markdown语法与外挂标签写法汇总</a><div class="blog-slider__text">🥧本文汇总Markdown格式以及外挂标签在网页端的渲染效果，可作为文档进行查询</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/33580.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img9999.wchunge.cn/i/2022/11/24/h2ot24.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-19</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/33580.html&quot;);" href="javascript:void(0);" alt="">有待解决的错误</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/33580.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 320px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('已挂载gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/site/census/'|| '/site/census/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("/api?null",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'null')
    }
  </script><!-- hexo injector body_end end --></body></html>