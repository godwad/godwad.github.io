<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><div id="myscoll"></div><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Linux-从入门到入土 | 不学无墅</title><meta name="keywords" content="LINUX"><meta name="author" content="小s今天吃什么"><meta name="copyright" content="小s今天吃什么"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="Linux学习笔记-B站韩顺平_KK-Greyson的博客-CSDN博客  Linux-从入门到入土   VMware 下载 进入官网的 VMware Workstation Pro 页面，浏览功能特性、应用场景、系统要求等。下滑页面点击 试用 Workstation 16 Pro 下方的下载链接，跳转至下载页面。  在下载页面中下滑，根据操作系统选择合适的产品，在这里以 Windows10 系统">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux-从入门到入土">
<meta property="og:url" content="https://godwad.github.io/posts/33094.html">
<meta property="og:site_name" content="不学无墅">
<meta property="og:description" content="Linux学习笔记-B站韩顺平_KK-Greyson的博客-CSDN博客  Linux-从入门到入土   VMware 下载 进入官网的 VMware Workstation Pro 页面，浏览功能特性、应用场景、系统要求等。下滑页面点击 试用 Workstation 16 Pro 下方的下载链接，跳转至下载页面。  在下载页面中下滑，根据操作系统选择合适的产品，在这里以 Windows10 系统">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img2.baidu.com/it/u=4176005518,117762709&fm=253&fmt=auto&app=138&f=JPEG?w=708&h=500">
<meta property="article:published_time" content="2023-05-31T07:00:57.000Z">
<meta property="article:modified_time" content="2023-06-12T08:26:21.821Z">
<meta property="article:author" content="小s今天吃什么">
<meta property="article:tag" content="LINUX">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img2.baidu.com/it/u=4176005518,117762709&fm=253&fmt=auto&app=138&f=JPEG?w=708&h=500"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://godwad.github.io/posts/33094"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: true
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.js',
      css: 'https://cdnjs.cloudflare.com/ajax/libs/flickr-justified-gallery/2.1.2/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux-从入门到入土',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-12 16:26:21'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="https://cdn1.tianli0.top/npm/element-ui@2.15.6/packages/theme-chalk/lib/index.css"><style id="themeColor"></style><style id="rightSide"></style><style id="transPercent"></style><style id="blurNum"></style><style id="settingStyle"></style><span id="fps"></span><style id="defineBg"></style><style id="menu_shadow"></style><svg aria-hidden="true" style="position:absolute; overflow:hidden; width:0; height:0"><symbol id="icon-sun" viewBox="0 0 1024 1024"><path d="M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z" fill="#FFD878" p-id="8420"></path><path d="M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z" fill="#FFE4A9" p-id="8421"></path><path d="M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z" fill="#4D5152" p-id="8422"></path><path d="M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z" fill="#4D5152" p-id="8423"></path></symbol><symbol id="icon-moon" viewBox="0 0 1024 1024"><path d="M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z" fill="#FFB531" p-id="11345"></path><path d="M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z" fill="#030835" p-id="11346"></path></symbol></svg><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/animate.min.css" media="print" onload="this.media='screen'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="不学无墅" type="application/atom+xml">
</head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img9999.wchunge.cn/i/2022/11/30/xgm0a3.jpg" onerror="onerror=null;src='/assets/r1.jpg'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">50</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">22</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">27</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> 八音盒</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> 影院</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> 八宝箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> 画廊</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> 动画</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> 网址导航</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> 社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> 网站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> 网站统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> 文章统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> 旧时光</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> 个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> 唠叨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-love-sign">                   </use></svg><span class="menu_word" style="font-size:17px"> 小屋</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-paperplane">                   </use></svg><span class="menu_word" style="font-size:17px"> 关于</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">不学无墅</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-home"></use></svg><span class="menu_word" style="font-size:17px"> 首页</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--article"></use></svg><span class="menu_word" style="font-size:17px"> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-guidang1">                   </use></svg><span class="menu_word" style="font-size:17px"> 归档</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-sekuaibiaoqian">                   </use></svg><span class="menu_word" style="font-size:17px"> 标签</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-fenlei">                   </use></svg><span class="menu_word" style="font-size:17px"> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pinweishenghuo"></use></svg><span class="menu_word" style="font-size:17px"> 休闲</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/life/music/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-yinle">                   </use></svg><span class="menu_word" style="font-size:17px"> 八音盒</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/movies/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-dianying1">                   </use></svg><span class="menu_word" style="font-size:17px"> 影院</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/life/games/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-youxishoubing">                   </use></svg><span class="menu_word" style="font-size:17px"> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xiangzi"></use></svg><span class="menu_word" style="font-size:17px"> 八宝箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/box/gallery/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-tubiaozhizuomoban">                   </use></svg><span class="menu_word" style="font-size:17px"> 画廊</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/animation/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-nvwumao">                   </use></svg><span class="menu_word" style="font-size:17px"> 动画</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/box/nav/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-zhifengche">                   </use></svg><span class="menu_word" style="font-size:17px"> 网址导航</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shejiaoxinxi"></use></svg><span class="menu_word" style="font-size:17px"> 社交</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/social/fcircle/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-pengyouquan">                   </use></svg><span class="menu_word" style="font-size:17px"> 朋友圈</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-liuyan">                   </use></svg><span class="menu_word" style="font-size:17px"> 留言板</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/social/link/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-lianjie">                   </use></svg><span class="menu_word" style="font-size:17px"> 友人帐</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-wangye"></use></svg><span class="menu_word" style="font-size:17px"> 网站</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/site/census/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon--tongjibiao">                   </use></svg><span class="menu_word" style="font-size:17px"> 网站统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/echarts/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-shujutongji1">                   </use></svg><span class="menu_word" style="font-size:17px"> 文章统计</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/site/time/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-xianxingshalou">                   </use></svg><span class="menu_word" style="font-size:17px"> 旧时光</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-maoliang"></use></svg><span class="menu_word" style="font-size:17px"> 个人</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/personal/bb/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-qunliaotian">                   </use></svg><span class="menu_word" style="font-size:17px"> 唠叨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/love/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-love-sign">                   </use></svg><span class="menu_word" style="font-size:17px"> 小屋</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/personal/about/"><svg class="menu_icon faa-tada" aria-hidden="true" style="width:1.30em;height:1.30em;vertical-align:-0.15em;fill:currentColor;overflow:hidden;"><use xlink:href="#icon-paperplane">                   </use></svg><span class="menu_word" style="font-size:17px"> 关于</span></a></li></ul></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><div id="nav-right"><div id="search-button"><a class="search faa-parent animated-hover" title="检索站内任何你想要的信息"><svg class="faa-tada icon" style="height:24px;width:24px;fill:currentColor;position:relative;top:6px" aria-hidden="true"><use xlink:href="#icon-valentine_-search-love-find-heart"></use></svg><span> 搜索</span></a></div><a class="meihua faa-parent animated-hover" onclick="toggleWinbox()" title="美化设置-自定义你的风格" id="meihua-button"><svg class="faa-tada icon" style="height:26px;width:26px;fill:currentColor;position:relative;top:8px" aria-hidden="true"><use xlink:href="#icon-tupian1"></use></svg></a><a class="sun_moon faa-parent animated-hover" onclick="switchNightMode()" title="浅色和深色模式转换" id="nightmode-button"><svg class="faa-tada" style="height:25px;width:25px;fill:currentColor;position:relative;top:7px" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon">       </use></svg></a><div id="toggle-menu"><a><i class="fas fa-bars fa-fw"></i></a></div></div></div></nav><div id="post-info"><h1 class="post-title">Linux-从入门到入土</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><svg class="meta_icon post-meta-icon" style="width:30px;height:30px;position:relative;top:10px"><use xlink:href="#icon-rili"></use></svg><span class="post-meta-label">发表于 </span><time class="post-meta-date-created" datetime="2023-05-31T07:00:57.000Z" title="发表于 2023-05-31 15:00:57">2023-05-31</time><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-gengxin1"></use></svg><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-12T08:26:21.821Z" title="更新于 2023-06-12 16:26:21">2023-06-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:18px;height:18px;position:relative;top:5px"><use xlink:href="#icon-biaoqian"></use></svg><a class="post-meta-categories" href="/categories/LINUX/">LINUX</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:8px"><use xlink:href="#icon-charuword"></use></svg><span class="post-meta-label">字数总计:</span><span class="word-count">6.9w</span><span class="post-meta-separator">|</span><svg class="meta_icon post-meta-icon" style="width:20px;height:20px;position:relative;top:5px"><use xlink:href="#icon-shizhong"></use></svg><span class="post-meta-label">阅读时长:</span><span>256分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Linux-从入门到入土"><svg class="meta_icon post-meta-icon" style="width:25px;height:25px;position:relative;top:5px"><use xlink:href="#icon-eye"></use></svg><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_52041525/article/details/123031588">Linux学习笔记-B站韩顺平_KK-Greyson的博客-CSDN博客</a></p>
<blockquote>
<h1>Linux-从入门到入土</h1>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230531150126370.png" alt="image-20230531150126370"></p>
<h1><strong>VMware 下载</strong></h1>
<p>进入官网的 <a target="_blank" rel="noopener" href="https://www.vmware.com/cn/products/workstation-pro.html">VMware Workstation Pro</a> 页面，浏览功能特性、应用场景、系统要求等。下滑页面点击 试用 Workstation 16 Pro 下方的下载链接，跳转至下载页面。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202331ad0bf5a7aa4be2b3ee39d739809c76.png" alt="在这里插入图片描述"><br>
在下载页面中下滑，根据操作系统选择合适的产品，在这里以 Windows10 系统为例，选择 Workstation 16 Pro for Windows，开始下载安装文件。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202328363a31e11147fdbd48b76855f6b820.png" alt="在这里插入图片描述"></p>
<p><strong>VMware 安装</strong></p>
<p>打开下载好的 .exe 文件， 即可开始安装。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023af01969c4f7a4861bc26f60a6e51aa56.png" alt="在这里插入图片描述"></p>
<p>安装位置默认在 C 盘下，在这里我选择安装在 D 盘，安装路径尽量不要有中文。可勾选 增强型键盘<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F&amp;spm=1001.2101.3001.7020">驱动程序</a> ，此功能可更好地处理国际键盘和带有额外按键的键盘。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234cae9f4776a3420e8b4e7f3593e216e2.png" alt="在这里插入图片描述"></p>
<p>一直点击 下一步 等待软件安装完成。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023c4368c5399d54831af44593f46349bcb.png" alt="在这里插入图片描述"></p>
<p>安装成功后点击 许可证 输入密钥激活软件。</p>
<p>将 <a target="_blank" rel="noopener" href="https://blog.seriouszyx.com/2021/vmware-download-and-install.html">密钥</a> （过期了可以自行百度一个）填写到文本框中点击 输入。</p>
<p>安装后可能要求重启系统，重启后进入软件。依次点击导航栏中的 帮助 -&gt; 关于 VMware Workstation ，查看许可证信息的状态，如下图所示即为激活成功。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023fe2f353a32014bfab0e900c9ae3c421d.png" alt="在这里插入图片描述"></p>
<p><strong>VMware创建虚拟机</strong></p>
<p>1、首先打开下载好的VMware软件，在主页上点击“创建新的虚拟机”</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f41e2008da0e46adb37365af58cbd320.png" alt="在这里插入图片描述"></p>
<p>2、弹出向导窗口，“典型”选项安装过程比较简单，“自定义”选项则可以提供更多高级的选项。这里我选择“自定义”</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023118c82e3fc89492288866fc9dd1c0825.png" alt="在这里插入图片描述"></p>
<p>3、选择虚拟机硬件兼容性。理论上来说硬件版本越高，兼容性越好。所以我选择列表中版本最高的Workstation 16.x</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023abd64d84a7b94a4e8ac0cd6af26d7ad3.png" alt="在这里插入图片描述"></p>
<p>4、 安装客户机操作系统。因为该软件比较智能，现在安装会将操作系统直接装好而不需要向导，基于对<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=linux%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85&amp;spm=1001.2101.3001.7020">linux系统安装</a>的学习，这里我选稍后安装。其实只是先后顺序的问题，无太大影响。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202389ca5ba08efc43399dba019ac06526d9.png" alt="在这里插入图片描述"></p>
<p>5、 选择操作系统。这里就看使用者的个人要求了，版本众多，都可以。这里我选择Linux（版本如图）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9ab88217377c44fb979bdc9f6cae762b.png" alt="？？？"></p>
<p>6、下一步，命名虚拟机。为虚拟机起一个好听的名字，在给他安个家（就是命名虚拟机和设置虚拟机文件位置，最好别放到C盘）<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023cec61b227a05456da66b4db0bf7a54ad.png" alt="在这里插入图片描述"></p>
<p>7、下一步，处理器配置。处理器内核总数=处理器数量*每个处理器内核数量，根据自己电脑配置，合理选择数量</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b7cbe4a04b2542a18cd5d18a91c53cdf.png" alt="在这里插入图片描述"></p>
<p>8、设置虚拟机内存。在推荐范围内均可，虚拟机是用多少内存就占多少内存（也用不了多少），所以不用担心浪费，只要不太多或太少就行</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202373f2b5e0bef044f984b3e34f8d74a395.png" alt="在这里插入图片描述"></p>
<p>9、 网络类型。也就是选择网卡类型。一般选第二个或第三个即可。这里我选第三个。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023926ce2230f6f493a9006fba191fbfcec.png" alt="在这里插入图片描述"></p>
<p>10、 后两步选择I/O控制器类型和磁盘类型均选择系统推荐的选项即可</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023119bf1166374473eb6fc1b3e4fce8432.png" alt="在这里插入图片描述"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023c7594f9e55a54421bdb71edcef7ab3d1.png" alt="在这里插入图片描述"></p>
<p>11、选择磁盘。若以前没有配置的磁盘，选第一个选项“创建新虚拟磁盘”，若有则选第二个即可</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202374dbf02d29164c56a06b6beeab46d354.png" alt="在这里插入图片描述"></p>
<p>12、指定磁盘容量。即分配给磁盘的空间大小。推荐大小就够用，也是用多少占多少。注意不要勾选下面的复选框（勾上它就把你设置的磁盘空间全部占为己有了），下面单选选择第一个选项（单个文件便于管理，提高磁盘性能）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d3e2459704f140d6b3b578b312ea4098.png" alt="在这里插入图片描述"></p>
<p>13、到这里虚拟机雏形就准备好了</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023832af73f024a4b2daa024aa6a23c9519.png" alt="在这里插入图片描述"></p>
<p>14、下面通过配置ISO映像文件来安装系统</p>
<p>首先，我们需要访问CentOS的官方网站。并选择好需要下载的<a target="_blank" rel="noopener" href="https://www.centos.org/download/">CentOS</a>的版本以及系统架构。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202380232368a7ce4896851b0f63d0a4e117.png" alt="在这里插入图片描述"></p>
<p>然后点击镜像所在的下载地址，本文中选择使用了来自<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/centos/8-stream/isos/x86_64/">清华源</a>的镜像地址</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20235801fb8ba90241ea9d309e5492bcd3e2.png" alt="在这里插入图片描述"><br>
然后选择一下需要下载的iso镜像文件的版本。如果自己电脑配置比较低，可以选择boot类型的iso镜像文件。本文选择了dvd带图形界面的镜像文件。<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20236bebc52026444bf5b1c63b981f547724.png" alt="在这里插入图片描述"><br>
选择ISO文件准备开机<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202356f70609a97a4935a9513011530247e8.png" alt="在这里插入图片描述"></p>
<h1>网络连接的三种方式</h1>
<h2 id="1、桥接模式">1、桥接模式</h2>
<p>在此模式下，<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E8%99%9A%E6%8B%9F%E6%9C%BA&amp;spm=1001.2101.3001.7020" title="虚拟机">虚拟机</a>就像是独立的主机，和真实的物理主机是一样的地位，可以通过虚拟机所在的物理主机访问外网，外网中的其他主机也可以访问此虚拟机。虚拟机与外网主机通讯需要满足以下条件：</p>
<ul>
<li><strong>虚拟机所创建保存的物理主机与其他主机在同一局域网下</strong></li>
<li><strong>为虚拟机设置一个与创建该虚拟机的主机的物理网卡在同一网段的IP</strong></li>
<li><strong>虚拟机与创建该虚拟机的物理主机设置为桥接模式</strong></li>
</ul>
<p>下面针对以上三个条件进行详解：</p>
<p>条件1只需满足几台电脑连接在同一<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%B1%80%E5%9F%9F%E7%BD%91&amp;spm=1001.2101.3001.7020">局域网</a>即可；</p>
<p>条件2需要设置虚拟机和物理主机的网络在同一<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E7%BD%91%E6%AE%B5&amp;spm=1001.2101.3001.7020" title="网段">网段</a>下，具体设置方法如下（以VM软件为例）：</p>
<p>1、在<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=VW&amp;spm=1001.2101.3001.7020">VW</a>的编辑菜单中选择虚拟网络编辑器，并将VMnet信息中的模式选为桥接模式。若物理主机使用的无线网卡连接局域网，则同样需要在VM中设置为桥接至无线网卡；同理桥接至有线网卡。设置好点击确定即可。</p>
<p>2、设置好桥接模式之后，由于模式的改变，需要在Linux终端中重启网络连接，否则无法实现通讯。重启网络连接的命令行为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart network</span><br></pre></td></tr></table></figure>
<p>3、网络重启之后，在物理主机的系统上（默认为Win）查看当前正在使用的网卡的IP地址：</p>
<p>4、最后在Linux终端上修改虚拟机的IP，为保证虚拟机IP与物理主机的IP在同一网段，需要保证IP地址的前三位是相同，最后一位在符合定义的情况下随意设置即可。命令行操作为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig ens33 10.141.117.12/24</span><br></pre></td></tr></table></figure>
<p>其中，ens33为虚拟机的网卡，/24表示子网掩码</p>
<p>至此，在桥接模式下即可实现虚拟机与其他物理主机的通讯，通讯命令为：ping 其他物理主机的IP地址</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping 10.141.117.22</span><br></pre></td></tr></table></figure>
<h2 id="2、仅主机模式">2、仅主机模式</h2>
<h2 id=""></h2>
<p>仅主机模式表示的是物理主机与物理主机之间用同一局域网连接，虚拟机则是采用的虚拟网络连接，它与物理网络是隔开的，所以此模式下虚拟机与别的物理主机无法实现通信。一般在安装VM之后，软件会自动添加VMnet1和VMnet8两块虚拟网卡。也就是说，<strong>仅主机模式下，只能实现虚拟机和创建虚拟机的物理主机之间的通讯</strong>。该模式通讯需满足的条件为</p>
<ul>
<li><strong>虚拟机的IP和物理主机的VMnet1网卡的IP在同一网段内</strong></li>
</ul>
<p>下面针对该条件进行详解：</p>
<p>1.在VM中设置虚拟网络模式为仅主机模式，然后重启虚拟机的网络</p>
<p>2.在Win中找到VMnet1的IP地址，然后在虚拟机中设置为同一网段即可</p>
<p>3.最后ping 物理主机IP地址</p>
<h2 id="3、NAT模式（网络地址转换模式）">3、NAT模式（网络<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2&amp;spm=1001.2101.3001.7020" title="地址转换">地址转换</a>模式）</h2>
<p>NAT模式对应的虚拟网络为VMnet8，这是一个独立的网络。此模式下物理主机就像是一台支持NAT功能的代理服务器，虚拟机就像是NAT的客户端一样。虚拟机可以使用物理主机的IP地址访问互联网，但由于NAT技术的特点，外部网络中的主机无法主动与NAT模式下的虚拟机进行通讯。也就是说，<strong>只能是由虚拟机到外部网络计算机的单向通信</strong>。<strong>物理主机与NAT模式下的虚拟机是可以互通的，前提是要虚拟机的IP与VMnet8的网卡IP在同一网段内。</strong></p>
<p>此模式的结构图与仅主机模式结构图一样。</p>
<p>主机与NAT模式下的虚拟机是可以互通的，前提是要虚拟机的IP与VMnet8的网卡IP在同一网段内。</p>
<h1>虚拟机克隆</h1>
<h1>虚拟机快照</h1>
<p>在学习阶段我们无法避免的可能损坏Linux操作系统。</p>
<p>如果损坏的话，重新安装一个Linux操作系统就会十分麻烦。</p>
<p><strong>VMware虚拟机（Workstation和Funsion）支持为虚拟机制作快照。</strong></p>
<p><strong>通过快照将当前虚拟机的状态保存下来，在以后可以通过快照恢复虚拟机到保存的状态。</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20237e78a7c4415646d286ab804bbb6e481b.png" alt="img"></p>
<blockquote>
<h2 id="在VMware-Workstation-Pro中制作并还原快照（windows）"><strong>在<strong><strong>VMware Workstation Pro</strong></strong>中制作并还原快照（windows）</strong></h2>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023933f189fafd141cea33b378cfedd421d.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202385506a6f54de46bab3a3d49de804f4c5.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20236dc00b0fadff4e0e99c85e7df3e3399b.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20233129ce570a694f3e8b18603a4ead32a9.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20239b48ec3057494795b7e96815623e08cc.png" alt="img"></p>
<h2 id="vmtools–与电脑主机共享文件">vmtools–与电脑主机共享文件</h2>
<hr>
<h1>VM Tools安装过程</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/westos_yanzheng/article/details/127950684?ops_request_misc=%7B%22request%5Fid%22%3A%22168560441716800227483006%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560441716800227483006&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127950684-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=vmtools&amp;spm=1018.2226.3001.4187#_0">系列文章目录</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/westos_yanzheng/article/details/127950684?ops_request_misc=%7B%22request%5Fid%22%3A%22168560441716800227483006%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560441716800227483006&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127950684-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=vmtools&amp;spm=1018.2226.3001.4187#VM_Tools_12">一、VM Tools安装步骤</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/westos_yanzheng/article/details/127950684?ops_request_misc=%7B%22request%5Fid%22%3A%22168560441716800227483006%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560441716800227483006&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-127950684-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=vmtools&amp;spm=1018.2226.3001.4187#_41">二、安装后无法使用问题解决办法之一</a></li>
</ul>
<hr>
<h2 id="一、VM-Tools安装步骤">一、VM Tools安装步骤</h2>
<h1></h1>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/3f373ae7bd5f4d5ea949996b1dc14b61.png" alt="在这里插入图片描述"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023644595db01c44afda9e7264475e0102f.png" alt="在这里插入图片描述"><br>
此时系统会弹出装载虚拟CD驱动器 点击打开文件</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023fd7e973672284952841bd9aec7db8991.png" alt="在这里插入图片描述"><br>
打开文件后可将 文件夹里的文件全部复制到自己的某个文件夹中，比如桌面</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023bb6b9862677a4aa198f5cd07dd2dea38.png" alt="在这里插入图片描述"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20237451fff1b47e41f88ba87aa52e989367.png" alt="在这里插入图片描述"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023cf178a97e6da47fd91dcc54274ad2099.png" alt="在这里插入图片描述"><br>
<strong>注意：这里的文件名是你自己桌面上那个.gz文件 的名称，根据自己对应的版本来哦</strong></p>
<p>这时候你的桌面上应该多了一个文件夹，下面执行命令：</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd vmware-tools-distrib</span><br><span class="line"></span><br><span class="line">sudo ./vmware-install.pl</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>然后输入密码，一路 enter/YES，就OK了！</p>
<p>到这里VMware tools安装完成，试着将文件拖动到liunx系统当中！<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b6bdafcf88104ea49a3b216c3dcc7188.png" alt="在这里插入图片描述"><br>
重启虚拟机，有个重新安装VM Tools证明安装成功了<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20239be6966949a44d1fb37562245eb98d41.png" alt="在这里插入图片描述"></p>
<hr>
<h2 id="二、安装后无法使用问题解决办法之一">二、安装后无法使用问题解决办法之一</h2>
<p>root用户进入后设置<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9&amp;spm=1001.2101.3001.7020">共享文件夹</a>总是启动</p>
<p>1.更改虚拟机设置，选择“编辑虚拟机设置”，在“选项”中启用“共享文件夹”，然后设置自己方便的文件夹，我这里设置为自己电脑的桌面，方便文件的复制。同时检查“客户机隔离”选项内是否启用拖放和复制粘贴，如果没有记得打开。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231972e8a7aa6d4b579350882af610280d.png" alt="在这里插入图片描述"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20235204aa9f8e8f49f589924b39bcede311.png" alt="在这里插入图片描述"></p>
<p>我设置的是我的桌面<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ec848bf85b5c42a59a1ddc5752b8c326.png" alt="在这里插入图片描述"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202315dbe5a5abfc4479ae1029322ddc3d7d.png" alt="在这里插入图片描述"><br>
2.<strong>找到刚刚设置的文件夹路径</strong>（C:\Users\user\Desktop），将该文件夹路径开启共享权限，为了防止出现问题，我选择把“共享”和“高级共享”都开启</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f4bc4bcfcf9b4b9494c9b844d4e965fb.png" alt="在这里插入图片描述"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023dadc6e2419104d989b9176ee05e12470.png" alt="在这里插入图片描述"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/6f94974cf72b43548d6ec001546aa67f.png" alt="在这里插入图片描述"></p>
<p>3.打开Ubuntu，在终端界面依次输入以下命令，检查共享的文件夹能否在Ubuntu内查看，首先进入mnt/hgfs文件夹，输入“ls”看看共享的文件夹“Desktop”是否存在，如果存在则说明共享成功。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202367a1e1b72a5f49e58ecf5274c6990a7e.png" alt="在这里插入图片描述"><br>
这个时候进入Desktop里面的文件就是WIN桌面的文件</p>
<h1>Linux系统目录结构----重点记忆！</h1>
<p><strong>目录</strong></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_71429850/article/details/125591543?ops_request_misc=%7B%22request%5Fid%22%3A%22168560290716800213024425%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560290716800213024425&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125591543-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&amp;spm=1018.2226.3001.4187#t0">1、Linux目标结构的特点</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_71429850/article/details/125591543?ops_request_misc=%7B%22request%5Fid%22%3A%22168560290716800213024425%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560290716800213024425&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125591543-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&amp;spm=1018.2226.3001.4187#t1">2. Linux目录结构</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_71429850/article/details/125591543?ops_request_misc=%7B%22request%5Fid%22%3A%22168560290716800213024425%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560290716800213024425&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125591543-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&amp;spm=1018.2226.3001.4187#t2">二、Linux文件系统介绍</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_71429850/article/details/125591543?ops_request_misc=%7B%22request%5Fid%22%3A%22168560290716800213024425%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560290716800213024425&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125591543-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&amp;spm=1018.2226.3001.4187#t3">1. 索引介绍：</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_71429850/article/details/125591543?ops_request_misc=%7B%22request%5Fid%22%3A%22168560290716800213024425%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560290716800213024425&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125591543-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&amp;spm=1018.2226.3001.4187#t4">2. Linux链接介绍</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_71429850/article/details/125591543?ops_request_misc=%7B%22request%5Fid%22%3A%22168560290716800213024425%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560290716800213024425&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125591543-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&amp;spm=1018.2226.3001.4187#t5">三、linux文件系统操作</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_71429850/article/details/125591543?ops_request_misc=%7B%22request%5Fid%22%3A%22168560290716800213024425%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560290716800213024425&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125591543-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&amp;spm=1018.2226.3001.4187#t6">1. 文件的基本概念</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_71429850/article/details/125591543?ops_request_misc=%7B%22request%5Fid%22%3A%22168560290716800213024425%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560290716800213024425&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125591543-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&amp;spm=1018.2226.3001.4187#t7">2. Linux系统下的通配符（20个）</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_71429850/article/details/125591543?ops_request_misc=%7B%22request%5Fid%22%3A%22168560290716800213024425%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560290716800213024425&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125591543-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&amp;spm=1018.2226.3001.4187#t8">3. Linux系统下的常用快捷操作（七个）</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_71429850/article/details/125591543?ops_request_misc=%7B%22request%5Fid%22%3A%22168560290716800213024425%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560290716800213024425&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125591543-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&amp;spm=1018.2226.3001.4187#t9">四、Linux文件操作</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_71429850/article/details/125591543?ops_request_misc=%7B%22request%5Fid%22%3A%22168560290716800213024425%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168560290716800213024425&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125591543-null-null.142%5Ev88%5Econtrol_2,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84&amp;spm=1018.2226.3001.4187#t10">五、linux目录操作</a></p>
<hr>
<h2 id="1、Linux目标结构的特点">1、Linux目标结构的特点</h2>
<p>Linux采用的是树型结构。最上层是<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%A0%B9%E7%9B%AE%E5%BD%95&amp;spm=1001.2101.3001.7020">根目录</a>，其他的所有目录都是从根目录出发而生成的。       微软的DOS和windows也是采用树型结构，但是在DOS和 windows中这样的树型结构的根是磁盘分区的盘符，有几个分区就有几个树型结构，他们之间的关系是并列的。但是在linux中，无论操作系统管理几个磁盘分区，这样的目录树只有一个。从结构上讲，各个磁盘分区上的树型目录不一定是并列的。                                                                     Linux的虚拟文件系统允许众多不同类型的文件系统共存，并支持跨文件系统的操作。          Linux的文件是无结构字符流式文件，不考虑文件内部的逻辑结构，只把文件简单地看作是一系列字符的序列。                                                                   Linux的文件可由文件拥有者或超级用户设置相应的访问权限而收到保护。                   Linux把所有的外部设备都看作文件，可以使用与文件系统相同的系统调用来读写外部设备。</p>
<h2 id="2-Linux目录结构">2. <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84&amp;spm=1001.2101.3001.7020">Linux目录结构</a></h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023bdb0282cc3ed40b1a9fefb722ca9e3e8.png" alt="img"></p>
<p><strong>常见：</strong></p>
<p>/：是所有文件的根目录；</p>
<p>/bin：存放二进制可执行命令目录；</p>
<p>/home：用户主目录的基点目录，默认情况每个用户主目录都设在该目录下，如默认：用户user01的主目录是/home/user01，可用~user01表示</p>
<p>/lib：存放标准程序设计库目录，又叫动态链接共享库目录，目录中文件类似windows里的后缀名为dll的文件；</p>
<p>/etc：存放系统管理和配置文件目录；</p>
<p>/dev：存放设备特殊文件目录，如声卡文件，磁盘文件等；</p>
<p>/usr：最庞大的目录，存放应用程序和文件目录；</p>
<p>/proc[不能动]：虚拟目录，是系统内存的映射，可直接访问这个目录来获取系统信息；</p>
<p>/root：系统管理员的主目录（特权阶级）</p>
<p>/var：存放系统产生的经常变化文件的目录，例如打印机、邮件等假脱机目录、日志文件、格式化后的手册页以及一些应用程序的数据文件等；</p>
<p>/tmp：存放公用临时文件目录。</p>
<p>补充：<br>
/etc/rc.d 启动的配置文件和脚本</p>
<p>/sbin 系统管理命令，这里存放的是系统管理员使用的管理程序</p>
<p>/mnt 系统提供这个目录是让用户临时挂载其他的文件系统。</p>
<p>/lost+found 这个目录平时是空的，用于存放系统非正常关机而留下未保存的文件</p>
<p>/opt 软件安装包文件夹</p>
<p>/usr其中包含：</p>
<p>/usr/X11R6 存放X window的目录</p>
<p>/usr/bin 众多的应用程序</p>
<p>/usr/sbin 超级用户的一些管理程序</p>
<p>/usr/doc linux文档</p>
<p>/usr/include linux下开发和编译应用程序所需要的头文件</p>
<p>/usr/lib 常用的动态链接库和软件包的配置文件</p>
<p>/usr/man 帮助文档</p>
<p>/usr/src 源代码，linux内核的源代码就放在/usr/src/linux里</p>
<p>/usr/local/bin 本地增加的命令</p>
<p>/usr/local/lib 本地增加的库</p>
<h2 id="二、Linux文件系统介绍">二、<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Linux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F&amp;spm=1001.2101.3001.7020">Linux文件系统</a>介绍</h2>
<p>文件系统指文件存在的物理空间，linux系统中每个分区都是一个文件系统，都有自己的目录层次结构。                                                                          linux会将这些分属不同分区的、单独的文件系统按一定的方式形成一个系统的总的目录层次结构。                                                                          一个操作系统的运行离不开对文件的操作，因此必然要拥有并维护自己的文件系统。</p>
<h2 id="1-索引介绍：">1. 索引介绍：</h2>
<p>Llinux文件系统使用索引节点来记录文件信息，作用像windows的文件分配表。</p>
<p>索引节点是一个结构，它包含了一个文件的长度、创建及修改时间、权限、所属关系、磁盘中的位置等信息。</p>
<p>一个文件系统维护了一个索引节点的数组，每个文件或目录都与索引节点数组中的唯一一个元素对应。</p>
<p>系统给每个索引节点分配了一个号码，也就是该节点在数组中的索引号，称为索引节点号。</p>
<p>linux文件系统将文件索引节点号和文件名同时保存在目录中。</p>
<p>所以，目录只是将文件的名称和它的索引节点号结合在一起的一张表，目录中每一对文件名称和索引节点号称为一个连接。</p>
<p>对于一个文件来说有唯一的索引节点号与之对应，对于一个索引节点号，却可以有多个文件名与之对应。</p>
<p>因此，在磁盘上的同一个文件可以通过不同的路径去访问它。</p>
<h2 id="2-Linux链接介绍">2. Linux链接介绍</h2>
<p>可以用ln命令对一个已经存在的文件再建立一个新的连接，而不复制文件的内容。连接有软连接和硬连接之分，软连接又叫符号连接。</p>
<h1>linux文件系统操作</h1>
<h2 id="1-文件的基本概念">1. 文件的基本概念</h2>
<p>在linux中，一切皆文件。文件是由创建者定义的，具有文件名的一组相关元素的集合，文件可以是文本文档、图片、程序等。Linux系统下文件名长度根据不同类型文件系统有所不同。</p>
<p>文件取名必须遵守以下规则：<br>
\1. 除“/”外，所有字符都可使用；</p>
<p>\2. 转义字符最好不用，如“ ? ”，&quot; * “（星号），” &quot;（空格），“ $ ”，“ &amp; ”等；</p>
<p>\3. 避免使用“ + ”，“ - ”或“ . ”作为普通文件名的第一个字符（在Linux下以“ . ”开头的文件都是隐藏文件）；</p>
<p>\4. Linux系统的文件名大小写敏感。</p>
<h2 id="2-Linux系统下的通配符（20个）">2. Linux系统下的通配符（20个）</h2>
<p>*  ：通配符，代表任意字符（0到多个）</p>
<p>？：通配符，代表一个字符</p>
<p>#  ：注释</p>
<p>\  ：转义符号，将特殊字符或通配符还原成一般符号</p>
<p>|  ：分割两个管线命令的界定</p>
<p>;  ：连续性命令的界定</p>
<p>~  ：用户的根目录</p>
<p>$  ：变量前需要加的变量值</p>
<p>!  ：逻辑运算中的“非”</p>
<p>/  ：路径分割符号</p>
<p>&gt;  ：输出导向，分别为“取代”和“累加”</p>
<p>&gt;&gt;：输出导向，分别为“取代”和“累加”</p>
<p>’  ：不具有变量置换功能</p>
<p>&quot;  ：具有变量置换功能</p>
<p><code>  ：quote符号，两个</code>中间为可以先执行的指令</p>
<p>()  ：中间为子shell的起始与结束</p>
<p>[]  ：中间为字符组合</p>
<p>{}  ：中间为命令区块组合</p>
<p>&amp;&amp;：当该符号前一个指令执行成功时，执行后一个指令</p>
<p>||  ：当该符号前一个指令执行失败时，执行后一个指令</p>
<h2 id="3-Linux系统下的常用快捷操作（七个）">3. Linux系统下的常用快捷操作（七个）</h2>
<p>Ctrl+C：终止当前命令</p>
<p>Ctrl+D：输入结束</p>
<p>Ctrl+M：相当于Enter</p>
<p>Ctrl+S：暂停屏幕的输出</p>
<p>Ctrl+Q：恢复屏幕的输出</p>
<p>Ctrl+U：在提示符下，将整行命令删除</p>
<p>Ctrl+Z：暂停当前命令</p>
<h2 id="四、Linux文件操作">四、Linux文件操作</h2>
<p>\1. 显示文件内容（6个）：cat、more、less、head、tail</p>
<p>\2. 搜索、排序、去重（三个）：grep、sort、uniq</p>
<p>\3. 比较（两个）：comm、diff</p>
<p>\4. 复制、删除、移动（三个）：cp、rm、mv</p>
<p>\5. 统计（一个）：wc</p>
<p>\6. 查找（一个）：find locate which grep</p>
<p>\7. 压缩解压缩（三个）：bzip2、gzip、tar</p>
<h2 id="五、linux目录操作">五、linux目录操作</h2>
<p>\1. 切换工作目录和显示当前目录（3个）：cd、pwd、ls</p>
<p>\2. 创建和新建目录（2个）：mkdir、rmdir</p>
<p>\3. 改变文件或目录存取权限命令（1个）：权限概念、文件长格式解读、chmod（改编权限）</p>
<p>\4. 改变用户组和文件组（2个）：chgrp、chown</p>
<p>\5. 链接文件（1个）：ln</p>
<h1>Linux远程登录—xshell</h1>
<p>第一步：在Linux上查看SSH的工作状态：打开Linux终端，输入systemctl status <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=sshd&amp;spm=1001.2101.3001.7020">sshd</a>，如图所示，红色方框里的内容说明你安装了SSH并且正在工作；</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202358f23bf43f634e9abefc7710ca634bab.png" alt="58f23bf43f634e9abefc7710ca634bab.png"></p>
<p>第二步：查看服务器的IP地址：打开Linux终端，输入<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=ifconfig&amp;spm=1001.2101.3001.7020">ifconfig</a>，如图所示红色方框里的内容，即为IP地址（每一台电脑都不一样）；<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023798579d9f9ae4020b2c09f6bfd012855.png" alt="798579d9f9ae4020b2c09f6bfd012855.png"></p>
<p>第三步：连通测试：打开Windows系统的黑窗口，按住Windows+R，输入cmd，打开之后直接输入ping+IP地址（为第二步里面的IP地址），显示如图所示，即为连通成功；</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231cc96c3ae15a46cc9fff13c4326c74f7.png" alt="1cc96c3ae15a46cc9fff13c4326c74f7.png"></p>
<p>第四步：提前下载安装好Xmanager5，打开里面的xshell.exe（不止这一种<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95&amp;spm=1001.2101.3001.7020">远程登录</a>工具，也可使用其他的），</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202337ef1c85d65a4e8dbb9062ef4faa4384.png" alt="37ef1c85d65a4e8dbb9062ef4faa4384.png"></p>
<p>即可看到会话窗口，点击新建，<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023fb5328fa55134f948c56fa9a4a289fbf.png" alt="fb5328fa55134f948c56fa9a4a289fbf.png"></p>
<p>为了方便区分，可将名称改为 CentOS 虚拟机，协议和端口号不可以更改，将主机修改为IP地址（为第二步里的IP地址），点击确定，<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ca961a6005d34809a631b37094f43885.png" alt="ca961a6005d34809a631b37094f43885.png"></p>
<p>选择CentOS 虚拟机，点击连接，</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202347026e69d0244acf979b687536f0bd49.png" alt="47026e69d0244acf979b687536f0bd49.png"> 输入root（为超级管理员），点击确定，</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202361306cfbb85045e189bade6152f24dcd.png" alt="61306cfbb85045e189bade6152f24dcd.png"></p>
<p>输入root的密码，再点击确定。<strong>（注意：如果登录失败，可以试试使用普通用户登录，且虚拟机登录的用户也需要是普通用户，虚拟机和xshell的用户需要保持一致。）</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023890620369ed7416c8a35871d238d68ab.png" alt="890620369ed7416c8a35871d238d68ab.png"></p>
<p>如图所示，即为远程登录Linux成功 。<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023431b617a1c544453b5711e6cede6b6cd.png" alt="431b617a1c544453b5711e6cede6b6cd.png"></p>
<h1>Linux远程传输文件—xtfp6</h1>
<h2 id="4-3-远程上传下载文件-Xftp6">4.3 远程上传下载文件-Xftp6</h2>
<h3 id="4-3-1-Xftp介绍">4.3.1 Xftp介绍</h3>
<p>​    是一个基于 windows 平台的功能强大的 SFTP、FTP 文件传输软件。使用了 Xftp 以后，windows 用户能安全地在 UNIX/Linux 和 Windows PC 之间传输文件</p>
<p>​    <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f3f4e7bd1dff40e98b8fdbeed8edb5f6.png" alt="img"><br>
​    软件下载方法在前面说过了</p>
<h3 id="4-3-2-Xftp6安装">4.3.2 Xftp6安装</h3>
<p><strong>步骤一：以管理员的身份运行 这个安装包</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20230467116424c9405f81b82a041c18010b.png" alt="img"></p>
<p><strong>点击下一步</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/250bdc0f558c4912a25be2fd5e72fb71.png" alt="img"></p>
<p><strong>接受协议，点击下一步</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d42f0c7b8d794ba7a74de78f71bb7aac.png" alt="img"></p>
<p><strong>用户名和公式名称默认，点击下一步</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202331c3e62c5664485dbd451937c41b283b.png" alt="img"></p>
<p><strong>步骤二：选择安装目录，点击下一步</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20237482dc557eda4a87aa6c78b84b6b6e11.png" alt="img"></p>
<p><strong>点击安装</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/d2029bad6ce1435bab628035e852e696.png" alt="img"><br>
<strong>安装成功，点击完成</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20233f8d74bdbbe44329ad9c9ac6c711a3b8.png" alt="img"></p>
<p><strong>到这里 Xftp6 就安装成功了！</strong></p>
<h3 id="4-3-3-Xftp6的配置和使用">4.3.3 Xftp6的配置和使用</h3>
<p><strong>步骤一：双击打开 Xftp6，点击新建</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023bb82c5c083884651be08d6a624c0f5df.png" alt="img"></p>
<p><strong>步骤二：输入会话名称，可以随意 =&gt; 输入主机地址，要连接的虚拟机的IP地址 =&gt; 协议选择：SFTP =&gt; 端口号选则：22。点击确定。</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023a3d8b72ff3ba42cea0efbdb5b14e02cc.png" alt="img"></p>
<p><strong>步骤三：选择刚刚创建的会话，点击连接</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ccfe7590f65342afa5e865097e23a6a0.png" alt="img"><br>
<strong>点击一次性接受</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f4f796db6f9f4e578ecde8dec814f5c1.png" alt="img"></p>
<p>**步骤四：输入用户名，点击确定。输入密码，点击确定。（*<em>这里的用户名和密码，就是你虚拟机的用户名密码，*<em>账号为：root，密码为：root）</em></em><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023253a5dbda6014defbce1ca271c1f04df.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232084a6b9d6354ffbab00c35069ddc35f.png" alt="img"></p>
<p><strong>这个时候就连接成功了。左边为我们 Windows 的文件目录，而右边的是 虚拟机Linux 的文件目录。</strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20235f205cdb227d462fadac5cf8b06c3265.png" alt="img"></p>
<h3 id="4-3-4-使用-Xftp6-传输文件">4.3.4 使用 Xftp6 传输文件</h3>
<p><strong>鼠标右击 需要传输到Linux虚拟机的文件，点击传输。</strong></p>
<h3 id="img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202325d93282e7d24a9aa991adf47f96e6df.png" alt="img"></h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023453e4f6bfd014271822e922a255e33c4.png" alt="img"></p>
<p><strong>此时打开Linux虚拟机，进入/opt目录下，就可以查看到这张图片</strong><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023985ecd8d11544d989af7d3662cec959b.png" alt="img"></p>
<p><strong>到这，我们的文件传输就成功了。同样的道理，也可以把Linux中的文件传输到Windows。</strong></p>
<h1>Linux中的记事本软件–vim</h1>
<h3 id="一、VIM编辑器">一、<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=VIM%E7%BC%96%E8%BE%91%E5%99%A8&amp;spm=1001.2101.3001.7020">VIM编辑器</a></h3>
<h4 id="1）vi概述">1）vi概述</h4>
<p>vi（visual editor）编辑器通常被简称为vi，它是Linux和Unix系统上最基本的文本编辑器，类似于Windows 系统下的notepad（记事本）编辑器。</p>
<h4 id="2）vim编辑器">2）vim编辑器</h4>
<p>Vim(Vi improved)是vi编辑器的加强版，比vi更容易使用。vi的命令几乎全部都可以在vim上使用。</p>
<h4 id="3）vim编辑器的安装">3）vim编辑器的安装</h4>
<h5 id="☆-已安装">☆ 已安装</h5>
<p>Linux通常都已经默认安装好了 vi 或 Vim 文本编辑器，我们只需要通过vim命令就可以直接打开vim编辑器了，如下图所示：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210218231103422.png" alt="vim"></p>
<h5 id="☆-未安装">☆ 未安装</h5>
<p>有些精简版的Linux操作系统，默认并没有安装vim编辑器（可能自带的是vi编辑器）。当我们在终端中输入vim命令时，系统会提示&quot;command not found&quot;。</p>
<p>解决办法：有网的前提下，可以使用yum工具对vim编辑器进行安装</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装vim且询问是否时自动选择yes</span></span><br><span class="line"><span class="comment"># yum install vim -y</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<h4 id="4）vim编辑器的四种模式（-）">4）vim编辑器的四种模式（!）</h4>
<h5 id="☆-命令模式">☆ 命令模式</h5>
<p>使用VIM编辑器时，默认处于命令模式。在该模式下可以移动光标位置，可以通过快捷键对文件内容进行复制、粘贴、删除等操作。</p>
<h5 id="☆-编辑模式或输入模式">☆ 编辑模式或输入模式</h5>
<p>在命令模式下输入小写字母a或小写字母i即可进入编辑模式，在该模式下可以对文件的内容进行编辑</p>
<h5 id="☆-末行模式">☆ 末行模式</h5>
<p>在命令模式下输入冒号:即可进入末行模式，可以在末行输入命令来对文件进行查找、替换、保存、退出等操作</p>
<h5 id="☆-可视化模式">☆ 可视化模式</h5>
<p>可以做一些列选操作（通过方向键选择某些列的内容,类似于Windows鼠标刷黑）</p>
<h3 id="二、VIM四种模式的关系">二、VIM四种模式的关系</h3>
<h4 id="1）VIM四种模式">1）VIM四种模式</h4>
<ul>
<li>命令模式</li>
<li>编辑模式</li>
<li>末行模式</li>
<li>可视化模式</li>
</ul>
<h4 id="2）VIM四种模式的关系">2）VIM四种模式的关系</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210217160304749.png" alt="Vim编辑器模式关系图"></p>
<h3 id="三、VIM编辑器的使用">三、VIM编辑器的使用</h3>
<h4 id="1）使用vim打开文件">1）使用vim打开文件</h4>
<p>基本语法：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim  文件名称</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>① 如果文件已存在，则直接打开</p>
<p>② 如果文件不存在，则vim编辑器会自动在内存中创建一个新文件</p>
<p>案例：使用vim命令打开readme.txt文件</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim readme.txt</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="2）vim编辑器保存文件">2）vim编辑器保存文件</h4>
<p>在任何模式下，连续按两次Esc键，即可返回到命令模式。然后按冒号<code>:</code>，进入到末行模式，输入<code>wq</code>，代表保存并退出。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210217161813558.png" alt="Vim 低行模式 wq 保存退出"></p>
<h4 id="3）vim编辑器强制退出（不保存）">3）vim编辑器强制退出（不保存）</h4>
<p>在任何模式下，连续按两次Esc键，即可返回到命令模式。然后按冒号：，进入到末行模式，输入q!，代表强制退出但是不保存文件。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210217162129596.png" alt="Vim 低行模式 Q叹强制退出"></p>
<h2 id="vim命令大全">vim命令大全</h2>
<h3 id="1-vim介绍">1.<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=vim&amp;spm=1001.2101.3001.7020">vim</a>介绍</h3>
<p><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=vim%E7%BC%96%E8%BE%91%E5%99%A8&amp;spm=1001.2101.3001.7020">vim编辑器</a>有三种模式：</p>
<p>命令模式、编辑模式、末行模式</p>
<p><strong>模式间切换方法</strong>：<br>
（1）命令模式下，输入<code>:</code>后，进入末行模式<br>
（2）末行模式下，按<code>esc</code>慢退、按两次<code>esc</code>快退、或者删除所有命令，可以回到命令模式<br>
（3）命令模式下，按下<code>i</code>、<code>a</code>等键，可以计入编辑模式<br>
（4）编辑模式下，按下<code>esc</code>，可以回到命令模式</p>
<h3 id="vim打开文件："><strong>vim打开文件</strong>：</h3>
<table>
<thead>
<tr>
<th>Vi 使用的选项</th>
<th>说 明</th>
</tr>
</thead>
<tbody>
<tr>
<td>vim filename</td>
<td>打开或新建一个文件，并将光标置于第一行的首部</td>
</tr>
<tr>
<td>vim -r filename</td>
<td>恢复上次 vim 打开时崩溃的文件</td>
</tr>
<tr>
<td>vim -R filename</td>
<td>把指定的文件以只读方式放入 Vim 编辑器中</td>
</tr>
<tr>
<td>vim + filename</td>
<td>打开文件，并将光标置于最后一行的首部</td>
</tr>
<tr>
<td>vi +n filename</td>
<td>打开文件，并将光标置于第 n 行的首部</td>
</tr>
<tr>
<td>vi +/pattern filename</td>
<td>打幵文件，并将光标置于第一个与 pattern 匹配的位置</td>
</tr>
<tr>
<td>vi -c command filename</td>
<td>在对文件进行编辑前，先执行指定的命令</td>
</tr>
</tbody>
</table>
<h3 id="2-命令模式">2.命令模式</h3>
<h4 id="1-光标移动">1.<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%85%89%E6%A0%87&amp;spm=1001.2101.3001.7020">光标</a>移动</h4>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>jkhl</td>
<td>基本上下左右</td>
</tr>
<tr>
<td>gg</td>
<td>光标移动到文档首行</td>
</tr>
<tr>
<td>G</td>
<td>光标移动到文档尾行</td>
</tr>
<tr>
<td>^或_</td>
<td>光标移动到行首第一个非空字符</td>
</tr>
<tr>
<td>home键或0或者g0</td>
<td>光标移动到行首第一个字符</td>
</tr>
<tr>
<td>g_</td>
<td>光标移动到行尾最后一个非空字符</td>
</tr>
<tr>
<td>end或或者 g 或者g或者<em>g</em></td>
<td>光标移动到行尾最后一个字符</td>
</tr>
<tr>
<td>gm</td>
<td>光标移动到当前行中间处</td>
</tr>
<tr>
<td>b/B</td>
<td>光标向前移动一个单词（大写忽略/-等等特殊字符）</td>
</tr>
<tr>
<td>w/W</td>
<td>光标向后移动一个单词（大写忽略/-等等特殊字符）</td>
</tr>
<tr>
<td>e/E</td>
<td>移到单词结尾（大写忽略/-等等特殊字符）</td>
</tr>
<tr>
<td>ctrl+b或pageUp键</td>
<td>翻屏操作，向上翻</td>
</tr>
<tr>
<td>ctrl+f或pageDn键</td>
<td>翻屏操作，向下翻</td>
</tr>
<tr>
<td>数字+G</td>
<td>快速将光标移动到指定行</td>
</tr>
<tr>
<td>`.</td>
<td>移动到上次编辑处</td>
</tr>
<tr>
<td>数字+上下方向键</td>
<td>以当前光标为准，向上/下移动n行</td>
</tr>
<tr>
<td>数字+左右方向键</td>
<td>以当前光标为准，向左/右移动n个字符</td>
</tr>
<tr>
<td>H</td>
<td>移动到屏幕顶部</td>
</tr>
<tr>
<td>M</td>
<td>移动到屏幕中间</td>
</tr>
<tr>
<td>L</td>
<td>移动到屏幕尾部</td>
</tr>
<tr>
<td>z+Enter键</td>
<td>当前行在屏幕顶部</td>
</tr>
<tr>
<td>z+ .</td>
<td>当前行在屏幕中间</td>
</tr>
<tr>
<td>z+ -</td>
<td>当前行在屏幕底部</td>
</tr>
<tr>
<td>shift+6</td>
<td>光标移动到行首</td>
</tr>
<tr>
<td>shift+4</td>
<td>光标移动到行尾</td>
</tr>
<tr>
<td>-</td>
<td>移动到上一行第一个非空字符</td>
</tr>
<tr>
<td>+</td>
<td>移动到下一行第一个非空字符</td>
</tr>
<tr>
<td>)</td>
<td>向前移动一个句子</td>
</tr>
<tr>
<td>(</td>
<td>向后移动一个句子</td>
</tr>
<tr>
<td>}</td>
<td>向前移动一个段落</td>
</tr>
<tr>
<td>{</td>
<td>向前移动一个段落</td>
</tr>
<tr>
<td>count l</td>
<td>移动到count 列</td>
</tr>
<tr>
<td>counth</td>
<td>向左移动count 字符</td>
</tr>
<tr>
<td>countl</td>
<td>向右移动count字符</td>
</tr>
<tr>
<td>countgo</td>
<td>移动到count字符</td>
</tr>
</tbody>
</table>
<h4 id="2-选中内容">2.选中内容</h4>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>v</td>
<td>进行字符选中</td>
</tr>
<tr>
<td>V 或shift+v</td>
<td>进行行选中</td>
</tr>
<tr>
<td>gv</td>
<td>选中上一次选择的内容</td>
</tr>
<tr>
<td>o</td>
<td>光标移动到选中内容另一处结尾</td>
</tr>
<tr>
<td>O</td>
<td>光标移动到选中内容另一处角落</td>
</tr>
<tr>
<td>ctr + V</td>
<td>进行块选中</td>
</tr>
</tbody>
</table>
<h4 id="3-复制（配合粘贴命令p使用）">3.复制（配合粘贴命令p使用）</h4>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>y</td>
<td>复制已选中的文本到剪贴板</td>
</tr>
<tr>
<td>n+yy</td>
<td>复制光标所在行，此命令前可以加数字 n，可复制多行</td>
</tr>
<tr>
<td>yw</td>
<td>复制光标位置的单词</td>
</tr>
<tr>
<td>ctrl+v + 方向键+yy</td>
<td>ctrl+v，并按方向键选中区块，按下yy复制</td>
</tr>
</tbody>
</table>
<h4 id="4-剪切">4.剪切</h4>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>dd</td>
<td>剪切<strong>光标所在行</strong></td>
</tr>
<tr>
<td>数字+dd</td>
<td>以光标所在行为准（包含当前行），<strong>向下剪切指定行数</strong></td>
</tr>
<tr>
<td>D</td>
<td>剪切光标所在行</td>
</tr>
</tbody>
</table>
<h4 id="5-粘贴">5.粘贴</h4>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>p</td>
<td>将剪贴板中的内容<strong>粘贴到光标后</strong></td>
</tr>
<tr>
<td>P（大写）</td>
<td>将剪贴板中的内容<strong>粘贴到光标前</strong></td>
</tr>
</tbody>
</table>
<h4 id="6-删除">6.删除</h4>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>删除<strong>光标所在位置</strong>的字符</td>
</tr>
<tr>
<td>X(大写)</td>
<td>删除<strong>光标前</strong>一个字符</td>
</tr>
<tr>
<td>dd</td>
<td>删除<strong>光标所在行</strong>，删除之后，<strong>下一行上移</strong></td>
</tr>
<tr>
<td>D</td>
<td>删除<strong>光标位置到行尾</strong>的内容，删除之后，<strong>下一行不上移</strong></td>
</tr>
<tr>
<td>ndd</td>
<td>删除当前行（包括此行）后 n 行文本</td>
</tr>
<tr>
<td>dw</td>
<td>移动光标到单词的开头以删除该单词</td>
</tr>
<tr>
<td>dG</td>
<td>删除光标所在行一直到文件末尾的所有内容</td>
</tr>
<tr>
<td>:a1,a2d</td>
<td>删除从 a1 行到 a2 行的文本内容</td>
</tr>
</tbody>
</table>
<h4 id="7-撤销-恢复">7.撤销/恢复</h4>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>u</td>
<td>撤销</td>
</tr>
<tr>
<td>ctrl+r</td>
<td>恢复</td>
</tr>
<tr>
<td>U(大写)</td>
<td>撤销所有编辑</td>
</tr>
</tbody>
</table>
<h4 id="8-字符转换">8.字符转换</h4>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>~</td>
<td>转换大小写</td>
</tr>
<tr>
<td>u</td>
<td>变成小写</td>
</tr>
<tr>
<td>U</td>
<td>变成大写</td>
</tr>
</tbody>
</table>
<h4 id="9-编辑命令的快捷键">9.编辑命令的快捷键</h4>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>↑或ctr + p</td>
<td>上一条命令</td>
</tr>
<tr>
<td>↓或ctr + n</td>
<td>下一条命令</td>
</tr>
<tr>
<td>ctr + b</td>
<td>移动到命令行开头</td>
</tr>
<tr>
<td>ctr + e</td>
<td>移动到命令行结尾</td>
</tr>
<tr>
<td>ctr + ←</td>
<td>向左一个单词</td>
</tr>
<tr>
<td>ctr + →</td>
<td>向右一个单词</td>
</tr>
</tbody>
</table>
<h3 id="3-末行模式-xxx命令">3.末行模式(: xxx命令)</h3>
<h4 id="1-保存-退出文件操作">1.保存/退出文件操作</h4>
<table>
<thead>
<tr>
<th>命令</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>:wq</td>
<td>保存并退出 Vim 编辑器</td>
</tr>
<tr>
<td>:wq!</td>
<td>保存并强制退出 Vim 编辑器</td>
</tr>
<tr>
<td>:q</td>
<td>不保存就退出 Vim 编辑器</td>
</tr>
<tr>
<td>:q!</td>
<td>不保存，且强制退出 Vim 编辑器</td>
</tr>
<tr>
<td>:w</td>
<td>保存但是不退出 Vim 编辑器</td>
</tr>
<tr>
<td>:w!</td>
<td>强制保存文本</td>
</tr>
<tr>
<td>:w filename</td>
<td>另存到 filename 文件</td>
</tr>
<tr>
<td>x！</td>
<td>保存文本，并退出 Vim 编辑器</td>
</tr>
<tr>
<td>ZZ</td>
<td>直接退出 Vim 编辑器</td>
</tr>
</tbody>
</table>
<h4 id="2-查找：“-关键词”">2.查找：“/关键词”</h4>
<p>在查找结果中，用<code>N</code>、<code>n</code>可以切换上下结果；输入<code>nohl</code>，可以取消高亮</p>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>/abc</td>
<td>从光标所在位置<strong>向前查找</strong>字符串 abc</td>
</tr>
<tr>
<td>/^abc</td>
<td>查找以 abc 为行首的行</td>
</tr>
<tr>
<td>/abc$</td>
<td>查找以 abc 为行尾的行</td>
</tr>
<tr>
<td>?abc</td>
<td>从光标所在位置<strong>向后查找</strong>字符串 abc</td>
</tr>
<tr>
<td>n或；</td>
<td>向同一方向重复上次的查找指令</td>
</tr>
<tr>
<td>N或,</td>
<td>向相反方向重复上次的查找指定</td>
</tr>
</tbody>
</table>
<h4 id="3-替换">3.替换</h4>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>r</td>
<td>替换光标所在位置的字符</td>
</tr>
<tr>
<td>R</td>
<td>从光标所在位置开始替换字符，其输入内容会覆盖掉后面等长的文本内容，按“Esc”可以结束</td>
</tr>
<tr>
<td><code>:s/a1/a2</code></td>
<td>替换<strong>当前光标所在行第一处</strong>符合条件的内容</td>
</tr>
<tr>
<td><code>:s/a1/a2/g</code></td>
<td>替换<strong>当前光标所在行</strong>所有的 a1 都用 a2 替换</td>
</tr>
<tr>
<td><code>:%s/a1/a2</code></td>
<td>替换<strong>所有行</strong>中，<strong>第一处</strong>符合条件的内容</td>
</tr>
<tr>
<td><code>:%s/a1/a2/g</code></td>
<td>替换<strong>所有行</strong>中，<strong>所有</strong>符合条件的内容</td>
</tr>
<tr>
<td><code>:n1,n2 s/a1/a2</code></td>
<td>将文件中 <strong>n1 到 n2 行</strong>中<strong>第一处</strong> a1 都用 a2 替换</td>
</tr>
<tr>
<td><code>:n1,n2 s/a1/a2/g</code></td>
<td>将文件中 <strong>n1 到 n2 行</strong>中<strong>所有</strong> a1 都用 a2 替换</td>
</tr>
</tbody>
</table>
<h4 id="4-行号显示：“-set-nu”">4.行号显示：“: set nu”;</h4>
<ol>
<li>行号显示<code>:set nu</code></li>
<li>取消行号显示：<code>:set nonu</code></li>
</ol>
<h4 id="5-文件切换">5.文件切换</h4>
<p>使用vim打开多个文件后，在末行模式下可以进行切换。</p>
<ol>
<li>查看当前已经打开的所有文件：<code>:files</code>(%a表示激活状态，#表示上一个打开的文件)</li>
<li>切换到指定文件：<code>:open 文件名</code></li>
<li>切换到上一个文(back previous)：<code>:bp</code></li>
<li>切换到下一个文件(back next)：<code>:bn</code></li>
</ol>
<h4 id="4-编辑模式">4.编辑模式</h4>
<table>
<thead>
<tr>
<th>快捷键</th>
<th>功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>i</td>
<td>在当前<strong>光标所在位置插入</strong>，光标后的文本相应向右移动</td>
</tr>
<tr>
<td>I</td>
<td>在<strong>光标所在行的行首插入</strong>，行首是该行的第一个非空白字符，相当于光标移动到行首执行 i 命令</td>
</tr>
<tr>
<td>o</td>
<td>在<strong>光标所在行的下插入</strong>新的一行。光标停在空行首，等待输入文本</td>
</tr>
<tr>
<td>O（大写）</td>
<td>在<strong>光标所在行的上插入</strong>新的一行。光标停在空行的行首，等待输入文本</td>
</tr>
<tr>
<td>a</td>
<td>在当前<strong>光标所在位置之后插入</strong></td>
</tr>
<tr>
<td>A</td>
<td>在<strong>光标所在行的行尾插入</strong>，相当于光标移动到行尾再执行 a 命令</td>
</tr>
<tr>
<td>esc键</td>
<td>退出编辑模式</td>
</tr>
</tbody>
</table>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230601172933668.png" alt="image-20230601172933668"></p>
<h4 id="5-扩展">5.扩展</h4>
<p>1.代码颜色显示：“：syntax on/off”</p>
<p>2.<strong>vim内置计算器</strong>：<br>
a.进入编辑模式<br>
b.按<code>“ctrl+r</code>，光标变成引号，，输入<code>=</code>，光标转到最后一行<br>
c.输入需要计算的内容，按下enter后，计算结果回替代上一步中的引号，光标恢复</p>
<p>3.<strong>vim的配置</strong><br>
a.文件打开时，末行模式下输入的配置为临时配置，关闭文件后配置无效<br>
b.修改个人配置文件，可以永久保存个人配置（~/.vimrc，如果没有可以自行创建）<br>
c.修改全局配置文件，对每个用户生效（vim自带，/etc/vimrc）</p>
<p>注：个人配置文件优先级更高，当个人配置和全局配置发生冲突时，系统以当前用户的个人配置文件为准</p>
<p>4.异常退出<br>
在编辑文件后，未正常保存退出时，会产生异常退出交换文件（.原文件名.swp）<br>
将交换文件删除后，再次打开文件时，无提示：“#rm -f .原文件名.swp”</p>
<p>5.<strong>别名机制</strong>：自定义指令<br>
Linux中，存在一个别名映射文件： ~/.bashrc<br>
修改文件内容，可以自定义指令，重新登录账号后生效</p>
<p>6.<strong>文件快捷方式</strong><br>
对于深层文件，可以创建文件快捷方式，便于后续操作：#ln -s 源路径 新路径<br>
\7. <strong>退出方式</strong><br>
（1）在vim中退出文件编辑模式，可以使用<code>:q</code>或者<code>:wq</code><br>
（2）建议使用<code>:x</code>：使用效果等同于<code>wq</code>，如果文件有改动则先保存后退出；但是如果文件没有做修改，会直接退出，不会修改文件更新时间，避免用户混淆文件的修改时间</p>
<h3 id="五、可视化模式">五、可视化模式</h3>
<h4 id="1）如何进入到可视化模式">1）如何进入到可视化模式</h4>
<p>在命令模式中，直接按ctrl + v（可视块）或V（可视行）或v（可视），然后按下↑ ↓ ← →方向键来选中需要复制的区块，按下y 键进行复制（不要按下yy），最后按下p 键粘贴</p>
<p>退出可视模式按下Esc</p>
<h4 id="2）可视化模式复制操作">2）可视化模式复制操作</h4>
<p>第一步：在命令模式下，直接按小v，进入可视化模式</p>
<p>第二步：使用方向键↑ ↓ ← →选择要复制的内容，然后按y键</p>
<p>第三步：移动光标，停在需要粘贴的位置，按p键进行粘贴操作</p>
<h4 id="3）为配置文件添加-多行注释（-）">3）为配置文件添加#多行注释（!）</h4>
<p>第一步：按Esc退出到命令模式，按gg切换到第1行</p>
<p>第二步：然后按Ctrl+v进入到可视化区块模式（列模式）</p>
<p>第三步：在行首使用上下键选择需要注释的多行</p>
<p>第四步：按下键盘（大写）“I”键，进入插入模式（Shift + i）</p>
<p>第五步：输入#号注释符</p>
<p>第六步：输入完成后，连续按两次Esc即可完成添加多行注释的过程</p>
<h4 id="4）为配置文件去除-多行注释（-）">4）为配置文件去除#多行注释（!）</h4>
<p>第一步：按Esc退出到命令模式，按gg切换到第1行</p>
<p>第二步：然后按Ctrl+v进入可视化区块模式（列模式）</p>
<p>第三步：使用键盘上的方向键的上下选中需要移除的#号注释</p>
<p>第四步：直接按Delete键即可完成删除注释的操作</p>
<h3 id="六、VIM编辑器实用功能">六、VIM编辑器实用功能</h3>
<h4 id="1）代码着色">1）代码着色</h4>
<p>之前说过vim 是vi 的升级版本，其中比较典型的区别就是vim 更加适合coding，因为vim比vi 多一个代码着色的功能，这个功能主要是为程序员提供编程语言升的语法显示效果，如下：</p>
<p>第一步：定义后缀名为网页文件的代码文件</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># vim index.php</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>第二步：编写对应的PHP代码</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&#x27;hello world&#x27;</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p>在VIM编辑器中，我们可以通过<code>:syntax on</code>或<code>:syntax off</code>开启或关闭代码着色功能。</p>
<h4 id="2）异常退出解决方案">2）异常退出解决方案</h4>
<p>什么是异常退出：在编辑文件之后并没有正常的去wq（保存退出），而是遇到突然关闭终端或者断电的情况，则会显示下面的效果，这个情况称之为异常退出：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210219202541437.png" alt="vim bug"></p>
<blockquote>
<p>温馨提示：每个文件的异常文件都会有所不同，其命名规则一般为<code>.文件名称.swp</code></p>
</blockquote>
<p>解决办法：将交换文件（在编程过程中产生的临时文件）删除掉即可【在上述提示界面按下D 键或者使用rm 指令删除交换文件】</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># rm .1.php.swp</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="3）退出vim编辑器">3）退出vim编辑器</h4>
<p>回顾：在vim中，退出正在编辑的文件可以使用<code>:q</code>或者<code>:wq</code>除了上面的这个语法之外，vim 还支持另外一个保存退出(针对内容)方法<code>:x</code></p>
<p>① <code>:x</code>在文件没有修改的情况下，表示直接退出（等价于<code>:q</code>），在文件修改的情况下表示保存并退出（<code>:wq</code>）</p>
<p>② 如果文件没有被修改，但是使用wq 进行退出的话，则文件的修改时间会被更新；但是如果文件没有被修改，使用x 进行退出的话，则文件修改时间不会被更新的；主要是会混淆用户对文件的修改时间的认定。</p>
<h1>Linux中的关机与重启命令</h1>
<h4 id="1-关机重启命令汇总">1. 关机重启命令汇总</h4>
<table>
<thead>
<tr>
<th>halt</th>
<th>关机</th>
<th>root用户</th>
<th>halt：只关闭系统，电源还在运行 halt -p：关闭系统，关闭电源（先执行halt，再执行poweroff）</th>
</tr>
</thead>
<tbody>
<tr>
<td>poweroff</td>
<td>关机</td>
<td>root用户</td>
<td>poweroff会发送一个关闭电源的信号给acpi</td>
</tr>
<tr>
<td>reboot</td>
<td>重启</td>
<td>root用户</td>
<td></td>
</tr>
<tr>
<td>shutdown</td>
<td>-h：关机 -r：重启 -c：取消shutdown操作</td>
<td>root用户</td>
<td>shutdown实际上是调用init 0, init 0会cleanup一些工作然后调用halt或者poweroff shutdown -r now：一分钟后重启 shutdown -r 05:30：最近的5:30重启 shutdown -r +10：十分钟后重启</td>
</tr>
<tr>
<td>init</td>
<td>init 0：关机 init 6：重启</td>
<td>root用户</td>
<td>init：切换系统的运行级别</td>
</tr>
<tr>
<td>systemctl</td>
<td>systemctl halt [-i]：关机 systemctl poweroff [-i]：关机 systemctl reboot [-i]：重启</td>
<td>普通用户 超级用户</td>
<td>普通用户需要加-i root用户不需要加-i</td>
</tr>
</tbody>
</table>
<p>在关机或者重启之前，执行3至4次sync，将在内存中还未保存到硬盘的数据更新到硬盘中，否则会造成数据的丢失。执行sync时要以管理员的身份运行，因为管理员具有所有文件的权限，而普通用户只具有自己的部分文件的权限。</p>
<p>最经常使用的关机重启的命令是shutdown，因此下面详细学习的使用。</p>
<h4 id="2-shutdown命令">2.shutdown命令</h4>
<p>基本格式：shutdown [选项] [时间] [警告信息]</p>
<p><em>选项：</em></p>
<ol>
<li>-h：关机</li>
<li>-r：重启</li>
<li>-c：取消shutdown执行的关机或者重启命令</li>
<li>-k：不关机，发出警告</li>
</ol>
<p><em>时间：</em></p>
<ol>
<li>shutdown：一分钟后关机（默认）</li>
<li>shutdown now：立刻关机</li>
<li>shutdown +10：10分钟后关机</li>
<li>shutdown 5:00：5点关机</li>
</ol>
<p><em>示例：</em></p>
<p>shutdown -r now：一分钟后重启<br>
shutdown -r 05:30：最近的5:30重启<br>
shutdown -r +10：十分钟后重启</p>
<p>shutdown -h now：一分钟后关机<br>
shutdown -h 05:30：最近的5:30关机<br>
shutdown -h +10：十分钟后关机</p>
<p>shutdown -c：取消上面的关机重启操作</p>
<p>shutdown -k +10 “I will shutdown in 10 minutes”：10分钟后并不会真的关机，但是会把警告信息发给所有的用户。</p>
<h4 id="3-sync命令："><a target="_blank" rel="noopener" href="http://3.sy">3.sy</a><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=nc%E5%91%BD%E4%BB%A4&amp;spm=1001.2101.3001.7020">nc命令</a>：</h4>
<p>sync ：linux同步数据命令，将所有未写的系统缓冲区写到磁盘中，包含已修改的 i-node、已延迟的块 I/O 和读写映射文件。如果不去手动的输入sync命令来真正的去写磁盘，linux系统也会周期性的去sync数据。</p>
<p><em>使用场景：</em><br>
1.在 关机或者开机之前最好多执行这个几次，以确保数据写入硬盘。<br>
2.挂载时，需要很长时间的操作动作（比如，cp 大文件，检测文件），在这个动作之后接sync。<br>
3.卸载U盘或其他存储设备，需要很长时间，使用sync。</p>
<h2 id="关机与重启命令">关机与重启命令</h2>
<h3 id="1-1-基本介绍">1.1 基本介绍</h3>
<ol>
<li><code>shutdown -h now</code> -----立刻进行关机</li>
<li><code>shutdown -h 1</code> --------“hello, 1分钟后会关机了”</li>
<li><code>shutdown -r now</code>------立刻重新启动计算机</li>
<li><code>halt</code>-----------------------关机，作用和上面一样</li>
<li><code>reboot</code>--------------------立刻重启计算机</li>
<li><code>sync</code>-----------------------把内存的数据同步到磁盘</li>
</ol>
<h3 id="1-2-注意细节">1.2 注意细节</h3>
<ol>
<li>不管是重启系统还是关闭系统，首先要运行 sync 命令，把内存中的数据写到磁盘中</li>
<li>目前的 shutdown / reboot / halt 等命令均已经在关机前进行了 sync 【特别提醒，小心驶得万年船】</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023c46bfe702c4e4d16b96dfc9a635071bd.png" alt="在这里插入图片描述"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20237a937c4f33964e6bbe69322dec808dc0.png" alt="在这里插入图片描述"></p>
<h2 id="2-用户登录与注销">2.用户登录与注销</h2>
<h3 id="2-1-基本介绍">2.1 基本介绍</h3>
<ol>
<li>登录时尽量少用 root 账号登录，因为它是系统管理员，最大的权限，避免操作失误，可以利用普通用户登录，登录后再 <code>su-用户名</code> 命令来切换成系统管理员身份</li>
<li>在提示符下输入 logout ，即可注销用户</li>
</ol>
<h3 id="2-2-使用细节">2.2 使用细节</h3>
<ol>
<li>logout 注销指令在图形运行级别无效，在运行级别 3 下有效</li>
<li>运行级别这个概念，后面再介绍</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202313f4c8584d1c473a9fdc40af32a80920.png" alt="在这里插入图片描述"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/9c766d4e169c4ea0836d546ff9fbf7d0.png" alt="在这里插入图片描述"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20233f340c8e2c9e4b37a40233657aff9392.png" alt="在这里插入图片描述"></p>
<p>-----logout 注销指令在图形运行级别无效-----</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ea544d0741bb475b81a964b4227b5146.png" alt="在这里插入图片描述"></p>
<h1>🐧用户和组的概念</h1>
<h2 id="🌏用户的概念">🌏用户的概念</h2>
<p>有的人喜欢说“用户”，有的人喜欢说“账号”，再Linux系统中，他们是指同一个概念：使用Linux系统的人，他的信息必须事先已经在Linux系统中登记好，</p>
<p>在Linux中，创建（即登记）一个用户时需要提供如下信息：<br>
1、用户名：也叫账号，合法的账号由AZ，az,09，-和_组成，账号长度介于132.在Linux系统中用户名是唯一的，用户名主要用于身份鉴别。<br>
2、口令：或称为密码，主要用于身份鉴别，一个好的口令最好同时包含大小写字母、数字和其他字符，长度建议大于6 <strong>注意：密码中字符的大小写是由区分的</strong><br>
3、用户ID号：简称为UID，犹如人的身份证号，<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20238afbcd7c38e3e549b5bd0d40dfc481c0.png" alt="image.png"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232b167ab660a921d7fe0a9da6422fd93f.png" alt="image.png"><br>
4、组：每一个用户只能归属于一个主要组群，但是可以同时归属于多个附加组群。给用户分组主要是便于管理同一类用户的权限，例如赋予一个组某种权限，那么这个组所有的用户自动拥有该权限<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023722b6d08607aebdc8013974aedd5ccc2.png" alt="image.png"><br>
5、家目录：使用户登录之后默认进入的目录，如果不特别指定，用户的家目录就是/home/&lt;账号&gt;，例如创建用户Gremmie102，那么默认的家目录就是/home/Gremmie102。root用户的家目录有些特别，默认是/root<br>
6、登录shell：用户登录Linux的过程中，会自动执行一系列的程序，其中最后执行的那个程序成为shell程序。shell以为“壳”，可以想象为包裹在Linux系统外面的壳，用户登录之后就一直在这个壳中，用户输入的任何命令都由Shell代为执行<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023058210094db896dafe11d12afd873651.png" alt="1648268827367-screenshot.png"><br>
7、备注：对用户的描述，这个可以省略<br>
这些用户信息主要保存在文件/etc/passwd中，加密过后的密码保存在文件/etc/<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=shadow&amp;spm=1001.2101.3001.7020">shadow</a>中。/etc/passwd每一行对应一个用户，格式如下。</p>
<blockquote>
<p><strong>用户名：密码：UID：GID：备注：家目录：登录shell</strong></p>
</blockquote>
<p>每个参数之间用“：”分开，其中的“密码”都用x来表示，GID是该用户的主要组群的组号。<br>
例如/etc/passwd文件中由如下一行：<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023be71fba03398867f751d5e8d1de0c494.png" alt="image.png"><br>
从上面这一行可以获得这些信息：用户名是Gremmie3，密码的位置出现x是表示加密后的密码串错放在/etc/shadow中，用户ID号是1000，隶属主要族群1000号，用户的家目录是/home/Gremmie2003,登录Shell是bin/bash，没有备注信息。<br>
同样/etc/shadow也是一行对应一个用户，格式如下：</p>
<blockquote>
<p><strong>账号：密码：最后一次更改密码的日期：密码有效期最少天数：密码有效期最多的天数：密码修改警告期：密码禁用期：账号过期日期：保留字段</strong></p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023c71c2bcbcf4d68e1879b98402ef6f070.png" alt="image.png"><br>
1、密码：经过加密之后的密文。这种加密算法是不可逆的，也就是说不能从密文反推出原始密码。在用户登录校验密码时，Linux系统采用相同的加密方法对用户登录时输入的密码进行加密得到密文，然后通过比较两份密文是否相同来判断密码输入是否正确，这里图中的感叹号则表示还未设置密码<br>
2、上一次更改密码的日期：具体表现为从<strong>1970年1月1日</strong>以来的天数。例如在2022年3月26日修改过密码，那么这里就是19077.<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234514adf4cbd072c155346d338e6667d6.png" alt="image.png"><br>
3、密码有效期最少天数：即上次修改密码之后要过多少天之后才允许再次修改密码。如果为0或者空表示没有显示，即可随时修改密码。<br>
4、密码有效期最多天数：即多少天前必须修改密码，如果过了有效期最多天数还没有修改密码，那么下一次用户登录时提示用户必须修改密码；为空则表示没有限制，同时也没有密码修改警告期；如果密码有效期最多天数小于密码有效期最少天数，那么用户不能修改密码。<br>
5、密码修改警告期：即开始不断地通知用户要修改密码，如果为0或者空则不通知<br>
6、密码警用期：过了密码有效期最多天数如果仍然没有修改密码，则进入密码禁用期，在禁用期内，用户登录时要求强行修改密码。过了禁用期，那么账号就完全冻结了，冻结的账号经过解冻之后就可以继续使用<br>
7、账号过期日期：表示为从1970年1月1日以来的天数，为空则表示没有限制。账号过期之后不能再使用了。例如打算让账号在2022年3月26日失效，那么这里的值就是19077.<br>
参数之间的关系表示为👇：<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20239e783cb959c09734223b49d921f83fce.png" alt="1648273557320-screenshot.png"><br>
Linux系统的用户分为3类，分别是超级用户root、系统用户和普通用户。在安装系统时默认创建超级用户root，root的权力没有限制，它的UID和GID都是0.<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ed42e3c3a852519d84ba29df7b222b53.png" alt="image.png"><br>
超级用户的作用是管理系统，例如创建用户、给硬盘分区、配置网络等。系统用户主要用来启动服务或者用作一些特殊权限控制，系统用户的权限收到限制，系统用户也是在安装Linux或者应用软件时自动创建的，它们得到UID小于1000，系统用户不能登录。普通用户也是由超级用户root创建并分配给Linux系统的使用者，权限有限制，使用者用普通用户登录以完成他们的日常工作，普通用户的UID一般大于等于1000.<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20239623c53d83215cadebea1c941d1bc754.png" alt="image.png"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202364ed8f94986616d9fa4f7a99df017f26.png" alt="image.png"></p>
<h2 id="🍰组的概念">🍰组的概念</h2>
<p>Linux下组群的概念如下👇：<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023690948147f1253a7169e79a47a597f0b.png" alt="组群.png"><br>
一个用户必须且只能属于一个主要组群，但是可以属于0个或者多个附加组群，一个组群可以包含0个或者多个用户。例如我是南京医科大学的一个学生，我只能属于21生物信息班（主要族群），但我可以同时加入计算机设和音乐社（附加组群）。<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20238d74643304cf31c070b9e03c4a3dc47a.png" alt="用户和组群的关系.png"></p>
<h1>🤯用户和组的管理</h1>
<p>用户和组的管理包括创建、删除、修改属性、修改密码等。具体操作可以采用可视化的<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2&amp;spm=1001.2101.3001.7020">图形界面</a>方式，也可以采用命令方式，这里重点介绍后者。Linux下的命令语法为：*<strong>&lt;命令&gt; &lt;选项&gt; &lt;目标&gt;*</strong><br>
“命令”是用来操纵“目标”的，那么怎么操纵呢？这是由“选项”规定的。由于可能存在多个选项，所以选项采用 “-&lt;一个数字或字母&gt;[参数]”或者“-&lt;多个数字或字母&gt;[参数]”的形式，例如创建用户Gremmie102的命令为：useradd -u 1007 -d /home/zbc–shell/bin/bash Gremmie102<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023a0bb4cb0a31100cfbc4943c105c33bb3.png" alt="image.png"><br>
命令是useradd，目标是Gremmie102，选项是-u 1007 -d /home/zbc–shell/bin/bash<br>
文件/etc/login.defs定义了组群和用户的默认属性，在创建用户和组的时候，如果没有给出相对应的参数，那么就去默认值。主要参数如下👇：</p>
<table>
<thead>
<tr>
<th><strong>序号</strong></th>
<th><strong>参数</strong></th>
<th><strong>默认值</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td>PASS_MAX_DAYS</td>
<td>99999</td>
<td>密码有效期最多多少天</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td>PASS_MIN_DAYS</td>
<td>0</td>
<td>密码有效期最少多少天</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td>PASS_WARN_AGE</td>
<td>7</td>
<td>密码警告十七，密码到期前7天发出警告</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td>PASS_MIN_LEN</td>
<td>5</td>
<td>密码最小长度，即密码必须多于5个字符</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td>UID_MIN</td>
<td>1000</td>
<td>创建用户时默认选择的UID最小值</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td>UID_MAX</td>
<td>60000</td>
<td>创建用户时默认选择的UID最大值</td>
</tr>
<tr>
<td><strong>7</strong></td>
<td>GID_MAX</td>
<td>1000</td>
<td>创建组群时默认选择的GID最小值</td>
</tr>
<tr>
<td><strong>8</strong></td>
<td>GID_MIN</td>
<td>60000</td>
<td>创建组群时默认选择的GID最大值</td>
</tr>
</tbody>
</table>
<h2 id="🦖组的管理">🦖组的管理</h2>
<p>我们可以利用groupadd --help、groupdel --help、groupmod --help来查询相关的命令说明<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023a61e191696f3552ca5e884db14904d89.png" alt="image.png"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20236cc2db5a5ff1c0c871c062d0df51d08d.png" alt="image.png"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202321b6340738eaf2ea005e67d091fd007c.png" alt="image.png"></p>
<h3 id="🦉创建组">🦉创建组</h3>
<p>（1）创建组群class1：groupadd class1<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023181e98f8ee6ee99e4ff5f28754bfc8fb.png" alt="image.png"><br>
（2）创建组群grade2且指定GID为555：groupadd -g 555 grade2<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20230536b9f85f54e8fc4e30f6b41ad3ece7.png" alt="image.png"><br>
（3）创建已经存在的组群root的别名组群administrators：groupadd -g 0 -o administrators<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023061ad8857f263c4a2b8c7b6ac7879be8.png" alt="image.png"><br>
<strong>注意：只能创建不存在的组群。新建的组信息保存在/etc/group中，可以采用more或cat命令查看，例如</strong><br>
<strong>cat /etc/group</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b05b253d0695c2fac5e316a38a8dffc0.png" alt="image.png"></p>
<h3 id="🦝删除组群">🦝删除组群</h3>
<p>删除组群class1：groupdel class1<br>
<strong>注意：只能删除已经存在的空组群，也就是组里没有用户成员</strong></p>
<h3 id="🦌修改组群的属性">🦌修改组群的属性</h3>
<ol>
<li>修改组群sales的组号（GID）为1650：groupmod -g 1650 sales</li>
<li>修改组群sales的组群名为sales1：groupmod -n sales1 sales</li>
<li>用一条命令完成上述两个任务：groupmod -g 1650 -n sales1 sales</li>
</ol>
<p><strong>注意：只能修改已经存在的组群属性。</strong></p>
<h3 id="🛹查看组群的信息">🛹查看组群的信息</h3>
<p>查看文件/etc/group 的内容即可，可以采用cat、more、tail等命令进行查看<br>
（1）查看文件/etc/group的末尾10行：tail /etc/group<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023191b3184c365f687cb22b478c8326d15.png" alt="image.png"><br>
（2）翻页显示/etc/group的信息：more /etc/group<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202386758a61e01816ef50caee4e87d61d25.png" alt="image.png"></p>
<h2 id="🚃用户管理">🚃用户管理</h2>
<p>同样，我们可以用useradd --help、userdel --help、usermod --help来查询命令信息</p>
<p>在添加用户时，可以指定将该用户添加到哪个组中，同样的用 root 的管理权限可以改变某个用户所在的组。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">	改变用户所有组</span><br><span class="line">	</span><br><span class="line">	usermod	–g	新组名	用户名</span><br><span class="line">	usermod	–d	目录名	用户名	 (改变该用户登陆的初始目录)</span><br><span class="line">	特别说明：用户需要有进入到新目录的权限。</span><br><span class="line"></span><br><span class="line">如何查看用户所在的组？</span><br><span class="line">	id 用户名  ---&gt;显示用户信息</span><br><span class="line">	</span><br><span class="line">案例：</span><br><span class="line">将 zwj 这个用户从原来所在组，修改到 wudang 组</span><br><span class="line">	先查看zwj在哪个组：id zwj</span><br><span class="line">	然后查看有没有wudang这个组：cat /etc/group | grep wudang</span><br><span class="line">	修改：usermod -g wudang zwj ```</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202388f5a23c7ca68a15aac747870380a741.png" alt="image.png"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b96bccd10bef2551f8b956e3c8b7f695.png" alt="image.png"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d478d8acc5b6d8fe5196ef6d3ccf2147.png" alt="image.png"></p>
<h5 id="1、所有者">1、所有者</h5>
<p>一般为文件的创建者，谁创建了该文件，就自然成为了该文件的所有者。</p>
<p>1.1、查看文件的所有者</p>
<p>指令：ls -ahl</p>
<p><strong>1.2、修改文件/目录的所有者-chown</strong></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">基本介绍</span><br><span class="line">chown	newowner			文件/目录	(修改所有者)</span><br><span class="line">chown 	newowner:newgroup	文件/目录 	(同时修改所有者和所在组)</span><br><span class="line"></span><br><span class="line">选项：-R	如果是目录 则使其下所有子文件或目录递归生效</span><br><span class="line"></span><br><span class="line">案例演示</span><br><span class="line"><span class="number">1</span>.请将 <span class="regexp">/home/</span>abc.txt 文件的所有者修改成 tom</span><br><span class="line">chown tom <span class="regexp">/home/</span>abc.txt</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.请将 <span class="regexp">/home/</span>test 目录下所有的文件和目录的所有者都修改成 tom </span><br><span class="line">chown -R tom <span class="regexp">/home/</span>test</span><br><span class="line"></span><br><span class="line">R:Recursive递归</span><br></pre></td></tr></table></figure>
<h5 id="2、所在组">2、所在组</h5>
<p>2.1、组的创建</p>
<p>基本指令：<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=groupadd&amp;spm=1001.2101.3001.7020">groupadd</a> 组名</p>
<p>创建monster组：groupadd monster</p>
<p>创建fox用户并放入monster组：useradd -g monster fox</p>
<p>2.2、所在组</p>
<p>当某个用户创建一个文件后，该用户的所在组就是该文件的所在组</p>
<p>查看文件/目录所在组</p>
<p>基本指令：ls -ahl</p>
<p><strong>2.3 修改文件/目录的所在组-chgrp</strong></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">chgrp  newgroup  文件/目录	(改变所在组)</span><br><span class="line"></span><br><span class="line">案例演示:</span><br><span class="line"><span class="number">1</span>.请将 <span class="regexp">/home/</span>abc.txt 文件的所在组修改成 shaolin (少林) </span><br><span class="line">groupadd shaolin</span><br><span class="line">chgrp shaolin <span class="regexp">/home/</span>abc.txt</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.请将 <span class="regexp">/home/</span>test 目录下所有的文件和目录的所在组都修改成 shaolin(少林) </span><br><span class="line">chgrp -R shaolin <span class="regexp">/home/</span>test</span><br></pre></td></tr></table></figure>
<h5 id="3、其他组">3、其他组</h5>
<p>处文件的所有者和所在组的用户外，系统的其他用户都是文件的其他组</p>
<h5 id="4、改变用户所在组">4、改变用户所在组</h5>
<p>在添加用户时，可以指定将该用户添加到哪个组中，也可以使用root用户改变某个用户的所在组。</p>
<p>改变用户所在组：</p>
<p>1、usermod -g 组名 用户名</p>
<p>2、usermod -d 目录名 用户名 （改变该用户登录的初始目录）</p>
<h3 id="🎥创建用户">🎥创建用户</h3>
<p>我们常常用到这几个选项<br>
<strong>-d</strong>, --home-dir HOME_DIR home directory of the new account<br>
<strong>-m</strong>, --create-home create the user’s home directory<br>
<strong>-g</strong>, --gid GROUP name or ID of the primary group of the new account<br>
<strong>-s</strong>， --shell SHELL login shell of the new account</p>
<p>*<strong>在你的创建的classmates中加入一个叫做bingdundun的用户*</strong></p>
<blockquote>
<p>useradd -m -g classmates bingdwendwen<br>
useradd -m -g classmates -s /bin/bash bingdwendwen</p>
</blockquote>
<h3 id="📸删除用户">📸删除用户</h3>
<blockquote>
<p>userdel -r bingdundun 删除用户bingdundun<br>
userdel -r bingdundun 删除用户bingdundun,连同家目录一起删除<br>
userdel -f -r bingdundun 强行删除用户bingdundun ，即便此用户已经登录</p>
</blockquote>
<p><strong>注意，只能删除已经存在的用户</strong></p>
<h3 id="修改用户属性">修改用户属性</h3>
<blockquote>
<p>uesermod -d /opt/bingdundun -s /bin/tcsh</p>
</blockquote>
<p>👆修改用户的家目录和登录的shell</p>
<blockquote>
<p>usermod -g grade1 -G class2 -a bingdundun</p>
</blockquote>
<p>👆修改用户的主要族群为grade1，同时再加入附加组群class2</p>
<blockquote>
<p>usermod -l bingdundun Gremmie</p>
</blockquote>
<p>👆修改bingdundun的用户名为Gremmie</p>
<blockquote>
<p>usermod -u 1020 bingdundun</p>
</blockquote>
<p>修改用户bingdundun的UID为1020</p>
<blockquote>
<p>usermod -d /opt/bingdundun -s /bin/tcsh -g grade1 -G class2 -a -l Gremmie -u 1020 -m bingdundun</p>
</blockquote>
<p>合并上述操作</p>
<h3 id="🐱用户密码管理">🐱用户密码管理</h3>
<blockquote>
<p>passwd -l bingdundun</p>
</blockquote>
<p>锁住bingdundun，被锁的用户不能登录</p>
<blockquote>
<p>passwd -u bingdundun</p>
</blockquote>
<p>解锁后的用户可以继续登录</p>
<blockquote>
<p>passwd bingdundun</p>
</blockquote>
<p>修改bingdundun的密码<br>
<strong>注意：用户的密码只有root和用户本人可以修改</strong></p>
<blockquote>
<p>passwd -d nanjinglele</p>
</blockquote>
<p>删除用户nanjinglele的密码，这样nanjinglele就可以不用密码直接登录了</p>
<blockquote>
<p>passwd -n 10 -x 20 -w 3 -i 5 bingdundun</p>
</blockquote>
<p>修改用户bingdundun的密码老化时间，密码有效期最少天数10，最大天数20，过期前3天会发出警告，密码禁用期5天。</p>
<h3 id="🥽查看用户信息">🥽查看用户信息</h3>
<blockquote>
<p>id Gremmie</p>
</blockquote>
<p>查看Gremmie的UID、主要组群和附加组群的GID<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202300a6c19937117d98e42a060c8be4dcdc.png" alt="image.png"></p>
<blockquote>
<p>more /etc/passwd</p>
</blockquote>
<p>这里有个小细节，我将Gremmie放入了sudo系统组群中，这样Gremmie就可以使用sudo的权限</p>
<h2 id="rwx权限">rwx权限</h2>
<blockquote>
<p>-rw-------. 1 root root  1696   Jul    16   09:27    anaconda-ks.cfg<br>
-rw-r–r–. 1 root root    0     Aug   16   12:14   at<br>
-rw-r–r–. 1 root root   12    Aug   1    10:48   at_alram<br>
-rw-r–r–. 1 root root    4     Jul    30   16:11   at_task2<br>
-rw-r–r–. 1 root root    0     Jul    20   09:28   cd<br>
-rw-r–r–. 1 root root    0     Oct    8    15:00   cro_test<br>
drwxr-xr-x. 2 root root   6     Jul    16   09:28   Desktop<br>
drwxr-xr-x. 2 root root   6     Jul    16   09:28   Documents<br>
drwxr-xr-x. 2 root root   6     Jul    16   09:28   Downloads</p>
</blockquote>
<p><strong>#</strong>  请大家思考下 上示 内容是通过那个命令显示出来的？ 代表的意义又是什么？</p>
<p>​    ====&gt;&gt;&gt;   <em><strong>*ls -l*</strong></em>  命令</p>
<p><strong>#</strong>  我们带着 上述问题 开启 对  Linux <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90&amp;spm=1001.2101.3001.7020">文件权限</a> 知识的带入 ：</p>
<p>​        之前的文章我们简单的 介绍过 文件权限的部分内容，现在我们开始整块儿知识地学习！</p>
<p>​</p>
<p><strong>#</strong>   之前在学习 文件权限的时候 也对 ls -l 展示的内容做过解释，现在再复盘下 ：</p>
<p>​    <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023e35e0a6dedf648698077cc5fbbe02320.png" alt="img"></p>
<p>​      第一列 ： 文件类型</p>
<p>​      第二列 ： 访问权限 （ 实际上一共有 10 位）</p>
<p>​      第三列 ：</p>
<p>​               *****  如果是文件的话就是 1</p>
<p>​               *****  如果是目录的话 ： 数字就代表目录里的文件个数 ！</p>
<p>​       第四列 ： 所属用户</p>
<p>​       第五列 ： 所属用户组</p>
<p>​               注 ： 所属用户及所属用户组 都不完全代表 该文件就是所属用户或用户组创建</p>
<p>​                    的（ 因为 所属用户即用户组 是可以后期改变的！）</p>
<p>​       第六列 :   文件大小</p>
<p>​       第七列 ：  时间日期</p>
<p>​       第八列 ：  文件名 （ 如果是链接文件的话则会 显示 指向 ）</p>
<p><strong>#</strong>     关于文件类型在此再做以下解释 ：       <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b8d704f06d2c45cd9562fa93f180116d.png" alt="img"></p>
<p>​        这九位分为 三组 ：</p>
<p>​        ===&gt;&gt;&gt;&gt;</p>
<p>​                 第一部分（2-4位） ： 代表<strong>用户</strong>的权限</p>
<p>​                 第二部分（5-7位） ： 代表<strong>用户组</strong>的权限</p>
<p>​                 第三部分（8-10位） ： 代表<strong>其他人</strong>的权限</p>
<p>​        对于文件权限主要是由 以下 四个字符表示 ：</p>
<p>​        <strong>r</strong> :  代表  读的权限</p>
<p>​        <strong>w</strong> :  代表  写的权限</p>
<p>​        <strong>x</strong> :  代表  执行的权限</p>
<p>​        <strong>-</strong> :   代表  没有赋予任何权限</p>
<p><strong>#</strong>     <strong>r w x</strong>   权限的<strong>数字</strong>表示方法</p>
<p>​       <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/894f63ac0ac840a3a35c89f7a3615205.png" alt="img"></p>
<p>​        其实上图就直接完全总结了！！</p>
<p>​        会发现 r w x 三种权限 可以用 两种数字进制去表示</p>
<p>​         我们直接举例（ 直接看例子最好理解 ）</p>
<p>​        <strong>二进制表示</strong> ：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rwxrwxrwx :   111111111 </span><br><span class="line"></span><br><span class="line">rwxrw-rw- :   111110110</span><br><span class="line"></span><br><span class="line">-w-r-xr-- :   010101100</span><br></pre></td></tr></table></figure>
<p>​          <strong>注</strong> ：  二进制其实就是说白了， r w x 那个有权限那个就是 1 没有权限就是 0</p>
<p>​         <strong>十进制（八进制）表示</strong> ： 我们仍以上示例子举例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">rwxrwxrwx :   111 111 111 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">               7   7   7</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rwxrw-rw- :   111 110 110</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">               7   6   6</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-w-r-xr-- :   010 101 100</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">               2   5   4</span><br></pre></td></tr></table></figure>
<p>​          <strong>注</strong> ：  你会很显然的发现 其实 所谓 十进制 就是把二进制转成了 十进制</p>
<p>​                （  没有什么神奇的！！ ）</p>
<p>​                但需要注意的是 我们仍是 以 三位三位一组！！！</p>
<p>​    <strong>#</strong>  九位权限的简写表示 ：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">rwx</span>                <span class="selector-tag">rwx</span>                 <span class="selector-tag">rwx</span> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">user</span>( 用户）      <span class="built_in">group</span>(组）           <span class="built_in">other</span>(其他人）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> u                g                      o   </span><br></pre></td></tr></table></figure>
<p>​       *****    还有一个 <strong>a ( all ) : 代表所有即 user  group  other</strong></p>
<p>​            u 、g、 o、 就是缩写表示 ！！！</p>
<p>​     <strong>#</strong>   针对于 文件的 rwx 和 目录 的 rwx 是有区别的（ 意义不一样 ~ ）！！</p>
<p>​        <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023cf08d33b78c340a3b9588c684d593c87.png" alt="img"></p>
<p>Linux chmod（英文全拼：change mode）命令是控制用户对文件的权限的命令</p>
<p>Linux/Unix 的文件调用权限分为三级 : 文件所有者（Owner）、用户组（Group）、其它用户（Other Users）。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023file-permissions-rwx.jpg" alt="img"></p>
<p>只有文件所有者和超级用户可以修改文件或目录的权限。可以使用绝对模式（八进制数字模式），符号模式指定文件的权限。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023rwx-standard-unix-permission-bits.png" alt="img"></p>
<p><strong>使用权限</strong> : 所有使用者</p>
<h3 id="语法">语法</h3>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod [-cfvR] [--help] [--version] mode file...</span><br></pre></td></tr></table></figure>
<h3 id="参数说明">参数说明</h3>
<p>mode : 权限设定字串，格式如下 :</p>
<figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">[ugoa...]</span><span class="comment">[<span class="comment">[+-=]</span><span class="comment">[rwxX]</span>...]</span><span class="comment">[,...]</span></span><br></pre></td></tr></table></figure>
<p>其中：</p>
<ul>
<li>u 表示该文件的拥有者，g 表示与该文件的拥有者属于同一个群体(group)者，o 表示其他以外的人，a 表示这三者皆是。</li>
<li>+ 表示增加权限、- 表示取消权限、= 表示唯一设定权限。</li>
<li>r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有当该文件是个子目录或者该文件已经被设定过为可执行。</li>
</ul>
<p>其他参数说明：</p>
<ul>
<li>-c : 若该文件权限确实已经更改，才显示其更改动作</li>
<li>-f : 若该文件权限无法被更改也不要显示错误讯息</li>
<li>-v : 显示权限变更的详细资料</li>
<li>-R : 对目前目录下的所有文件与子目录进行相同的权限变更(即以递归的方式逐个变更)</li>
<li>–help : 显示辅助说明</li>
<li>–version : 显示版本</li>
</ul>
<p>使用符号模式可以设置多个项目：who（用户类型），operator（操作符）和 permission（权限），每个项目的设置可以用逗号隔开。 命令 chmod 将修改 who 指定的用户类型对文件的访问权限，用户类型由一个或者多个字母在 who 的位置来说明，如 who 的符号模式表所示:</p>
<table>
<thead>
<tr>
<th style="text-align:left">who</th>
<th style="text-align:left">用户类型</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>u</code></td>
<td style="text-align:left">user</td>
<td style="text-align:left">文件所有者</td>
</tr>
<tr>
<td style="text-align:left"><code>g</code></td>
<td style="text-align:left">group</td>
<td style="text-align:left">文件所有者所在组</td>
</tr>
<tr>
<td style="text-align:left"><code>o</code></td>
<td style="text-align:left">others</td>
<td style="text-align:left">所有其他用户</td>
</tr>
<tr>
<td style="text-align:left"><code>a</code></td>
<td style="text-align:left">all</td>
<td style="text-align:left">所有用户, 相当于 <em>ugo</em></td>
</tr>
</tbody>
</table>
<p>operator 的符号模式表:</p>
<table>
<thead>
<tr>
<th style="text-align:left">Operator</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>+</code></td>
<td style="text-align:left">为指定的用户类型增加权限</td>
</tr>
<tr>
<td style="text-align:left"><code>-</code></td>
<td style="text-align:left">去除指定用户类型的权限</td>
</tr>
<tr>
<td style="text-align:left"><code>=</code></td>
<td style="text-align:left">设置指定用户权限的设置，即将用户类型的所有权限重新设置</td>
</tr>
</tbody>
</table>
<p>permission 的符号模式表:</p>
<table>
<thead>
<tr>
<th style="text-align:left">模式</th>
<th style="text-align:left">名字</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>r</code></td>
<td style="text-align:left">读</td>
<td style="text-align:left">设置为可读权限</td>
</tr>
<tr>
<td style="text-align:left"><code>w</code></td>
<td style="text-align:left">写</td>
<td style="text-align:left">设置为可写权限</td>
</tr>
<tr>
<td style="text-align:left"><code>x</code></td>
<td style="text-align:left">执行权限</td>
<td style="text-align:left">设置为可执行权限</td>
</tr>
<tr>
<td style="text-align:left"><code>X</code></td>
<td style="text-align:left">特殊执行权限</td>
<td style="text-align:left">只有当文件为目录文件，或者其他类型的用户有可执行权限时，才将文件权限设置可执行</td>
</tr>
<tr>
<td style="text-align:left"><code>s</code></td>
<td style="text-align:left">setuid/gid</td>
<td style="text-align:left">当文件被执行时，根据who参数指定的用户类型设置文件的setuid或者setgid权限</td>
</tr>
<tr>
<td style="text-align:left"><code>t</code></td>
<td style="text-align:left">粘贴位</td>
<td style="text-align:left">设置粘贴位，只有超级用户可以设置该位，只有文件所有者u可以使用该位</td>
</tr>
</tbody>
</table>
<h3 id="chmod指令（增减权限）">chmod指令（增减权限）</h3>
<p>八进制语法</p>
<p>chmod命令可以使用八进制数来指定权限。文件或目录的权限位是由9个权限位来控制，每三位为一组，它们分别是文件所有者（User）的读、写、执行，用户组（Group）的读、写、执行以及其它用户（Other）的读、写、执行。历史上，文件权限被放在一个比特掩码中，掩码中指定的比特位设为1，用来说明一个类具有相应的优先级。</p>
<table>
<thead>
<tr>
<th style="text-align:left">#</th>
<th style="text-align:left">权限</th>
<th style="text-align:left">rwx</th>
<th style="text-align:left">二进制</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">7</td>
<td style="text-align:left">读 + 写 + 执行</td>
<td style="text-align:left">rwx</td>
<td style="text-align:left">111</td>
</tr>
<tr>
<td style="text-align:left">6</td>
<td style="text-align:left">读 + 写</td>
<td style="text-align:left">rw-</td>
<td style="text-align:left">110</td>
</tr>
<tr>
<td style="text-align:left">5</td>
<td style="text-align:left">读 + 执行</td>
<td style="text-align:left">r-x</td>
<td style="text-align:left">101</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left">只读</td>
<td style="text-align:left">r–</td>
<td style="text-align:left">100</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">写 + 执行</td>
<td style="text-align:left">-wx</td>
<td style="text-align:left">011</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">只写</td>
<td style="text-align:left">-w-</td>
<td style="text-align:left">010</td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">只执行</td>
<td style="text-align:left">–x</td>
<td style="text-align:left">001</td>
</tr>
<tr>
<td style="text-align:left">0</td>
<td style="text-align:left">无</td>
<td style="text-align:left">—</td>
<td style="text-align:left">000</td>
</tr>
</tbody>
</table>
<p>例如， 765 将这样解释：</p>
<ul>
<li>所有者的权限用数字表达：属主的那三个权限位的数字加起来的总和。如 rwx ，也就是 4+2+1 ，应该是 7。</li>
<li>用户组的权限用数字表达：属组的那个权限位数字的相加的总和。如 rw- ，也就是 4+2+0 ，应该是 6。</li>
<li>其它用户的权限数字表达：其它用户权限位的数字相加的总和。如 r-x ，也就是 4+0+1 ，应该是 5。</li>
</ul>
<h3 id="实例">实例</h3>
<p>将文件 file1.txt 设为所有人皆可读取 :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> ugo+r file1.txt</span><br></pre></td></tr></table></figure>
<p>将文件 file1.txt 设为所有人皆可读取 :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> a+r file1.txt</span><br></pre></td></tr></table></figure>
<p>将文件 file1.txt 与 file2.txt 设为该文件拥有者，与其所属同一个群体者可写入，但其他以外的人则不可写入 :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> ug+w,o-w file1.txt file2.txt</span><br></pre></td></tr></table></figure>
<p>为 <a target="_blank" rel="noopener" href="http://ex1.py">ex1.py</a> 文件拥有者增加可执行权限:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> u+x ex1.py</span><br></pre></td></tr></table></figure>
<p>将目前目录下的所有文件与子目录皆设为任何人可读取 :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> -R a+r *</span><br></pre></td></tr></table></figure>
<p>此外chmod也可以用数字来表示权限如 :</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">chmod</span> <span class="number">777</span> file</span><br></pre></td></tr></table></figure>
<p>语法为：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod <span class="keyword">abc</span> <span class="keyword">file</span></span><br></pre></td></tr></table></figure>
<p>其中a,b,c各为一个数字，分别表示User、Group、及Other的权限。</p>
<h4 id="r-4，w-2，x-1">r=4，w=2，x=1</h4>
<ul>
<li>若要 rwx 属性则 4+2+1=7；</li>
<li>若要 rw- 属性则 4+2=6；</li>
<li>若要 r-x 属性则 4+1=5。</li>
</ul>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod <span class="keyword">a</span>=rwx <span class="built_in">file</span></span><br></pre></td></tr></table></figure>
<p>和</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">chmod</span> <span class="number">777</span> file</span><br></pre></td></tr></table></figure>
<p>效果相同</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod <span class="attribute">ug</span>=rwx,o=x file</span><br></pre></td></tr></table></figure>
<p>和</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">chmod</span> <span class="number">771</span> file</span><br></pre></td></tr></table></figure>
<p>效果相同</p>
<p>若用 <strong>chmod 4755 filename</strong> 可使此程序具有 root 的权限。</p>
<h3 id="更多说明">更多说明</h3>
<table>
<thead>
<tr>
<th style="text-align:left"><code>命令</code></th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>chmod a+r *file*</code></td>
<td style="text-align:left">给file的所有用户增加读权限</td>
</tr>
<tr>
<td style="text-align:left"><code>chmod a-x *file*</code></td>
<td style="text-align:left">删除file的所有用户的执行权限</td>
</tr>
<tr>
<td style="text-align:left"><code>chmod a+rw *file*</code></td>
<td style="text-align:left">给file的所有用户增加读写权限</td>
</tr>
<tr>
<td style="text-align:left"><code>chmod +rwx *file*</code></td>
<td style="text-align:left">给file的所有用户增加读写执行权限</td>
</tr>
<tr>
<td style="text-align:left"><code>chmod u=rw,go= *file*</code></td>
<td style="text-align:left">对file的所有者设置读写权限，清空该用户组和其他用户对file的所有权限（空格代表无权限）</td>
</tr>
<tr>
<td style="text-align:left"><code>chmod -R u+r,go-r *docs*</code></td>
<td style="text-align:left">对目录docs和其子目录层次结构中的所有文件给用户增加读权限，而对用户组和其他用户删除读权限</td>
</tr>
<tr>
<td style="text-align:left"><code>chmod 664 *file*</code></td>
<td style="text-align:left">对file的所有者和用户组设置读写权限, 为其其他用户设置读权限</td>
</tr>
<tr>
<td style="text-align:left"><code>chmod 0755 *file*</code></td>
<td style="text-align:left">相当于<code>u=rwx (4+2+1),go=rx (4+1 &amp; 4+1)</code>。<code>0</code> 没有特殊模式。</td>
</tr>
<tr>
<td style="text-align:left"><code>chmod 4755 *file*</code></td>
<td style="text-align:left"><code>4</code>设置了设置<a target="_blank" rel="noopener" href="https://www.runoob.com/wiki/%E7%94%A8%E6%88%B7ID">用户ID</a>位，剩下的相当于 u=rwx (4+2+1),go=rx (4+1 &amp; 4+1)。</td>
</tr>
<tr>
<td style="text-align:left"><code>find path/ -type d -exec chmod a-x &#123;&#125; \;</code></td>
<td style="text-align:left">删除可执行权限对path/以及其所有的目录（不包括文件）的所有用户，使用’-type f’匹配文件</td>
</tr>
<tr>
<td style="text-align:left"><code>find path/ -type d -exec chmod a+x &#123;&#125; \;</code></td>
<td style="text-align:left">允许所有用户浏览或通过目录path/</td>
</tr>
</tbody>
</table>
<p>​        <strong>对于目录</strong> ：</p>
<p>​        <strong>X 权限 ！</strong></p>
<p>​       <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232023a3ccec8dfe054181af680de2f45d7f8c.png" alt="img"></p>
<p>​        <strong>注</strong> ： 使用 ls -ld 查看 /home/natash 这个目录的权限</p>
<p>​      <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ce59fa52b7764e0888615814ecda25c0.png" alt="img"></p>
<p>​       <strong>注</strong> ：  让 harry 用户 访问 /home/natash 发现 没有权限 （ 废话，你要是理解</p>
<p>​             /home/natash 的权限你就知道为什么了）</p>
<p>​      <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320235d6dc39a6af74bd985e2303b2d2815b8.png" alt="img"></p>
<p>​        <strong>注</strong> ：  显然，我们是用 root 用户添加权限的！！（ 你用普通用户添加权限试试??）</p>
<p>​              会发现我们权限添加是  o + <em><strong>*x*</strong></em></p>
<p>​             （ <strong>x 权限</strong> 针对目录 就不再是 执行的意思了，是 访问的意思！ ）</p>
<p>​      <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202362d7e80d228f4b3aa1cd3ff5d6ece434.png" alt="img"></p>
<p>​       <strong>注</strong> ：    显然， harry 可以访问 /home/natash 了！！</p>
<p>​       <strong>r 权限</strong></p>
<p>​      <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023660773497f2e45bda2ec23ec26910596.png" alt="img"></p>
<p>​      <em><strong>*注*</strong></em> ：  当我们在 harry 用户下，在 访问 natash 的家目录成功后，想要查看 家目录下的内</p>
<p>​            容时，发现 没有权限！！</p>
<p>​            （ 因为刚才只是添加了 o+x, 并没有 r 的权限！）</p>
<p>​      <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202398305c8f397741ecbc12012bfae3261c.png" alt="img"></p>
<p>​      <strong>注</strong> ：  还是在 root 下（ 当然了也只能在 root 下）</p>
<p>​            添加 o + <strong>r</strong>  ( 加 r 权限 ）</p>
<p>​     <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023542cdc4809e149fb8f40221d7475b2e7.png" alt="img"></p>
<p>​       <strong>w 权限</strong></p>
<p>​      <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232266ff6db62646fd846d191fa13242ef.png" alt="img"></p>
<p>​       <strong>注</strong> ： 发现无法在 natash 家目录下 创建文件 ！！</p>
<p>​             （ 都没有 w 权限当然不行了！！）</p>
<p>​       <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ff764418309d4dcea7fbd1aa346036c9.png" alt="img">               root 用户下 添加 w 权限</p>
<p>​       <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b7787845432743af896a6aca6ce6c3e4.png" alt="img"></p>
<p>​             创建成功，并展示出来！！</p>
<p>​             这就是 w 权限的作用！！</p>
<h3 id="最佳实践-警察和土匪游戏">最佳实践-警察和土匪游戏</h3>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">有两个组：police组，bandit组</span><br><span class="line">有四个用户：jackie,jerry,<span class="built_in">xh</span>,xq</span><br><span class="line">jackie,jerry: 警察</span><br><span class="line"><span class="built_in">xh</span>,xq: 土匪</span><br><span class="line"></span><br><span class="line"><span class="number">1.</span>创建组	</span><br><span class="line">	groupadd police</span><br><span class="line">	groupadd bandit</span><br><span class="line"><span class="number">2.</span>创建用户(直接放到对应组)</span><br><span class="line">	useradd -g police jackie</span><br><span class="line">	useradd -g police jerry</span><br><span class="line">	useradd -g bandit <span class="built_in">xh</span></span><br><span class="line">	useradd -g bandit xq</span><br><span class="line"><span class="number">3.</span>jackie 创建一个文件，自己可以读 r 写 w，本组人可以读，其它组没人任何权限</span><br><span class="line">	首先jackie登录，可以使用切换用户：su jackie ----&gt;这样不行，无法创建文件，权限不够</span><br><span class="line"></span><br><span class="line">	使用jackie登录，先设置密码<span class="number">123</span>，然后退出系统用jackie登录：passwd jackie</span><br><span class="line">	然后创建文件：touch jackie.txt </span><br><span class="line">	权限设置：</span><br><span class="line">		原权限：rw-r--r--</span><br><span class="line">		chmod o-r jackie.txt </span><br><span class="line">		修改后权限：rw-r-----</span><br><span class="line">		</span><br><span class="line">		也可以直接使用数字方式：chmod <span class="number">640</span> jackie.txt</span><br><span class="line">		</span><br><span class="line"><span class="number">4.</span>jackie 修改该文件，让其它组人可以读，本组人可以读写</span><br><span class="line">	chmod g+w o+r jackie.txt </span><br><span class="line">	或者</span><br><span class="line">	chmod <span class="number">664</span> jackie.txt</span><br><span class="line"></span><br><span class="line">	改后权限：rw-rw-r--</span><br><span class="line">	</span><br><span class="line"><span class="number">5.</span><span class="built_in">xh</span>投靠警察</span><br><span class="line">	由root执行这条指令</span><br><span class="line">	usermod -g police <span class="built_in">xh</span></span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>测试<span class="built_in">xh</span>和xq能不能对jackie.txt文件进行读写</span><br><span class="line">	分别使用<span class="built_in">xh</span>和xq登录(首先对其设置密码<span class="number">123</span>)</span><br><span class="line">		</span><br><span class="line">	jackie.txt文件在jackie目录下</span><br><span class="line">	要想对jackie.txt文件进行操作，首先进入jackie目录</span><br><span class="line">	但是jackie目录权限是：rwx------</span><br><span class="line">	所以<span class="built_in">xh</span>连jackie目录都进不去</span><br><span class="line"></span><br><span class="line">	解决办法：登录jackie，对jackie目录权限进行修改(也可以登录root进行修改)(必须都在home下才能执行这个修改权限命令)</span><br><span class="line">		登录</span><br><span class="line">		cd /home/</span><br><span class="line">		ll</span><br><span class="line">		得到jackie原目录权限：rwx------</span><br><span class="line">		修改权限：chmod <span class="number">770</span> jackie			(权限中有<span class="built_in">x</span>才能进入目录)</span><br><span class="line">		修改后jackie目录权限：rwxrwx---</span><br><span class="line"></span><br><span class="line">		这时<span class="built_in">xh</span>就可以进入jackie目录，并对jackie.txt进行读写</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">结论：如果要对目录内的文件进行操作，首先要有对该目录有相应权限，且必须有<span class="built_in">x</span>,表示可以进入该目录</span><br><span class="line"><span class="symbol">ps:</span>，如果一个用户原来不是那个组的，后来改为那个组并把该组成员权限放开，也无法访问那个组的内容时，权限可能没有立刻更新，重新登录即可，</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">	groupadd sx</span><br><span class="line">	groupadd yg</span><br><span class="line">2.建立四个用户(唐僧,悟空，八戒，沙僧)</span><br><span class="line">	useradd ts</span><br><span class="line">	useradd wk</span><br><span class="line">	useradd bj</span><br><span class="line">	useradd ss</span><br><span class="line">3.设置密码(都为123)</span><br><span class="line">	passwd ts</span><br><span class="line">	passwd wk</span><br><span class="line">	passwd bj</span><br><span class="line">	passwd ss</span><br><span class="line">4.妖怪组：悟空，八戒；神仙组：唐僧，沙僧</span><br><span class="line">	usermod -g yg wk</span><br><span class="line">	usermod -g yg bj</span><br><span class="line">	usermod -g sx ts</span><br><span class="line">	usermod -g sx ss</span><br><span class="line">5.用悟空建立一个文件 monkey.txt ，该文件要输出 i am a monkey</span><br><span class="line">	先使用悟空登录</span><br><span class="line">	vim monkey.txt</span><br><span class="line">	i am a monkey</span><br><span class="line">	:wq</span><br><span class="line">6.给八戒一个可以 r w 的权限</span><br><span class="line">	悟空和八戒是一组的</span><br><span class="line">	当前monkey.txt权限：-rw-r--r--</span><br><span class="line">	此时八戒只能r</span><br><span class="line">	命令：chmod g+w monkey.txt</span><br><span class="line">	现在monkey.txt权限：-rw-rw-r--</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>monkey.txt 加入一句话( i am a pig)</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">monkey.txt文件在wk目录下</span><br><span class="line">八戒要修改monkey.txt文件就要先进入wk目录</span><br><span class="line">但是此时wk目录权限：rwx------</span><br><span class="line">八戒进不去wk目录</span><br><span class="line">所以先修改wk目录权限：chmod g+r+w+x wk  (先把所以权限都给，在wk的home下写指令或root的home下写指令，因为目录在home下)</span><br><span class="line">现在wk目录权限：rwxrwx---</span><br><span class="line">这时八戒就能进入wk目录了</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>沙僧 对该文件没有权限</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">唐僧和沙僧是其他组，进不去wk目录</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>沙僧 放入妖怪组</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">	usermod -g yg ss</span><br><span class="line">	</span><br><span class="line">10.让沙僧修改该文件 monkey.txt, 加入一句话 (&quot;我是沙僧，我是妖怪!&quot;);</span><br><span class="line">	使用沙僧登录</span><br><span class="line">	cd /home/wk</span><br><span class="line">	viw monkey.txt</span><br><span class="line">	...</span><br><span class="line">	:wq</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rwx权限对于 文件夹(目录) 的细节讨论和测试!!!</span><br><span class="line">	x: 表示可以进入到该目录,比如 cd</span><br><span class="line">	r: 表示可以 ls ,将目录的内容显示</span><br><span class="line">	w: 表示可以在该目录下删除或者创建文件</span><br></pre></td></tr></table></figure>
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"></span><br><span class="line">#### 关于文件和目录的rwx权限的不同含义</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">| 文件类型 | 内容         | r            | w                          | <span class="keyword">x</span>        |</span><br><span class="line">| -------- | ------------ | ------------ | -------------------------- | -------- |</span><br><span class="line">| 文件     | 详细数据data | 读取文件内容 | 修改文件内容               | 执行文件 |</span><br><span class="line">| 目录     | 文件名       | 读到文件名   | 修改文件名，以及目录中内容 | 进入目录 |</span><br><span class="line"></span><br><span class="line">- 只有对目录有执行权限，才可以进入目录</span><br><span class="line"></span><br><span class="line">![https://img-blog.csdnimg.cn/img_convert/6c864b2ff2ef590858b7af6a242fd432.png#clientId=u93de3467-ed8b-4<span class="variable">&amp;crop</span>=0<span class="variable">&amp;crop</span>=0<span class="variable">&amp;crop</span>=1<span class="variable">&amp;crop</span>=1<span class="variable">&amp;from</span>=paste<span class="variable">&amp;height</span>=230<span class="variable">&amp;id</span>=u89a2e397<span class="variable">&amp;margin</span>=[object Object]<span class="variable">&amp;name</span>=image.png<span class="variable">&amp;originHeight</span>=287<span class="variable">&amp;originWidth</span>=662<span class="variable">&amp;originalType</span>=binary<span class="variable">&amp;ratio</span>=1<span class="variable">&amp;rotation</span>=0<span class="variable">&amp;showTitle</span>=false<span class="variable">&amp;size</span>=27901<span class="variable">&amp;status</span>=done<span class="variable">&amp;style</span>=none<span class="variable">&amp;taskId</span>=u03d679e4-8b90-4803-babb-c2b49f47600<span class="variable">&amp;title</span>=<span class="variable">&amp;width</span>=529.6](https://raw.githubusercontent.com/godwad/2023/main/20236c864b2ff2ef590858b7af6a242fd432.png)</span><br><span class="line"></span><br><span class="line">- 如果对目录没有`r`权限，则即使有`<span class="keyword">x</span>`权限进入了目录，使用`ls`命令也是会报`permission deny`错误</span><br><span class="line"></span><br><span class="line">![https://img-blog.csdnimg.cn/img_convert/58c45c1ca39506e30965a58faeef7ef4.png#clientId=u93de3467-ed8b-4<span class="variable">&amp;crop</span>=0<span class="variable">&amp;crop</span>=0<span class="variable">&amp;crop</span>=1<span class="variable">&amp;crop</span>=1<span class="variable">&amp;from</span>=paste<span class="variable">&amp;height</span>=250<span class="variable">&amp;id</span>=uc1945c47<span class="variable">&amp;margin</span>=[object Object]<span class="variable">&amp;name</span>=image.png<span class="variable">&amp;originHeight</span>=313<span class="variable">&amp;originWidth</span>=652<span class="variable">&amp;originalType</span>=binary<span class="variable">&amp;ratio</span>=1<span class="variable">&amp;rotation</span>=0<span class="variable">&amp;showTitle</span>=false<span class="variable">&amp;size</span>=29877<span class="variable">&amp;status</span>=done<span class="variable">&amp;style</span>=none<span class="variable">&amp;taskId</span>=u58fc4823-f2b3-4b80-a69a-ab8bb54d9f5<span class="variable">&amp;title</span>=<span class="variable">&amp;width</span>=521.6](https://raw.githubusercontent.com/godwad/2023/main/202358c45c1ca39506e30965a58faeef7ef4.png)</span><br><span class="line"></span><br><span class="line">&gt; 上图中，我们为zean用户，对test目录权限为`--<span class="keyword">x</span>`，所以执行`cd test`成功，但是在目录中执行`ls`失败</span><br><span class="line"></span><br><span class="line">- 若用户对目录没有`w`权限，则无法在目录中添加、删除文件</span><br><span class="line"></span><br><span class="line">![https://img-blog.csdnimg.cn/img_convert/306c0fa0b2fb54b25326da4336af04b9.png#clientId=u93de3467-ed8b-4<span class="variable">&amp;crop</span>=0<span class="variable">&amp;crop</span>=0<span class="variable">&amp;crop</span>=1<span class="variable">&amp;crop</span>=1<span class="variable">&amp;from</span>=paste<span class="variable">&amp;height</span>=314<span class="variable">&amp;id</span>=u4e39b276<span class="variable">&amp;margin</span>=[object Object]<span class="variable">&amp;name</span>=image.png<span class="variable">&amp;originHeight</span>=393<span class="variable">&amp;originWidth</span>=670<span class="variable">&amp;originalType</span>=binary<span class="variable">&amp;ratio</span>=1<span class="variable">&amp;rotation</span>=0<span class="variable">&amp;showTitle</span>=false<span class="variable">&amp;size</span>=37802<span class="variable">&amp;status</span>=done<span class="variable">&amp;style</span>=none<span class="variable">&amp;taskId</span>=u45aae9fa-9f49-4233-816b-50b434ab0de<span class="variable">&amp;title</span>=<span class="variable">&amp;width</span>=536](https://raw.githubusercontent.com/godwad/2023/main/2023306c0fa0b2fb54b25326da4336af04b9.png)</span><br><span class="line"></span><br><span class="line">&gt; 上图中为zean用户，对test目录权限为`r-<span class="keyword">x</span>`，没有写权限，所以执行`cd test`和`ls`成功，但是在用`echo hello &gt; b.txt`创建b.txt文件时失败，`rm a.txt`删除a.txt时失败。</span><br><span class="line">&gt; 在目录中添加文件和删除文件，需要的是`wx`权限</span><br><span class="line"></span><br><span class="line">![https://img-blog.csdnimg.cn/img_convert/d8944f808c6b2aa925af5e394278d425.png#clientId=u93de3467-ed8b-4<span class="variable">&amp;crop</span>=0<span class="variable">&amp;crop</span>=0<span class="variable">&amp;crop</span>=1<span class="variable">&amp;crop</span>=1<span class="variable">&amp;from</span>=paste<span class="variable">&amp;height</span>=341<span class="variable">&amp;id</span>=ua8f5f6c3<span class="variable">&amp;margin</span>=[object Object]<span class="variable">&amp;name</span>=image.png<span class="variable">&amp;originHeight</span>=426<span class="variable">&amp;originWidth</span>=700<span class="variable">&amp;originalType</span>=binary<span class="variable">&amp;ratio</span>=1<span class="variable">&amp;rotation</span>=0<span class="variable">&amp;showTitle</span>=false<span class="variable">&amp;size</span>=36005<span class="variable">&amp;status</span>=done<span class="variable">&amp;style</span>=none<span class="variable">&amp;taskId</span>=u56952ea8-a7b5-4edd-a422-f7d46d30985<span class="variable">&amp;title</span>=<span class="variable">&amp;width</span>=560](https://raw.githubusercontent.com/godwad/2023/main/2023d8944f808c6b2aa925af5e394278d425.png)</span><br><span class="line"></span><br><span class="line">&gt; 将test权限设置为`777`之后，zean用户就可以在目录中添加或删除文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Linux运行级别</span><br><span class="line"></span><br><span class="line">Linux系统有7种运行级别(runlevel):</span><br><span class="line"></span><br><span class="line">- 运行级别 0：系统<span class="comment">**停机状态**，系统默认运行级别不能设为0，否则不能正常启动运行</span></span><br><span class="line"><span class="comment">- 运行级别 1：单用户工作状态，root权限，用于系统维护，**找回丢失root密码**，禁止远程登陆</span></span><br><span class="line"><span class="comment">- 运行级别 2：多用户状态没有网络服务(没有NFS)</span></span><br><span class="line"><span class="comment">- 运行级别 3(multi-user.target)：多用户状态有网络服务(有NFS)，登陆后进入控制台**命令行模式**</span></span><br><span class="line"><span class="comment">- 运行级别 4：系统未使用保留给用户</span></span><br><span class="line"><span class="comment">- 运行级别 5(graphical.target)：图形界面</span></span><br><span class="line"><span class="comment">- 运行级别 6：系统正常关闭并**重启**，默认运行级别不能设为6，否则不能正常启动</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">常用运行级别是**3和5**，工作中一般用3，也可以指定默认运行级别</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">命令:`init [0123456]`</span></span><br><span class="line"><span class="comment">通过init:来切换不同的运行级别，比如动5-3，然后关机。</span></span><br><span class="line"><span class="comment"></span></span><br></pre></td></tr></table></figure>
<p>init 3</p>
<figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">查看当前默认级别:`<span class="string">systemctl</span> <span class="built_in">get-default`</span></span><br><span class="line">设置默认级别:`<span class="string">systemctl</span> <span class="built_in">set-default</span> <span class="string">TARCET</span>.<span class="string">target</span>`</span><br><span class="line"></span><br><span class="line">其中<span class="string">TARCET</span>可用以下代码：</span><br><span class="line"></span><br><span class="line">```<span class="string">c</span></span><br><span class="line"><span class="string">multi-user</span>.<span class="string">target</span>: <span class="string">analogous</span> <span class="string">to</span> <span class="string">runlevel</span> <span class="string">3</span></span><br><span class="line"><span class="string">graphical</span>.<span class="string">target</span>: <span class="string">analogous</span> <span class="string">to</span> <span class="string">runlevel</span> <span class="string">5</span></span><br><span class="line"><span class="string">12</span></span><br></pre></td></tr></table></figure>
<p>我们在 /etc/inittab 目录下就可以查看<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20237421b681e8404deeb3fc12e486c8af34.png" alt="在这里插入图片描述"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023c52e5f8aff114483b76eb58f8a672853.png" alt="在这里插入图片描述"></p>
<h1>如何找回 root 密码</h1>
<p>root 作为系统最高权限管理者，它的密码自然是至关重要的，那么 root 账户的密码应该怎么找回呢？步骤如下：</p>
<p>\1. 启动 Linux 系统，待进入开机界面后按 “e” 进入编辑界面，注意此处要快，在系统进入登录页面之前进行操作；</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20239da4e5102b7441fa8ad316e8ccce6394.png" alt="img"></p>
<p>\2. 进入编辑界面后，找到以“Linux 16 ”开头的内容所在行，并在行最后输入 init=/bin/sh；</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023e42d4ffe75c541b0bdc425167c112725.png" alt="img"></p>
<p>\3. 输入完成后，按下 Ctrl+X 进入单用户模式，如下界面即为单用户模式；</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023bd88685868774e6f9bbd1df3f45eecb3.png" alt="img"></p>
<p>\4. 在光标闪烁的位置输入 mount -o remount,rw /，输入完成后回车；</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023c0bda292c8ff4b56ba6f2939b85bfdc8.png" alt="img"></p>
<p>\5. 在新的行末输入 passwd 并回车，接下来输入密码、确认密码即可，修改密码成功后显示 passwd… 字样；</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202365db8e69ed7e4f66a58cd4caf5290064.png" alt="img"></p>
<p>\6. 接下来在新的行末输入 touch /.autorelabel，输入完成回车；</p>
<p>\7. 新的行末继续输入 exec /sbin/init，完成后回车等待系统修改密码；</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20239c55846e3987429ea1c2963228bda617.png" alt="img"></p>
<p>\8. 耐心等待，系统自动重启后新的 root 密码即可生效。</p>
<h1>Linux中的帮助命令</h1>
<h2 id="一、Linux帮助命令简介">一、<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Linux&amp;spm=1001.2101.3001.7020">Linux</a>帮助命令简介</h2>
<p>Linux 系统的命令数量有上千个，每个命令又有若干个甚至数十个参数指出不同情景下的使用。</p>
<p>有一些命令是我们日常工作需要经常使用的，即便不是特意背命令，也会因熟能生巧而印象深刻。但是对于那些不熟悉的命令，或者是熟悉命令的不熟悉的参数呢？</p>
<p>当然，我们不需要耗费大量精力去记忆这些命令和参数，只需要正确使用Linux 的帮助命令，就能够快速地定位到自己想要的命令和参数。</p>
<p>Linux 的帮助命令主要包含三个：</p>
<ol>
<li>help 命令与 --help 参数</li>
<li>man 命令</li>
<li>info 命令</li>
</ol>
<p>接下来，将介绍这三个命令的使用方法及区别。</p>
<h2 id="二、help-命令与-help-参数">二、help 命令与 --help 参数</h2>
<h3 id="2-1-help-命令">2.1 help 命令</h3>
<p>help 命令能够在控制台上打印出我们需要的命令的帮助信息，使用方式为：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">help &lt;command&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>例如，我们要查看 cd 命令和 mv 命令的帮助命令，使用上述形式的 help 命令时能够得到如下输出：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320200205201126271.png" alt="查看cd命令"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320200205201200568.png" alt="查看mv命令"></p>
<p>为什么会出现上述差异？为什么不能查看 mv 命令的帮助信息？这里需要引入一个“<strong>内建命令</strong>”和“<strong>外部命令</strong>”的概念</p>
<h3 id="2-2-内建命令与外部命令">2.2 内建命令与外部命令</h3>
<p>Linux 的<strong>内建命令</strong>是 shell 程序的一部分，Linux 系统加载运行时就被加载并驻留在系统内存里的，因此执行速度较快。</p>
<p>Linux 的<strong>外部命令</strong>是通过额外安装获得的命令，不随系统一起被加载到内容中，运行速度慢但功能强大。</p>
<p>使用 type 命令可以查看该命令是内建命令还是外部命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">type &lt;command&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>例如上文中，提及的 cd 命令和 mv 命令，我们看一下它们分别属于什么类型的命令</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320200205201348900.png" alt="cd 是一个内建命令"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20200205201408176.png" alt="mv 是一个外部命令"><br>
从上述信息中，我们发现 cd 命令是一个内建命令，mv 命令是一个外部命令。多次尝试后，可以发现，上述形式的 help 命令只能用于内建命令的帮助信息查询。</p>
<p>我们可以尝试查看 help 命令本身的帮助文档</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">help help</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320200205201635778.png" alt="查看 help 的帮助文档"></p>
<p>不难看出，只有内建命令能够使用下述形式的 help 命令查询帮助文档。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">help [option] &lt;command&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<h3 id="2-3-–-help-参数">2.3 – help 参数</h3>
<p>若是想用 help 来查询外部命令的帮助文档，上述形式是行不通的，但是可以用下述形式查询外部命令的帮助文档</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;command&gt; --help</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>**需要注意的是，这两个形式的 help 并不能完全等同。**前一种通过执行内建的 help 命令查看帮助文档，后一种是通过命令后携带参数 help 的方式来展示所查询命令的帮助文档。我们不妨尝试查询外部命令 mv 的帮助文档：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mv --help</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320200205201726762.png" alt="mv  命令支持了--help"></p>
<p>不难发现，mv 命令支持了 --help 的参数，才能展示这个命令的帮助信息并退出。</p>
<h2 id="三、man-命令">三、man 命令</h2>
<h3 id="3-1-man-提供的帮助信息">3.1 man 提供的帮助信息</h3>
<p>man 是 manual 的简写，与 help 命令和 --help 参数不同，使用 man 命令查询帮助手册时会进入 man page 界面，而非直接打印在控制台上。同时，<strong>相比与 help，man 命令的信息更全，help 则显示的信息简洁</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">man [option] &lt;command&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>例如，我们要查看 mv 命令的帮助信息</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">man mv</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320200205201919471.png" alt="man 命令查看 mv 的帮助文档"></p>
<p>man page 中提供了关于 mv 命令的 “名字” 、 “概要” 、 “介绍” 等信息，还有诸如 “作者信息” 、 “更多” 等其他信息未在图中展示。具体包括：</p>
<table>
<thead>
<tr>
<th>名称</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>NAME</td>
<td>命令名称及简要说明</td>
</tr>
<tr>
<td>SYNOPSIS</td>
<td>命令执行语法概要</td>
</tr>
<tr>
<td>DESCRIPTION</td>
<td>完整的命令说明</td>
</tr>
<tr>
<td>OPTIONS</td>
<td>列举所有可用的参数项</td>
</tr>
<tr>
<td>COMMANDS</td>
<td>当命令在执行的时候，可以在程序中执行的命令</td>
</tr>
<tr>
<td>FILES</td>
<td>这个命令所参考或链接的某些文件</td>
</tr>
<tr>
<td>SEE ALSO</td>
<td>有关这个命令的其他说明</td>
</tr>
<tr>
<td>EXAMPLE</td>
<td>一些可以参考的范例</td>
</tr>
<tr>
<td>BUGS</td>
<td>是否有相关的错误</td>
</tr>
</tbody>
</table>
<p>我们注意到，在第一行有 “MV(1)” 的字样，括号内的数字代表什么含义呢？它其实是对所查询信息的一个分类。</p>
<table>
<thead>
<tr>
<th>数字</th>
<th>代表含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>用户在shell环境中可操作的标准命令或可执行文件</td>
</tr>
<tr>
<td>2</td>
<td>系统内核调用的函数及工具</td>
</tr>
<tr>
<td>3</td>
<td>常用的库函数</td>
</tr>
<tr>
<td>4</td>
<td>设备文件与设备说明等</td>
</tr>
<tr>
<td>5</td>
<td>配置文件或文件格式</td>
</tr>
<tr>
<td>6</td>
<td>游戏等娱乐</td>
</tr>
<tr>
<td>7</td>
<td>协议信息等</td>
</tr>
<tr>
<td>8</td>
<td>系统管理员可用的管理命令</td>
</tr>
<tr>
<td>9</td>
<td>与 Linux 内核相关的文件文档</td>
</tr>
</tbody>
</table>
<h3 id="3-2-man-page-中的按键操作">3.2 man page 中的按键操作</h3>
<p>man 命令相比于 help 命令最大的优势在于用户可以在 man page 中，通过按键交互进行翻页、查找等操作。常见的按键操作如下所示。</p>
<table>
<thead>
<tr>
<th>按键</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>空格键</td>
<td>翻页</td>
</tr>
<tr>
<td>/str</td>
<td>向后查找str字符串</td>
</tr>
<tr>
<td>?str</td>
<td>向前查找str字符串</td>
</tr>
<tr>
<td>n, N</td>
<td>n 为搜索到的下一个字符串，N 为搜索到的上一个字符串</td>
</tr>
<tr>
<td>q</td>
<td>退出 man page</td>
</tr>
</tbody>
</table>
<h2 id="四、-info-命令">四、 info 命令</h2>
<h3 id="4-1-info-提供的帮助信息">4.1 info 提供的帮助信息</h3>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">info [option] &lt;command&gt;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>info 命令的功能基本与 man 命令相似，能够显示出命令的相关资料和信息。</p>
<p>而与 man 命令稍有区别的是，一方面，info 命令可以获取所查询命令相关的更丰富的帮助信息；另一方面，info page 将文件数据进行段落拆分，并以 “节点” 的形式支撑整个页面框架，并将拆分的段落与节点对应，使得用户可以在节点间跳转而方便阅读每一个段落的内容。</p>
<p>以 info info 为例，我们进入了关于命令 info 的 info page</p>
<p>第一层：顶层节点，展示了关于 info 命令的基本信息及<strong>目录信息</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320200205202002817.png" alt="第一层 info page 的内容"></p>
<p>第二层：一级目录节点，展示了一级目录中的详细内容，其中可能包含了二级目录列表</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320200205202024836.png" alt="第二层 info page 的内容"></p>
<p>第三层：二级目录节点：展示了二级目录中的详细内容</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320200205202044683.png" alt="第三层 info page的内容"></p>
<p>以此类推。</p>
<h3 id="4-2-info-page-中的按键操作">4.2 info page 中的按键操作</h3>
<p>info page 提供了翻页、节点跳转、搜索等交互操作。</p>
<table>
<thead>
<tr>
<th>按键</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>空格键</td>
<td>向下翻一页</td>
</tr>
<tr>
<td>回车键</td>
<td>跳到下一个节点</td>
</tr>
<tr>
<td>P</td>
<td>跳到上一个节点</td>
</tr>
<tr>
<td>U</td>
<td>回到上一层节点</td>
</tr>
<tr>
<td>回车键</td>
<td>光标移动到下一层节点处，以回车键进入</td>
</tr>
<tr>
<td>B</td>
<td>跳到当前 info page 的第一个节点处</td>
</tr>
<tr>
<td>E</td>
<td>跳到当前 info page 的最后一个节点处</td>
</tr>
<tr>
<td>/</td>
<td>在 info page 中进行搜索</td>
</tr>
<tr>
<td>Q</td>
<td>退出 info page</td>
</tr>
</tbody>
</table>
<h1>Linux文件目录指定</h1>
<h2 id="一、新建操作">一、新建操作</h2>
<hr>
<blockquote>
<p>1、mkdir  /路径/文件夹名字    ：新建一个文件夹</p>
<p>2、mkdir -p /路径/文件夹名/文件夹名/文件夹名    ：当创建没有上一级时将自动创建</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mkdir /tmp/aaa     #在根目录下的tmp文件夹下面创建一个名为aaa的文件夹</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@localhost ~]# mkdir -p /tmp/aaa/bbb/ccc    #在/tmp/aaa/bbb下创建ccc，因为有-p所以就算没有bbb文件夹也会自动帮你创建好，然后在bbb下创建ccc文件夹</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/00ff507d702e4864bb1837b100cb9d55.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202322724c045c0943f4b5c7723634b0f817.png" alt="img"></p>
<blockquote>
<p>3、touch  /路径/文件名   ：在指定路径下创建一个文件</p>
</blockquote>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root@localhost ~</span>]<span class="meta"># touch /tmp/bbb      #在根目录下的tmp文件夹下创建一个名为bbb的文件</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/87b59a2c77d847afb171d385df3cb84d.png" alt="img"></p>
<h2 id="二、查看操作">二、查看操作</h2>
<hr>
<h3 id="1、查看目录（代码中的数字是我自己加的，为了方便对应阅读）">1、查看目录（代码中的数字是我自己加的，为了方便对应阅读）</h3>
<blockquote>
<p>1、ls /路径   ：显示指定路径下的文件。</p>
<p>2、ls -l /路径  ：以列表的形式展示指定路径下的文件。</p>
<p>3、cd /路径  ：切换路径。</p>
<p>4、pwd      ：显示路径。</p>
</blockquote>
<h3 id="1-路径、目录命令">1.路径、目录命令</h3>
<h4 id="（1）pwd-显示当前所在位置的绝对路径"><strong>（1）pwd:显示当前所在位置的绝对路径</strong></h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234a1b41bcfb994fdbb74578ad6ef13373.png" alt="4a1b41bcfb994fdbb74578ad6ef13373.png"></p>
<h4 id="（2）cd系列">（2）cd系列</h4>
<p>cd 路径:切换当前工作位置</p>
<p>cd:切换目录:cd 要切换的位置(绝对路径/相对路径)</p>
<p>cd . :退回到当前位置</p>
<p>cd … :退回到上一层</p>
<p>cd ~:直接进入到当前用户的家目录</p>
<p>cd -:切换到上一次所在位置,在两个位置之间来回切换;</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023a394a132bd5f4a608202ab7e4c16fdd6.png" alt="a394a132bd5f4a608202ab7e4c16fdd6.png"></p>
<h4 id="（3）ls">（3）ls:</h4>
<p>默认显示当前位置当前目录下的内容</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/bbc79dc7e7f74173964c7e0a4423d025.png" alt=""></p>
<h4 id="（4）清屏">（4）<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%B8%85%E5%B1%8F&amp;spm=1001.2101.3001.7020">清屏</a></h4>
<p>clear:清屏(相当于翻页)</p>
<h3 id="2、查看文件内容（代码中的数字是我自己加的，为了方便对应阅读）">2、查看文件内容（代码中的数字是我自己加的，为了方便对应阅读）</h3>
<blockquote>
<p>1、cat /路径/文件名     ：查看文件的内容。</p>
<p>2、head -5 /路径/文件名   ：查看文件前五行内容。</p>
<p>3、tail -num 文件名    ：从距文件尾num行开始显示。</p>
<ol start="4">
<li>
<p>more 文件名</p>
</li>
<li>
<p>less文件名(<strong>最常用</strong>)</p>
</li>
</ol>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1、[root@localhost tmp]# cat /wang        #查看根目录下wang文件的内容</span><br><span class="line"></span><br><span class="line">2、[root@localhost tmp]# head -5 /wang             #查看根目录下wang文件前五行内容</span><br><span class="line"></span><br><span class="line">3、[root@localhost /]# tail -3 /wang          #从距尾3行开始显示</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="more命令">more命令</h4>
<p>Linux中 more命令功能类似 cat ，cat命令是整个文件的内容从上到下显示在屏幕上。 more 是一个基于<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=VI%E7%BC%96%E8%BE%91%E5%99%A8&amp;spm=1001.2101.3001.7020">VI编辑器</a>的文本过滤器，会以全屏幕的方式按页显示文本文件的内容，而最基本的指令就是按空白键（space）就往下一页显示，按 b 键就会往回（back）一页显示，而且还有搜寻字串的功能 。more命令从前向后读取文件，因此在启动时就加载整个文件。</p>
<h5 id="1-语法：">1.语法：</h5>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more <span class="selector-attr">[选项]</span> 要查看的文件</span><br></pre></td></tr></table></figure>
<h5 id="2-功能：">2.功能：</h5>
<p>more命令和cat的功能一样都是查看文件里的内容，但有所不同的是more可以按页来查看文件的内容，还支持直接跳转行等功能。</p>
<h5 id="3-参数：">3.参数：</h5>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">+n   从笫n行开始显示。</span><br><span class="line"><span class="literal">-n</span>   定义屏幕大小为n行。</span><br><span class="line">+/pattern   在每个档案显示前搜寻该字串（pattern），然后从该字串前两行之后开始显示。</span><br><span class="line"><span class="literal">-c</span>   从顶部清屏，然后显示。</span><br><span class="line"><span class="literal">-d</span>   提示“Press space to <span class="keyword">continue</span>，’q’ to quit（按空格键继续，按q键退出）”，禁用响铃功能。</span><br><span class="line"><span class="literal">-l</span>   忽略Ctrl+l（换页）字符。</span><br><span class="line"><span class="literal">-p</span>   通过清除窗口而不是滚屏来对文件进行换页，与<span class="literal">-c</span>选项相似。</span><br><span class="line"><span class="literal">-s</span>   把连续的多个空行显示为一行。</span><br><span class="line"><span class="literal">-u</span>   把文件内容中的下画线去掉。</span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<h5 id="4-常用操作命令：">4.常用操作命令：</h5>
<table>
<thead>
<tr>
<th>操作</th>
<th>功能说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>空格键 (space)</td>
<td>代表向下翻一页。</td>
</tr>
<tr>
<td>Enter</td>
<td>代表向下翻n行，需要定义，默认为1行。</td>
</tr>
<tr>
<td>q</td>
<td>代表立刻离开 more ，不再显示该文件内容。</td>
</tr>
<tr>
<td>Ctrl+F</td>
<td>向下滚动一屏。</td>
</tr>
<tr>
<td>Ctrl+B</td>
<td>返回上一屏。</td>
</tr>
<tr>
<td>=</td>
<td>输出当前行的行号。</td>
</tr>
<tr>
<td>:f</td>
<td>输出文件名和当前行的行号。</td>
</tr>
<tr>
<td>!命令</td>
<td>调用Shell，并执行命令。</td>
</tr>
<tr>
<td>V</td>
<td>调用vi编辑器</td>
</tr>
</tbody>
</table>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=less%E5%91%BD%E4%BB%A4&amp;spm=1001.2101.3001.7020">less命令</a>也是对文件或其它输出进行分页显示的工具，功能极其强大。less 的用法比起 more 更加有弹性。前面more介绍中，按b可以向前翻页， 按空格向后翻页， less 可以使用 [pageup] [pagedown] 等按键的功能来往前往后翻看文件，更容易用来查看一个文件的内容！除此之外，在 less 里头可以拥有更多的搜索功能，不止可以向下搜，也可以向上搜。最主要的区别：less 在查看之前不会加载整个文件。</p>
</blockquote>
<h4 id="less">less</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">less [参数]  文件 </span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<h5 id="1-命令功能">1.命令功能</h5>
<hr>
<p>less 与 more 类似，但使用 less 可以随意浏览文件，而且 less 在查看之前不会加载整个文件。显示方面，显示内容方式不是输出到窗口，而是类似vi打开的文件一样，退出按q。</p>
<h5 id="2．命令参数">2．命令参数</h5>
<hr>
<ul>
<li>-b &lt;缓冲区大小&gt; 设置缓冲区的大小</li>
<li>-e 当文件显示结束后，自动离开</li>
<li>-f 强迫打开特殊文件，例如外围设备代号、目录和二进制文件</li>
<li>-g 只标志最后搜索的关键词</li>
<li>-i 忽略搜索时的大小写</li>
<li>-m 显示类似more命令的百分比</li>
<li>-N 显示每行的行号</li>
<li>-o &lt;文件名&gt; 将less 输出的内容在指定文件中保存起来</li>
<li>-Q 不使用警告音</li>
<li>-s 显示连续空行为一行</li>
<li>-S 行过长时间将超出部分舍弃</li>
<li>-x &lt;数字&gt; 将“tab”键显示为规定的数字空格</li>
</ul>
<h5 id="3．按键操作">3．按键操作</h5>
<hr>
<ul>
<li>/字符串：向下搜索“字符串”的功能</li>
<li>?字符串：向上搜索“字符串”的功能</li>
<li>n：重复前一个搜索(与 / 或 ? 有关)</li>
<li>N：反向重复前一个搜索(与 / 或 ? 有关)</li>
<li>b 向后翻一页</li>
<li>d 向后翻半页</li>
<li>h 显示帮助界面</li>
<li>Q 退出less 命令</li>
<li>u 向前滚动半页</li>
<li>y 向前滚动一行</li>
<li>空格键 滚动一行</li>
<li>回车键 滚动一页</li>
<li>[pagedown]： 向下翻动一页</li>
<li>[pageup]： 向上翻动一页</li>
</ul>
<h5 id="4．实例">4．实例</h5>
<p>命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">less test1.txt</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>输出：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">ubuntu@VM-4-14-ubuntu:~/less$ less test1.txt</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">1</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line"></span><br><span class="line">12345678910111213141516171819202122</span><br></pre></td></tr></table></figure>
<p>如果显示END了 按 q退出，没有的情况下可以按page up page down 上下翻页，也可用上下键一行行上下翻动。<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=less%E5%91%BD%E4%BB%A4&amp;spm=1001.2101.3001.7020">less命令</a>也是对文件或其它输出进行分页显示的工具，功能极其强大。less 的用法比起 more 更加有弹性。前面more介绍中，按b可以向前翻页， 按空格向后翻页， less 可以使用 [pageup] [pagedown] 等按键的功能来往前往后翻看文件，更容易用来查看一个文件的内容！除此之外，在 less 里头可以拥有更多的搜索功能，不止可以向下搜，也可以向上搜。最主要的区别：less 在查看之前不会加载整个文件。</p>
<h4 id="tail命令（可用于追踪抓包）">tail命令（可用于追踪抓包）</h4>
<p>ail命令，主要是查看文件内容。结合一些参数，更方便于查看动态的文件内容，比如日志信息等。<br>
【tail -f filename】显示文件的尾部最后10行的信息，并且循环刷新，只要文件有更新，就会将更新信息显示到屏幕上，CTRL+C进行停止。</p>
<p>【tail -n num】显示文件尾部的n行内容。如【tail -n +10】显示第十行及之后一直到文件尾部的内容。【tail -n 10】则显示文件最后十行的内容。</p>
<p>【tail -c num】显示文件尾部的字节数。如【tail -c 100】显示文件的最后100个字节。【tail -c +1000】从第1000个字节开始展示，到文件的末尾。</p>
<p>【tail -v filename】显示文件名及文件详细处理信息。还可以同时指定多个文件输出【tail -v filename1 filename2】<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210516223035499.png" alt="在这里插入图片描述"><br>
【tail -q filename】不显示详细的处理信息。【tail -q filename1 filename2】指定多个文件，但不展示文件名称：<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210516223335602.png" alt="在这里插入图片描述"><br>
【tail -f filename --pid=PID】当进程号对应的进程停止时，则自动退出tail命令。<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202320210516223644539.png" alt="在这里插入图片描述"></p>
<h3 id="3、查看状态或者文件类型">3、查看状态或者文件类型</h3>
<blockquote>
<p>1、stat /路径/文件名    ：查看文件的详细信息。</p>
<p>2、file  /路径/文件名    ：查看文件的类型。</p>
<p>3、du -h /路径/文件名    ：以合适的单位显示文件的大小（会根据文件的大小自动选择单位）。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">1、[root@localhost /]# stat /wang             #查看根目录下wang文件详细信息</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  文件：&quot;/wang&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  大小：166       	块：8          IO 块：4096   普通文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">设备：fd00h/64768d	Inode：77747       硬链接：1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">权限：(0644/-rw-r--r--)  Uid：(    0/    root)   Gid：(    0/    root)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">环境：unconfined_u:object_r:etc_runtime_t:s0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">最近访问：2022-08-16 18:42:15.170251766 +0800</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">最近更改：2022-08-16 18:40:47.729281581 +0800</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">最近改动：2022-08-16 18:40:47.729281581 +0800</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">创建时间：-</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2、[root@localhost /]# file /wang       #查看根目录下wang文件的类型</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/wang: ASCII text</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3、[root@localhost /]# du -h /wang        #查看根目录下wang文件的大小</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4.0K	/wang                            #显示大小为4.0kb</span><br></pre></td></tr></table></figure>
<h2 id="三、删除操作">三、删除操作</h2>
<hr>
<blockquote>
<p>1、rm  -rf  /路径/文件夹名    ：强制删除文件夹和文件夹内的多有内容，注意请不要输入“rm -rf / ” 因为这个命令是前置删除根目录如果这样操作计算机将无法打开了</p>
<p>2、rm -f /路径/文件名        ：强制删除文件，无法删除文件夹</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1、[root@localhost /]# rm -rf /aaa           #强制删除根目录下aaa文件夹和文件夹下的所有内容</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2、[root@localhost /]# rm -f /tmp/aaa        #aaa是文件夹，无法删除文件夹</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rm: 无法删除&quot;/tmp/aaa&quot;: 是一个目录</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@localhost /]# rm -f /tmp/bbb           #bbb是一个文件，可以删除一个文件</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20237920a11a3e9a486d86c6b67cd5779993.png" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234675179399384244ab2230955827c2b0.png" alt="img"></p>
<h2 id="四、移动操作">四、移动操作</h2>
<hr>
<blockquote>
<p>1、 mv 原文件路径  目标文件路径    ：将源文件移动到目标文件</p>
<p>2、mv 原文件路径  目标路径/名字    ：将源文件移动到目标文件并且将原文件的名字进行重命名</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">1、[root@localhost /]# mv  /tmp/aaa    /aaa      #将/tmp的aaa文件夹移动到根目录下结果如图一</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2、[root@localhost /]# mv /aaa     /bbb           #将根目录下的aaa文件夹移动到/根目录，虽然路径没换 但是名字换了，将aaa改为了bbb结果如图二</span><br></pre></td></tr></table></figure>
<p>图一：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202372841dc01db240808e8d45433c5747e2.png" alt="img"></p>
<p>图二</p>
<p>​    <img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023c2d01cc6cd7846d788f189813096cd02.png" alt="img"></p>
<h2 id="五、复制操作">五、复制操作</h2>
<hr>
<blockquote>
<p>1、cp 源文件  目标文件    ：将源文件复制到目标目录下 不可以复制文件夹<br>
2、cp -r 源文件  目标文件：若给出的源文件是一个目录文件，此时将复制该目录下所有的子目录和文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1、cp   /aaa   /tmp        #（aaa是一个文件）将根目录下的aaa文件复制到/tmp路径下</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> [root@localhost /]# cp /bbb  /tmp        #因为bbb是一个文件夹所以系统直接略过不可以复制</span><br><span class="line"></span><br><span class="line"> cp: 略过目录&quot;/bbb&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2、cp   -r   /bbb    /tmp   #（bbb是一个文件夹）将根目录下的bbb文件夹复制到/tmp路径下</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="echo指令">echo指令</h2>
<p>Shell中的<strong>echo命令</strong>类似于php中的echo命令，都是用于输出。Shell中另有一个输出命令为<strong>printf命令</strong>，我没有另写文章介绍该命令，大家可以在<a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-shell-printf.html">Shell printf 命令</a>中查阅学习。</p>
<p>本文中的一系列实例用到的命令我都是在终端直接写的，输出也是输出在终端，这样方便学习和记录吧！其实也都可以放到脚本文件中执行。</p>
<h3 id="一、语法">一、语法</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> [-neE]  [arg ...]</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p><strong>（1）含义</strong></p>
<p><code>-n:</code>表示输出字符串不换行<br>
<code>-e:</code>表示对于<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6&amp;spm=1001.2101.3001.7020">转义字符</a>按对应的方式进行处理（若不加-e ，那么在输出时转义字符会按照普通字符进行处理，并不会达到自己想要达到的目的。）<br>
<code>-E:</code>禁用转义解释</p>
<table>
<thead>
<tr>
<th>转义字符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>\b</td>
<td>删除前一个字符</td>
</tr>
<tr>
<td>\n</td>
<td>换行</td>
</tr>
<tr>
<td>\t</td>
<td>水平制表符（tab）</td>
</tr>
<tr>
<td>\v</td>
<td>垂直制表符（tab）</td>
</tr>
<tr>
<td>\c</td>
<td>\c后面的字符将不会输出，输出完毕后也不会换行</td>
</tr>
<tr>
<td>\r</td>
<td>光标移动到首行，不换行</td>
</tr>
<tr>
<td>\f</td>
<td>换行，光标停在原处</td>
</tr>
<tr>
<td>\e</td>
<td>删除后一个字符</td>
</tr>
<tr>
<td>\</td>
<td>输出\</td>
</tr>
<tr>
<td>\0nnn</td>
<td>输出八进制nnn代表的ASCII字符</td>
</tr>
<tr>
<td>\xHH</td>
<td>输出十六进制数HH代表的ASCII字符</td>
</tr>
<tr>
<td>\a</td>
<td>输出一个警告的声音</td>
</tr>
</tbody>
</table>
<p><strong>（2）实例</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost my_shell]<span class="comment"># echo &quot;hello &quot;</span></span><br><span class="line">hello </span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo -n &quot;hello &quot;</span></span><br><span class="line">hello [root@localhost my_shell]<span class="comment"># echo  &quot;hello \b&quot;</span></span><br><span class="line">hello \b</span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo -e &quot;hello \b&quot;</span></span><br><span class="line">hello </span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo -en &quot;hello \b&quot;</span></span><br><span class="line">hello[root@localhost my_shell]<span class="comment"># echo -e &quot;hello\tworld&quot;</span></span><br><span class="line">hello	world</span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo -e &quot;hello\nworld&quot;</span></span><br><span class="line">hello</span><br><span class="line">world</span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo -e &quot;hello\vworld&quot;</span></span><br><span class="line">hello</span><br><span class="line">     world</span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo -e &quot;hello\cworld&quot;</span></span><br><span class="line">hello[root@localhost my_shell]<span class="comment"># echo -e &quot;hello\rworld&quot;</span></span><br><span class="line">world</span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo -e &quot;hello\aworld&quot;</span></span><br><span class="line">helloworld</span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo -e &quot;hello\cworld&quot;</span></span><br><span class="line">hello[root@localhost my_shell]<span class="comment"># echo -e &quot;\ehelloworld&quot;</span></span><br><span class="line">elloworld</span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo -e &quot;hello\\world&quot;</span></span><br><span class="line">hello\world</span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo -e &quot;\x31&quot;</span></span><br><span class="line">1</span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo -e &quot;\0123&quot;</span></span><br><span class="line">S</span><br><span class="line">123456789101112131415161718192021222324252627282930</span><br></pre></td></tr></table></figure>
<p><strong>（3）具体用法</strong><br>
　　上面介绍的主要是一些输出字符串相关的具体用法，下面详细例举一些echo命令的其他用法。<br>
<strong>1、显示普通字符串</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo &quot;hello world&quot;</span></span><br><span class="line">hello world</span><br><span class="line">[root@localhost ~]<span class="comment"># echo hello world</span></span><br><span class="line">hello world</span><br><span class="line"></span><br><span class="line"><span class="comment">#双引号可以省略，效果一致。（字符串的输出都是如此，下面一些实例也是可以省略双引号也能达到相同效果）</span></span><br><span class="line">123456</span><br></pre></td></tr></table></figure>
<p><strong>2、显示变量</strong><br>
　　这里用到<strong>read命令（从标准输入中读取一行,并把输入行的每个字段的值指定给 shell 变量）</strong>。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># read name</span></span><br><span class="line">Michael Zhang</span><br><span class="line">[root@localhost ~]<span class="comment"># echo &quot;My name is $name&quot;</span></span><br><span class="line">My name is Michael Zhang</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p><strong>3、显示换行</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo -e &quot;hello \nworld&quot;</span></span><br><span class="line">hello </span><br><span class="line">world</span><br><span class="line">123</span><br></pre></td></tr></table></figure>
<p><strong>4、显示不换行</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;OK! \c&quot;</span> <span class="comment"># -e 开启转义 \c 不换行</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span></span><br><span class="line"><span class="comment">#结果如下</span></span><br><span class="line">OK! hello world</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>
<p><strong>5、显示转义字符</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo &quot;\&quot;hello world\&quot;&quot;</span></span><br><span class="line"><span class="string">&quot;hello world&quot;</span></span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<p><strong>6、重定向</strong><br>
结果输出到文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello world&quot;</span> &gt; my_file</span><br><span class="line"><span class="comment">#将hello world输出到my_file文件</span></span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<p><strong>7、原样输出</strong><br>
用单引号可原样输出。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># echo &#x27;$name\&quot;&#x27;</span></span><br><span class="line"><span class="variable">$name</span>\&quot;</span><br><span class="line">[root@localhost ~]<span class="comment"># echo &#x27;$name&#x27;</span></span><br><span class="line"><span class="variable">$name</span></span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<p><strong>8、显示命令执行结果</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#显示当前日期</span></span><br><span class="line">[root@localhost ~]<span class="comment"># echo `date`</span></span><br><span class="line">Sat Jan 2 23:12:39 CST 2021</span><br><span class="line">123</span><br></pre></td></tr></table></figure>
<p><strong>这里使用的是反引号`, 而不是单引号’。</strong><br>
实际上输出一些执行命令的结果就是这样用反引号。</p>
<h3 id="二、echo的重定向（其它指令也可以像echo一样重定向）">二、echo的重定向（其它指令也可以像echo一样重定向）</h3>
<p>重定向是Shell中的一个重要内容，可以查看我的文章<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_16268979/article/details/112130317">Linux中的重定向</a>。<br>
echo命令的重定向功能经常被用于清空文件内容（删除文件）时使用，具体在我的另一篇文章中介绍：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_16268979/article/details/110355773">Linux中清空文件的方式</a></p>
<p>（1）<code>echo &quot;content&quot; &gt; filename</code><br>
将content<strong>覆盖</strong>到filename文件当中去，filename文件当中之前的内容不复存在了，实际上是修改了原文件的内容。</p>
<p>（2）<code>echo &quot;content&quot; &gt;&gt; filename</code><br>
将content<strong>追加</strong>到filename文件后，对filename文件之前的内容不修改，只进行增添，也叫追加重定向。</p>
<p>（3）实例</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost my_shell]<span class="comment"># touch test</span></span><br><span class="line">[root@localhost my_shell]<span class="comment"># cat test </span></span><br><span class="line">[root@localhost my_shell]<span class="comment"># ll</span></span><br><span class="line">total 4</span><br><span class="line">-rw-r--r-- 1 root root 175 Nov  6 17:46 del.sh</span><br><span class="line">-rw-r--r-- 1 root root   0 Nov  7 23:33 <span class="built_in">test</span></span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo &quot;123456&quot; &gt; test</span></span><br><span class="line">[root@localhost my_shell]<span class="comment"># cat test</span></span><br><span class="line">123456</span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo &quot;111111&quot; &gt; test</span></span><br><span class="line">[root@localhost my_shell]<span class="comment"># cat test</span></span><br><span class="line">111111</span><br><span class="line">[root@localhost my_shell]<span class="comment"># echo &quot;123456&quot; &gt;&gt; test</span></span><br><span class="line">[root@localhost my_shell]<span class="comment"># cat test</span></span><br><span class="line">111111</span><br><span class="line">123456</span><br><span class="line">[root@localhost my_shell]<span class="comment"># </span></span><br></pre></td></tr></table></figure>
<h2 id="ln指令">ln指令</h2>
<h3 id="介绍">介绍</h3>
<p><code>ln</code>是<code>linux</code>的一个重要命令，它的功能是为某一个文件在另外一个位置建立一个同步的链接。当我们需要在不同的目录，用到相同的文件时，我们不需要在每一个需要的目录下都放一个必须相同的文件，我们只要在某个固定的目录，放上该文件，然后在其它的目录下用ln命令链接(link)它就可以，不必重复的占用磁盘空间。平时使用感觉就像桌面应用上的快捷图标一样，比如你安装的<code>nginx</code>文件在<code>usr/local/nginx/sbin/nignx</code>，可以在<code>usr/local/bin</code>中建立一个<code>nginx</code>的软连接，这样每次就可以全局访问了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 给nginx建立一个可以全局访问的软连接</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ln -s /usr/local/nginx/sbin/nginx /usr/local/bin/nginx</span><br></pre></td></tr></table></figure>
<h3 id="命令">命令</h3>
<h4 id="命令格式">命令格式</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">ln [参数][源文件或目录][目标文件或目录]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;ln -b&quot; 如果目标目录中已经有同名的文件，那么在覆盖之前先进行备份</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;ln -f&quot; 如果目标目录中已经有同名的文件，无需提示，直接覆盖</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;ln -i&quot; 人机交互，如果目标目录中已经有同名的文件，则提示是否进行覆盖</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;ln -n&quot; 把软链接视为一般目录(说明：范例中我会详细解释)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;ln -s&quot; 创建软链接</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;ln -v&quot; 详细显示操作进行的步骤。(v为verbose的意思)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">选择参数:</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-S “-S&lt;字尾备份字符串&gt; ”或 “--suffix=&lt;字尾备份字符串&gt;”</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-V “-V&lt;备份方式&gt;”或“--version-control=&lt;备份方式&gt;”</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--help 显示帮助信息</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--version 显示版本信息</span><br></pre></td></tr></table></figure>
<h4 id="命令功能">命令功能</h4>
<p>Linux文件系统中，有所谓的链接(link)，我们可以将其视为档案的别名，而链接又可分为两种 : 硬链接(hard link)与软链接(symbolic link)，硬链接的意思是一个档案可以有多个名称，而软链接的方式则是产生一个特殊的档案，该档案的内容是指向另一个档案的位置。硬链接是存在同一个文件系统中，而软链接却可以跨越不同的文件系统。</p>
<p>软链接：</p>
<ol>
<li>软链接，以路径的形式存在。类似于Windows操作系统中的快捷方式</li>
<li>软链接可以 跨文件系统 ，硬链接不可以</li>
<li>软链接可以对一个不存在的文件名进行链接</li>
<li>软链接可以对目录进行链接</li>
</ol>
<p>硬链接:</p>
<ol>
<li>硬链接，以文件副本的形式存在。但不占用实际空间。</li>
<li>不允许给目录创建硬链接</li>
<li>硬链接只有在同一个文件系统中才能创建</li>
</ol>
<p>这里有两点要注意：</p>
<p>第一，ln命令会保持每一处链接文件的同步性，也就是说，不论你改动了哪一处，其它的文件都会发生相同的变化；</p>
<p>第二，ln的链接又分软链接和硬链接两种，软链接就是ln –s 源文件 目标文件，它只会在你选定的位置上生成一个文件的镜像，不会占用磁盘空间，硬链接 ln 源文件 目标文件，没有参数-s， 它会在你选定的位置上生成一个和源文件大小相同的文件，无论是软链接还是硬链接，文件都保持同步变化。</p>
<p>ln指令用在链接文件或目录，如同时指定两个以上的文件或目录，且最后的目的地是一个已经存在的目录，则会把前面指定的所有文件或目录复制到该目录中。若同时指定多个文件或目录，且最后的目的地并非是一个已存在的目录，则会出现错误信息。</p>
<h3 id="事例">事例</h3>
<h4 id="创建一个硬链接文件">创建一个硬链接文件</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/689a562957463aa3d86891a8383b8b37.png" alt="img"></p>
<h4 id="创建一个软链接文件">创建一个软链接文件</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/dfd2d1a96621d94dd70144591d2c72c3.png" alt="img"></p>
<h4 id="创建一个硬链接文件，如果目标目录中已经有同名文件，覆盖前先进行备份">创建一个硬链接文件，如果目标目录中已经有同名文件，覆盖前先进行备份</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/08e26cf7d618fe7e32e4e6e64bd7dc66.png" alt="img"></p>
<h4 id="给目录创建一个软链接">给目录创建一个软链接</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/a9a3613cf7da0783b3075cf1c546435e.png" alt="img"></p>
<h4 id="“ln-n”-命令实例说明">“ln -n” 命令实例说明</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/868d7d934dfa3a1b61d81bbe3d65bde2.png" alt="img"></p>
<h4 id="创建软链接失败实例说明">创建软链接失败实例说明</h4>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/img_convert/d883a2f74d5a71821b7bfb5af5aab356.png" alt="img"></p>
<h3 id="特别说明">特别说明</h3>
<ol>
<li>创建软链接时，如果软链接文件跟源文件不在同一个目录，那么源文件地址必须为绝对路径，否则创建出来的软链接<br>
无法使用。</li>
<li>不能针对文件创建硬链接。“linux系统中的硬连接有两个限制：不能跨越文件系统和不允许普通用户对目录作硬连接。<br>
至于第一个限制，很好理解，而第二个就不那么好理解了。 我们对任何一个目录用 <code>ls -l</code> 命令都可以看到其连接数至少<br>
是2，这也说明了系统中是存在硬连接的，而且命令 <code>ln -d</code> 也可以让超级用户对目录作硬连接，这些都说明了系统限制对<br>
目录进行硬连接只是一个硬性规定，并不是逻辑上不允许或技术上的不可行。那么操作系统为什么要进行限制呢？如果引<br>
入了对目录的硬连接就有可能在目录中引入循环，那么在目录遍历的时候系统就会陷入无限循环当中。也许你会说，符号<br>
连接不也可以引入循环吗，那么为什么不限制目录的符号连接呢？原因就在于在linux系统中，每个文件(目录也是文件)<br>
都对应着一个<code>inode</code>结构，其中<code>inode</code>数据结构中包含了文件类型(目录，普通文件，符号连接文件等等)的信息，也就是<br>
说操作系统在遍历目录时可以判断出符号连接，既然可以判断出符号连接当然就可以采取一些措施来防范进入过大的循环<br>
了，系统在连续遇到8个符号连接后就停止遍历，这就是为什么对目录符号连接不会进入死循环的原因了。但是对于硬连接<br>
，由于操作系统中采用的数据结构和算法限制，目前是不能防这种死循环的。”</li>
</ol>
<h2 id="history指令">history指令</h2>
<h3 id="1-history-显示历史命令">1.history 显示历史命令</h3>
<ul>
<li><strong>作用:用于显示历史记录和执行过的指令命令</strong></li>
<li><strong>当登录shell或者是退出的时候会自动进行读取和存储</strong></li>
</ul>
<h4 id="1-常用参数">1.常用参数</h4>
<figure class="highlight ldif"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">语法:</span><br><span class="line"><span class="comment"># history 选项 参数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#参数</span></span><br><span class="line"><span class="literal">-</span>n 	<span class="comment">#显示最近的n条记录</span></span><br><span class="line"><span class="literal">-</span>a 	<span class="comment">#将历史命令缓冲区中命令写入历史命令文件中</span></span><br><span class="line"><span class="literal">-</span>c 	<span class="comment">#将目前的shell中的所有 history 内容全部消除 实际为假删除</span></span><br><span class="line"><span class="literal">-</span>r 	<span class="comment">#将历史命令文件中的命令读入当前历史命令缓冲区</span></span><br><span class="line"><span class="literal">-</span>w 	<span class="comment">#将当前历史命令缓冲区命令写入历史命令文件中</span></span><br><span class="line"><span class="literal">-</span>d 	<span class="comment">#删除历史记录中指定的行</span></span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure>
<h3 id="2-常用范例">2.常用范例</h3>
<h4 id="1-获取历史记录的最新2两条">1.获取历史记录的最新2两条</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># history 2</span></span><br><span class="line">  342  <span class="built_in">cd</span></span><br><span class="line">  343  <span class="built_in">history</span> 2</span><br><span class="line">这种方式获取的最新两条记录,也会把最后一条命令算上</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<h4 id="2-执行最后一次命令">2.执行最后一次命令</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># !!</span></span><br><span class="line"><span class="built_in">history</span> 2</span><br><span class="line">  342  <span class="built_in">cd</span></span><br><span class="line">  343  <span class="built_in">history</span> 2</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<h4 id="3-清空当前历史记录-只是清空缓存中的历史记录，伪删除">3.清空当前历史记录(只是清空缓存中的历史记录，伪删除)</h4>
<p><strong>-c 参数是清空所有历史记录</strong></p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># history -c</span></span><br><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># history</span></span><br><span class="line">    <span class="number">1</span>  history</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<p><strong>这种方式类似于clear,并不会文件中的历史记录删除,如果要真正的历史记录,需要用文本中第3条关于history的配置文件.</strong></p>
<h4 id="4-将当前缓存中的历史记录写入文件-缓存中的记录是空的-用空的数据写入文件，将文件内部删除">4.将当前缓存中的历史记录写入文件(缓存中的记录是空的-用空的数据写入文件，将文件内部删除)</h4>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># history -w</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="5-删除某行历史记录-这样可以有针对性的保留历史记录">5.删除某行历史记录(这样可以有针对性的保留历史记录)</h4>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">删除第<span class="number">25</span>行历史记录</span><br><span class="line">[root<span class="symbol">@localhost</span> ~]<span class="meta"># history -d 25</span></span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<h4 id="6-！-数字-代表执行历史中第n条命令">6.！+数字 代表执行历史中第n条命令</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# !30</span><br><span class="line">cd /etc/sysconfig/network-scripts/</span><br><span class="line">12</span><br></pre></td></tr></table></figure>
<h4 id="7-字符串-代表搜索历史命令最近一个以xxxx字符开头的命令">7.!+字符串 代表搜索历史命令最近一个以xxxx字符开头的命令</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cd /etc/sysconfig/network-scripts/</span><br><span class="line">[root@localhost ~]# !cd</span><br><span class="line">cd /etc/sysconfig/network-scripts/</span><br><span class="line">123</span><br></pre></td></tr></table></figure>
<h4 id="8-crtl-r-输入某条命令的关键字，找出对应的命令，按右光标键">8.crtl+r 输入某条命令的关键字，找出对应的命令，按右光标键</h4>
<p><strong>在终端中按捉 [Ctrl] 键的同时 [r] 键，出现提示：(reverse-i-search),</strong><br>
<strong>此时你尝试一下输入你以前输入过的命令，当你每输入一个字符的时候，终端都会滚动显示你的历史命令。</strong><br>
<strong>当显示到你想找的合适的历史命令的时候，直接 [Enter]，就执行了历史命令。</strong></p>
<h3 id="3-关于history的配置文件">3.关于history的配置文件</h3>
<ul>
<li><strong>所有我们用history命令看到的历史记录,都默认保存在:~/.bash_history;</strong></li>
<li><strong>如果是root用户就是在/root/.bash_history文件里;</strong></li>
<li><strong>直接删除这个文件会清除历史记录,再登陆系统会自动重新生成这个文件</strong></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e17d029583474cce91acd6f95ea121d5.png" alt="在这里插入图片描述"></p>
<ol>
<li><strong>Linux命令的历史记录,会持久化存储,默认位置是当前用户家目录的 .bash_history 文件中,读取历史记录,存储在相应内存的缓冲区中</strong></li>
<li><strong>我们平时操纵的Linux命令,都会记录在缓冲区中,包括history命令所执行的历史命令管理,都是在操纵缓冲区,而不是直接操纵.bash_history文件</strong></li>
<li><strong>当我们退出shell时,比如按下 Ctrl+D 时,shell进程会把历史记录缓冲区的内容,写回到.bash_history 文件中</strong></li>
</ol>
<h2 id="时间与日期日历指令-date-与-cal">时间与日期日历指令-date 与 cal</h2>
<h3 id="一、date指令">一、date指令</h3>
<p>date指令用处较多，下面一个一个来介绍</p>
<h4 id="1-显示当前系统日期时间">1.显示当前系统日期时间</h4>
<p>举个例子，显示当前系统日期，直接写</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>给大家看一下它的一个格式<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023da1e306b14aa4eb6b29408c4a9518762.png" alt="在这里插入图片描述"><br>
当然，我们也可以让它只显示你想显示的日期格式<br>
比如<br>
显示当前年份</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +%Y</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>显示当前月份</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +%m</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>显示当前是哪一天</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> +%d</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>显示当前的年月日</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> <span class="string">&quot;+%Y-%m-%d&quot;</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>显示当前时间的<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%B9%B4%E6%9C%88%E6%97%A5%E6%97%B6%E5%88%86%E7%A7%92&amp;spm=1001.2101.3001.7020">年月日时分秒</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> <span class="string">&quot;+%Y-%m-%d %H:%M:%S&quot;</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<h4 id="2-设置系统日期">2.设置系统日期</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> -s <span class="string">&quot;日期字符串&quot;</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>比如把系统时间设置成2022年6月20日9点33分50秒</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">date</span> -s <span class="string">&quot;2022-6-20 9:33:50&quot;</span></span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<h3 id="二、cal指令">二、<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=cal&amp;spm=1001.2101.3001.7020">cal</a>指令</h3>
<p>cal指令用于查看日历</p>
<p>比如，查看当前日历</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cal </span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>如果我想查看2020年的日历</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cal 2020</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>如果我想查看2020年6月份的日历</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cal 6 2020</span><br></pre></td></tr></table></figure>
<h2 id="查找指令">查找指令</h2>
<p>在使用 Linux 系统的时候，我们经常会需要查找某些文件，但是大多数情况下我们并不能确定这些文件的具体位置，这样的话就非常浪费我们的时间。Linux 为我们提供了很多的用于文件搜索的命令，如果需求比较简单可以使用 <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=locate&amp;spm=1001.2101.3001.7020">locate</a>，which，whereis 来完成搜索，如果需求复杂可以使用 find, grep 进行搜索。其中 which 在前边已经介绍过了， 使用方法和功能就直接略过了，whereis 局限性太大，不常用这里也就不介绍了。</p>
<h3 id="1-find（查文件）">1. find（查文件）</h3>
<blockquote>
<p>find 是 Linux 中一个搜索功能非常强大的工具，它的主要功能是根据文件的属性，查找对应的磁盘文件，比如说我们常用的一些属性 文件名 , 文件类型 , 文件大小 , 文件的目录深度 等，下面基于这些常用数据来讲解一些具体的使用方法。</p>
<p>如果想用通过属性对文件进行搜索， 只需要指定出属性对应的参数就可以了， 下面将依次进行介绍。</p>
</blockquote>
<h4 id="1-1-文件名-name">1.1 文件名 (-name)</h4>
<blockquote>
<p>根据文件名进行搜索有两种方式: 精确查询和模糊查询。关于模糊查询必须要使用对应的通配符，最常用的有两个， 分别为 * 和 ?。其中 * 可以匹配零个或者多个字符, ?用于匹配单个字符。</p>
<p>如果我们进行模糊查询，建议（非必须）将带有通配符的文件名写到引号中（单引号或者双引号都可以），这样可以避免搜索命令执行失败（如果不加引号，某些情况下会这样）。</p>
<p>如果需要根据文件名进行搜索，需要使用参数 -name。</p>
</blockquote>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法格式: 根据文件名搜索 </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable">$ </span>find 搜索的路径 -name 要搜索的文件名</span><br></pre></td></tr></table></figure>
<blockquote>
<p>根据文件名搜索举例:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"># 模式搜索</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 搜索 root 家目录下文件后缀为 txt 的文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@VM-8-14-centos ~]# find /root -name &quot;*.txt&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 精确搜索</span><br><span class="line"></span><br><span class="line"># 搜索 root 家目录下文件名为 onepiece.txt 的文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@VM-8-14-centos ~]# find /root -name &quot;onepiece.txt&quot;</span><br><span class="line"></span><br><span class="line">/root/luffy/get/onepiece/onepiece.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/root/luffy/get/onepiece.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/root/luffy/onepiece.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/root/onepiece.txt</span><br></pre></td></tr></table></figure>
<h4 id="1-2-文件类型-type">1.2 文件类型 (-type)</h4>
<blockquote>
<p>在前边文章中已经介绍过 Linux 中有 7 中文件类型 , 如果有去求我们可以通过 find 对指定类型的文件进行搜索，该属性对应的参数为 -type。其中每种类型都有对应的关键字，如下表：</p>
</blockquote>
<table>
<thead>
<tr>
<th>文件类型</th>
<th>类型的字符描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>普通文件类型</td>
<td>f</td>
</tr>
<tr>
<td>目录类型</td>
<td>d</td>
</tr>
<tr>
<td>软连接类型</td>
<td>l</td>
</tr>
<tr>
<td>字符设备类型</td>
<td>c</td>
</tr>
<tr>
<td>块设备类型</td>
<td>b</td>
</tr>
<tr>
<td>管道类型</td>
<td>p</td>
</tr>
<tr>
<td>本地套接字类型</td>
<td>s</td>
</tr>
</tbody>
</table>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法格式: </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable">$ </span>find 搜索的路径 -<span class="keyword">type</span> 文件类型</span><br></pre></td></tr></table></figure>
<blockquote>
<p>根据文件类型搜索举例:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 搜索 root 用户家目录下, 软连接类型的文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@VM-8-14-centos ~]# find /root -type l</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/root/link.lnk</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/root/luffy/get/link.lnk</span><br><span class="line"></span><br><span class="line">/root/file/link</span><br></pre></td></tr></table></figure>
<h4 id="1-3-文件大小-size">1.3 文件大小 (-size)</h4>
<blockquote>
<p>如果需要根据文件大小进行搜索，需要使用参数 -size。关于文件大小的单位有很多，可以根据实际需求选择，常用的分别有 k(小写), M(大写), G(大写)。</p>
<p>在进行文件大小判断的时候，需要指定相应的范围，涉及的符号有两个分别为：加号 (+) 和 减号 (-)，下面具体说明其使用方法：</p>
</blockquote>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># 语法格式: </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ find 搜索的路径 -size [+|-]文件大小</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="bullet">	-</span> 文件大小需要加单位: </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="bullet">		-</span> k (小写)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="bullet">		-</span> M (大写)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="bullet">		-</span> G (大写)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>关于文件大小的区间划分非常重要，请仔细阅读，并思考，可以自己画个图，这里以 4k 来举例:</p>
<ol>
<li>-size 4k 表示的区间为 (4-1k，4k], 表示一个区间，大于 3k, 小于等于 4k</li>
<li>-size -4k: [0k, 4-1k], 表示一个区间，大于等于 0 并且 小于等于 3k</li>
<li>-size +4k: (4k, 正无穷), 表示搜索大于 4k 的文件</li>
</ol>
</blockquote>
<blockquote>
<p>根据文件大小搜索举例:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 搜索当前目录下 大于1M的所有文件 (file&gt;3M)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ find ./ -size +3M</span><br><span class="line"></span><br><span class="line"># 搜索当前目录下 大于等于0M并且小于等于2M的文件 (0M &lt;= file &lt;=2M)</span><br><span class="line"></span><br><span class="line">$ find ./ -size -3M</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 搜索当前目录下 大于2M并且小于等于3M的文件 (2M &lt; file &lt;=3M)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ find ./ -size 3M</span><br><span class="line"></span><br><span class="line"># 搜索当前目录下 大于1M 并且 小于等于 3M 的文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ find ./ -size +1M -size -4M</span><br></pre></td></tr></table></figure>
<h4 id="1-4-目录层级">1.4 目录层级</h4>
<blockquote>
<p>因为 Linux 的目录是树状结构，所有目录可能有很多层，在搜索某些属性的时候可以指定只搜索某几层目录，相关的参数有两个，分别为: -maxdepth 和 -mindepth。</p>
<p>这两个参数不能单独使用， 必须和其他属性一起使用，也就是搜索某几层目录中满足条件的文件。</p>
</blockquote>
<ul>
<li>-maxdepth: 最多搜索到第多少层目录，</li>
<li>-mindepth: 至少从第多少层开始搜索</li>
</ul>
<blockquote>
<p>下面通过 find 搜索某几层目录中文件名满足条件的文件:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 查找文件, 从根目录开始, 最多搜索5层, 这个文件叫做 *.txt (1 &lt;= 层数 &lt;= 5)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ sudo find / -maxdepth 5 -name &quot;*.txt&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 查找文件, 从根目录开始, 至少从第5层开始搜索, 这个文件叫做 *.txt (层数&gt;=5层)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ sudo find / -mindepth 5 -name &quot;*.txt&quot;</span><br></pre></td></tr></table></figure>
<h4 id="1-5-同时执行多个操作">1.5 同时执行多个操作</h4>
<blockquote>
<p>在搜索文件的时候如果想在一个 find 执行多个操作，通过使用管道 (|) 的方式是行不通的，比如下面的操作:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 比如: 通过find搜索最多两层目录中后缀为 .txt 的文件, 然后再查看这些满足条件的文件的详细信息</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 在find操作中直接通过管道操作多个指令, 最终输出的结果是有问题, 因此不能直接这样使用</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ find ./ -maxdepth 2  -name &quot;*.txt&quot; | ls -l</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-rw-r--r-- 1 root root 598314 Dec  2 02:07 rarlinux-x64-6.0.0.tar.gz</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果想要实现上面的需求，需要在 find 中使用 exec, ok, <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=xargs&amp;spm=1001.2101.3001.7020">xargs</a>, 这样就可以在 find 命令执行完毕之后，再执行其他的子命令了。</p>
</blockquote>
<h5 id="1-5-1-exec">1.5.1 exec</h5>
<blockquote>
<p>-exec 是 find 的参数，可以在exec参数后添加其他需要被执行的shell命令。</p>
<p>find 添加了 exec 参数之后，命令的尾部需要加一个后缀 {} ;, 注意 {} 和 \ 之间需要有一个空格。</p>
<p>在参数 -exec 后添加的 shell 命令处理的是 find 搜索之后的结果，find 的结果会作为 新添加的 shell 命令 的输入，最后在终端上输出最终的处理结果。</p>
</blockquote>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法：</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$ </span>find 路径 参数 参数值 -exec shell命令<span class="number">2</span> &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>命令的使用效果演示:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 搜索最多两层目录, 文件名后缀为 .txt的文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ find ./ -maxdepth 2  -name &quot;*.txt&quot; </span><br><span class="line"></span><br><span class="line">./luffy/robin.txt</span><br><span class="line"></span><br><span class="line"># 搜索到满足条件的文件之后, 再继续查看文件的详细属性信息</span><br><span class="line"></span><br><span class="line">$ find ./ -maxdepth 2  -name &quot;*.txt&quot; -exec ls -l &#123;&#125; \; </span><br><span class="line"></span><br><span class="line">-rw-r--r-- 1 root root 0 Jan 25 17:54 ./luffy/robin.txt</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h5 id="1-5-2-ok">1.5.2 ok</h5>
<blockquote>
<p>-ok 和 -exec 都是 find 命令的参数，使用方式类似，但是这个参数是交互式的，在处理 find 的结果的时候，会向用户发起询问，比如在删除搜索结果的时候，为了保险起见，就需要询问机制了。</p>
<p>语法格式如下:</p>
</blockquote>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法: 其实就是将 -exec 替换为 -ok, 其他都不变</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$ </span>find 路径 参数 参数值 -ok shell命令<span class="number">2</span> &#123;&#125; \;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>命令效果演示:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"># 搜索到了2个满足条件的文件</span><br><span class="line"></span><br><span class="line">$ find ./ -maxdepth 1  -name &quot;*.txt&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">./aaaaa.txt </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">./english.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 查找并显示文件详细信息</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ find ./ -maxdepth 1  -name &quot;*.txt&quot; -ok ls -l &#123;&#125; \;     </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt; ls ... ./aaaaa.txt &gt; ? y		# 同意显示文件详细信息</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-rw-rw-r-- 1 robin robin 10 Apr 17 11:34 ./aaaaa.txt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt; ls ... ./english.txt &gt; ? n	# 不同意显示文件详细信息, 会跳过显示该条信息</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 什么时候需要交互呢? ---&gt; 删除文件的时候</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ find ./ -maxdepth 1  -name &quot;*.txt&quot; -ok rm -rf &#123;&#125; \;     </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt; rm ... ./aaaaa.txt &gt; ? y		# 同意删除</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt; rm ... ./english.txt &gt; ? n	# 不同意删除</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 删除一个文件之后再次进行相同的搜索</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$ find ./ -maxdepth 1  -name &quot;*.txt&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">./english.txt		# 只剩下了一个.txt 文件。</span><br></pre></td></tr></table></figure>
<h5 id="1-5-3-xargs">1.5.3 xargs</h5>
<blockquote>
<p>在使用 find 的 -exec 参数的时候，需要在指定的子命令尾部添加几个特殊字符 {} ;，一不小心就容易写错，有一种看起来更加直观、书写更加简便的方式，我们可以使用 xargs 替换掉 -exec 参数，而且在处理数据的时候 xargs更高效。有了 xargs 的加持我们就可以在 find 命令中直接使用管道完成前后命令的数据传递，使用方法如下:</p>
</blockquote>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在find 中 使用 xargs 关键字我们就可以使用管道了, 否则使用管道也不会起作用</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 find 搜索的结果通过管道传递给后边的shell命令继续处理</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable">$ </span>find 路径 参数 参数值 | xargs shell命令<span class="number">2</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>命令效果演示:</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># 查找文件</span><br><span class="line"></span><br><span class="line">$ find ./ -maxdepth 1  -name &quot;*.cpp&quot; </span><br><span class="line"></span><br><span class="line">./occi.cpp</span><br><span class="line"></span><br><span class="line">./main.cpp</span><br><span class="line"></span><br><span class="line">./test.cpp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 查找文件, 并且显示文件的详细信息</span><br><span class="line"></span><br><span class="line">robin@OS:~$ find ./ -maxdepth 1  -name &quot;*.cpp&quot; | xargs ls -l</span><br><span class="line"></span><br><span class="line">-rw-r--r-- 1 robin robin 2223 Mar  2  2020 ./main.cpp</span><br><span class="line"></span><br><span class="line">-rw-r--r-- 1 robin robin 1406 Mar  2  2020 ./occi.cpp</span><br><span class="line"></span><br><span class="line">-rw-r--r-- 1 robin robin 2015 Mar  1  2020 ./test.cpp</span><br><span class="line"></span><br><span class="line"># xargs的效率比使用 -exec 效率高</span><br><span class="line"></span><br><span class="line">	-exec:  将find查询的结果逐条传递给后边的shell命令</span><br><span class="line"></span><br><span class="line">	-xargs: 将find查询的结果一次性传递给后边的shell命令</span><br></pre></td></tr></table></figure>
<h3 id="2-grep（查文件里具体内容）">2. grep（查文件里具体内容）</h3>
<h4 id="一、grep基本介绍">一、grep基本介绍</h4>
<p>全拼:Global search REgular expression and Print out the line.</p>
<p>作用:<strong>文本搜索工具，根据用户指定的“模式（过滤条件)”对目标文本逐行进行匹配检查，打印匹配到的行.</strong></p>
<p><strong>模式:由正则表达式的元字符及文本字符所编写出的过滤条件﹔</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023dd5eebd439ac4ec8b84e949b8ee17c8f.png" alt="img"><br>
<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=grep%E5%91%BD%E4%BB%A4&amp;spm=1001.2101.3001.7020">grep命令</a>是Linux系统中最重要的命令之一，功能是从文本文件或管道数据流中筛选匹配的行和数据，如果再配合正则表达式，功能十分强大，是Linux运维人员必备的命令</p>
<p><strong>grep命令里的匹配模式就是你想要找的东西，可以是普通的文字符号，也可以是正则表达式</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a4905effb47c4685a19bea468d898908.png" alt="img"></p>
<h4 id="二、正则表达式grep实践">二、正则表达式grep实践</h4>
<p>首先先看一下这个测试文件的内容吧</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023a0ec8e4f5c614126871502a0d71f4769.png" alt="img"></p>
<h5 id="2-1、输出以-I-开头的行-不区分大小写">2.1、输出以 I 开头的行(不区分大小写)</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023e9f2c61829ce4dad8f0b19bdf6338819.png" alt="img"></p>
<p>注: 这里的-i代表不区分大小写, -n代表显示匹配行和行号</p>
<h5 id="2-2、输出以-结尾的行">2.2、输出以.结尾的行</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023572b279baf1443e19d89f979727c41dd.png" alt="img"></p>
<p><strong>注: 因为.在这里有着特殊含义, 所以要用\转义一下, 如果不加转义字符的话, grep就会把它当做正则表达式来处理(.代表的含义是匹配任意一个字符)</strong></p>
<h5 id="2-3、-符号"><strong>2.3</strong>、$符号</h5>
<ul>
<li><strong>注意在Linux平台下, 所有文件的结尾都有一个$符</strong></li>
<li><strong>可以利用cat -A 查看文件</strong></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023789a46d7ba9047c7a32ff7e991d5fd0e.png" alt="img"></p>
<h5 id="2-4、-代表空行的意思-组合符">2.4、^$(代表空行的意思)组合符</h5>
<p>找出文件的空行, 以及行号</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f59211eb601148c4a61138c6757ae47e.png" alt="img"></p>
<h5 id="2-5、-点符号">2.5、.点符号</h5>
<p><strong>&quot;.&quot;点表示任意一个字符, 有且只有一个, 不包含空行</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231c32f212d7244709a33d5958d2629a2e.png" alt="img"></p>
<h5 id="2-6、-符号">2.6、*符号</h5>
<p><strong>&quot;*&quot;表示找出前一个字符0次或一次以上</strong></p>
<p>找出文件中i出现0次或多次的行和行号</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023e3a0231c24c44b25b47a3a8e76cdc650.png" alt="img"></p>
<h5 id="2-7、-组合符">2.7、.*组合符</h5>
<h5 id="表示所有内容-包括空行"><strong>&quot;.*&quot;表示所有内容, 包括空行</strong></h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232947d0d530b246dbb629180664e1886a.png" alt="img"></p>
<h5 id="2-8、-t符-含义-以任意内容开头-直到t结束">2.8、^.*t符 (含义: 以任意内容开头, 直到t结束)</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231c74f177a40f47b49e8f2f572fe0b9bc.png" alt="img"></p>
<h5 id="2-9、-abc-中括号">2.9、[abc]中括号</h5>
<p>中括号表达式,[abc]表示匹配中括号中任意一个字符, a或b或c,常见的形式如下;</p>
<ul>
<li>[a-z]匹配所有小写单个字母[A-Z]匹配所有单个大写字母</li>
<li>[a-zA-Z]匹配所有的单个大小写字母</li>
<li>[0-9]匹配所有单个数字</li>
<li>[a-zA-ZO-9]匹配所有数字和字母</li>
</ul>
<p>匹配abc字符中的任意一个,得到它的行数和行号</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202361721dd6aec54c8e8095d5bbccc0ce27.png" alt="img"></p>
<h5 id="2-10、grep的参数-o">2.10、grep的参数-o</h5>
<p><strong>使用&quot;-o&quot;选项, 可以值显示被匹配到的关键字, 而不是讲整行的内容都输出.</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231ebe5c3108344b37b161b1595488eda2.png" alt="img"></p>
<p>显示出文章中有多少行有a</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202340ee689901e3402ebfdde18da117a010.png" alt="img"></p>
<p><strong>&quot;-c&quot;只统计匹配的行数</strong></p>
<h5 id="2-11、-abc-中括号中去反">2.11、[^abc]中括号中去反</h5>
<p>[^abc]或[^a-c]这样的命令, &quot;^&quot;符号在中括号中第一位表示排除, 就是排除字符a,b,c</p>
<p>注: <strong>出现再中括号里的尖角号表示取反</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202306f2258bcf634615b3a282657a2c6466.png" alt="img"></p>
<h4 id="三、扩展正则表达式grep实践">三、扩展正则表达式grep实践</h4>
<p><strong>此处使用grep -E进行实践扩展正则, egrep官网已经弃用了</strong></p>
<h5 id="3-1、-号">3.1、+号</h5>
<p><strong>+号表示匹配前一个字符1一次或多次,必须使用grep-E扩展正则</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202356502adc311f415d975dbc9d748a5f3a.png" alt="img"></p>
<h5 id="3-2、-符">3.2、?符</h5>
<p><strong>匹配前一个字符0次或1次</strong></p>
<p>找出文件中包含gd或者god的行</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20237d19a86899cd4c79baa12cae5cf32baf.png" alt="img"></p>
<h5 id="3-3、-符">3.3、|符</h5>
<p><strong>竖线|再正则中是或者的意思</strong></p>
<p><strong>找出opt目录中txt结尾的文件, 其名字中包含a或者e, 不区分大小写(-i)</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20230e6de5c93dac48dcb89bffbffcc4909d.png" alt="img"></p>
<h5 id="3-4、-小括号">3.4、()小括号</h5>
<p><strong>将一个或多个字符捆绑在一起, 当作一个整体进行处理</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023900f6a2e7d504b9a959b91ac3f937d26.png" alt="img"></p>
<h5 id="3-5、-n-m-匹配次数">3.5、{n,m}匹配次数</h5>
<p><strong>{n,m}:匹配前一个字符至少n次, 最多m次</strong></p>
<p><strong>{n,}: 匹配前一个字符至少n次, 没有上限</strong></p>
<p><strong>{,m}: 匹配前一个字符最多m次,可以没有</strong>*</p>
<p><strong>重复前一个字符各种次数, 可以通过-o参数显示明确的匹配过程</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202398c53c1c198f4899994ed8ca9d979ee7.png" alt="img"></p>
<h3 id="3-locate（查文件）">3.locate（查文件）</h3>
<blockquote>
<p>我们可以将 locate 看作是一个简化版的 find, 使用这个命令我们可以根据文件名搜索本地的磁盘文件 , 但是 locate的效率比find要高很多。原因在于它不搜索具体目录，而是搜索一个本地的数据库文件，这个数据库中含有本地所有文件信息。Linux 系统自动创建这个数据库，并且每天自动更新一次，所以使用 locate 命令查不到最新变动过的文件。为了避免这种情况，可以在使用locate之前，先使用updatedb命令，手动更新数据库。</p>
</blockquote>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用管理员权限更新本地数据库文件, root用户这样做</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$ </span>updatedb</span><br><span class="line"></span><br><span class="line"><span class="comment"># 非root用户需要加 sudo</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$ </span>sudo updatedb</span><br></pre></td></tr></table></figure>
<p>locate 有一些常用参数，使用之前先来介绍一下:</p>
<blockquote>
<p>搜索所有目录下以某个关键字开头的文件</p>
</blockquote>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>locate test		<span class="comment"># 搜索所有目录下以 test 开头的文件</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>搜索指定目录下以某个关键字开头的文件，指定的目录必须要使用绝对路径</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ locate /home/robin/test    # 指定搜索目录为 /home/robin/, 文件以 test 开头</span><br></pre></td></tr></table></figure>
<blockquote>
<p>搜索文件的时候，忽略文件名的大小写，使用参数 -i</p>
</blockquote>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>locate TEST -i	<span class="comment"># 文件名以小写的test为前缀的文件也能被搜索到</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>列出前 N 个匹配到的文件名称或路径名称，使用参数 -n</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ locate test -n 5		# 搜索文件前缀为 test 的文件, 并且只显示5条信息</span><br></pre></td></tr></table></figure>
<blockquote>
<p>基于正则表达式进行文件名匹配，查找符合条件的文件，使用参数 -r</p>
</blockquote>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用该参数, 需要有正则表达式基础</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$ </span>locate -r <span class="string">&quot;\.cpp$&quot;</span>		<span class="comment"># 搜索以 .cpp 结尾的文件</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>正则表达式小科普:</p>
<ol>
<li>在正则表达式中 . 可以匹配任意一个 非 \n 的单字符</li>
<li>上边的命令中使用转译字符 \ 对特殊字符. 转译，就得到了普通的字符.</li>
<li>在正则表达式中 $ 放到字符尾部，表示字符串必须以这个字符结尾，上边的命令中修饰的是字符 p</li>
<li>正则表达式中的 字符 c 和后边的字符 p 需要进行字节匹配，没有特殊含义</li>
<li>通过上面的解释就能明白 .cpp$ 说的就是以 .cpp 结尾的字符串</li>
</ol>
</blockquote>
<h3 id="4-whereis命令-查找二进制">4.whereis命令(查找二进制)</h3>
<p>在Linux中，可执行文件被称为二进制文件，如果你想定位一个二进制文件，<code>whereis</code>比<code>locate</code>更加有效。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whereis <span class="built_in">binary</span></span><br></pre></td></tr></table></figure>
<p>这个命令将返回二进制文件的位置，以及它的源代码和手册页，如果有的话。</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">whereis aircrack-ng</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pics0.baidu.com/feed/3801213fb80e7bec5babba7562ed2e329a506b7a.jpeg@f_auto?token=62f81504d9b187e6ea23b57fd657bbe7" alt="img"></p>
<h3 id="5-which命令（查找二进制）">5.which命令（查找二进制）</h3>
<p>Linux中的<code>PATH</code>变量存放着操作系统寻找你在命令行中执行的命令的目录。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> binary</span><br><span class="line"><span class="built_in">which</span> <span class="built_in">ls</span></span><br></pre></td></tr></table></figure>
<p><code>which</code>命令在你的PATH中找到一个二进制文件。如果它在当前PATH中没有找到该二进制文件，它就什么也不返回。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> aircrack-ng</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023cc11728b4710b912e852016d8c3e6b09904522db.jpeg%2540f_auto" alt="img"></p>
<p>这些目录通常包括<code>/usr/bin</code>，但也可能包括<code>/usr/sbin</code>和其他一些目录。</p>
<h2 id="打包压缩与解压命令">打包压缩与解压命令</h2>
<h3 id="zip与unzip命令">zip与unzip命令</h3>
<p>zip 用于压缩文件，压缩为*.zip文件。 unzip 用于解开被zip压缩过的文件。</p>
<p>(1) zip [选项] 压缩后的名称 文件或目录</p>
<p>选项:</p>
<p>选项较多，不一一详细介绍。</p>
<p>-d ：从压缩文件内删除指定的文件；</p>
<p>-r ：递归处理，将指定目录下的所有文件和子目录一并处理；</p>
<p>例:</p>
<p>zip aa aa.txt   在当前目录下将aa.txt压缩为aa.zip文件</p>
<p>zip -r myx /tmp/xxx   将xxx目录及其内容压缩为myx.zip文件</p>
<p>(2) unzip [选项] 解压到的目录 *.zip文件</p>
<p>选项:</p>
<p>选项较多，不一一详细介绍。</p>
<p>-d&lt;目录&gt; ：指定文件解压缩后所要存储的目录；</p>
<p>例:</p>
<p>unzip aa.zip   在当前目录下将aa.zip文件解压</p>
<p>unzip aa.zip -d /tmp/yyy 或 unzip -d /tmp/yyy aa.zip　　　　将aa.zip解压到/tmp/yyy目录下</p>
<h3 id="gzip与gunzip命令">gzip与gunzip命令</h3>
<p>gzip 用于压缩文件，压缩为*.gz文件。 gunzip 用于解开被gzip压缩过的文件。</p>
<p>(1) gzip [选项] 文件</p>
<p>选项:</p>
<p>选项较多，不一一详细介绍。</p>
<p>-d ：解开压缩文件。</p>
<p>例:</p>
<p>gzip aa.txt     将aa.txt压缩为aa.txt.gz文件</p>
<p>gzip aa.txt bb.txt 将两个文件分别压缩为*.gz文件</p>
<p>gzip -d aa.txt.gz   将aa.txt.gz文件解压为aa.txt文件</p>
<p>补充:</p>
<p>当使用gzip命令压缩文件时，不会保留原文件。</p>
<p>(2) gunzip [选项] *.gz文件</p>
<p>选项:</p>
<p>没有什么重要的选项</p>
<p>例:</p>
<p>gunzip aa.txt.gz   将aa.txt.gz文件解压为aa.txt文件</p>
<h3 id="tar命令">tar命令</h3>
<p>打包命令，打包后的文件是 .tar.gz 的文件。</p>
<p>tar [选项] 文件或目录</p>
<p>选项:</p>
<p>选项较多，不一一详细介绍。</p>
<p>-c ：产生.tar打包文件</p>
<p>-v ：显示详细信息</p>
<p>-f ：指定压缩后的文件名</p>
<p>-z ：用gzip进行解压或压缩</p>
<p>-x ：解包.tar文件</p>
<p>-C &lt;目录&gt;：这个选项用在解压缩，若要在特定目录解压缩，可以使用这个选项。</p>
<p>打包用解压用zxcf</p>
<p>例:</p>
<p>tar -zcvf myfile.tar.gz a.txt b.txt</p>
<p>在当前目录下将a.txt、b.txt这两个文件一块打包成myfile.tar.gz文件</p>
<p>tar -zxvf myfile.tar.gz</p>
<p>将myfile.tar.gz文件解压到当前目录</p>
<p>tar -zcvf myfile.tar.gz /tmp/xxx</p>
<p>在当前目录下将/tmp/xxx目录及其内容一块打包成myfile.tar.gz文件</p>
<p>tar -zxvf myfile.tar.gz -C /tmp/mydir</p>
<p>将myfile.tar.gz文件解压到/tmp/mydir目录下</p>
<h2 id="切割指令">切割指令</h2>
<h3 id="cut命令详解">cut命令详解</h3>
<p>cut的工作就是“剪”，具体的说就是在文件中负责剪切数据用的。cut 命令从文件的每一行剪切字节、字符和字段并将这些字节、字符和字段输出。<strong>注意，cut一行为一个单位切割的，每一行相互独立</strong></p>
<h4 id="一、基本语法">一、基本语法</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cut [选项参数]  filename</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<blockquote>
<p>说明：默认分隔符是<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%88%B6%E8%A1%A8%E7%AC%A6&amp;spm=1001.2101.3001.7020">制表符</a>。</p>
</blockquote>
<p>选项与参数：</p>
<p>-d：分隔符，按照指定分隔符分割列。与 -f 一起使用</p>
<p>-f：依据 -d 的分隔字符将一段信息分割成为数段，用 -f 取出第几段的意思（列号，提取第几列）</p>
<p>-c：以字符 (characters) 的单位取出固定字符区间</p>
<p>-b：以字节为单位进行分割</p>
<h4 id="二、实操案例">二、实操案例</h4>
<p>准备数据</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan data]$ touch cut.txt</span><br><span class="line">[root@jiangnan data]$ vim cut.txt</span><br><span class="line">dong shen</span><br><span class="line">guan zhen</span><br><span class="line">wo  wo</span><br><span class="line">lai  lai</span><br><span class="line">le  le</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<ol>
<li>切割cut.txt第一列</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan data]# cut -d &#x27; &#x27; -f 1 cut.txt </span><br><span class="line">dong</span><br><span class="line">guan</span><br><span class="line">wo</span><br><span class="line">lai</span><br><span class="line">le</span><br><span class="line">[root@jiangnan data]# </span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意双引号里面是空格，因为要以空格作为分隔符。</p>
</blockquote>
<ol>
<li>切割cut.txt第二、三列</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan data]# cut -d &#x27; &#x27; -f 2,3 cut.txt </span><br><span class="line">shen</span><br><span class="line">zhen</span><br><span class="line"> wo</span><br><span class="line"> lai</span><br><span class="line"> le</span><br><span class="line">[root@jiangnan data]# </span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意后面三个的前面是有一个空格的，因为我们在准备数据的时候就写了两个空格。</p>
</blockquote>
<ol>
<li>切割cut.txt的第5-8个字符</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan data]# cut -c 5-8 cut.txt </span><br><span class="line"> she</span><br><span class="line"> zhe</span><br><span class="line">wo</span><br><span class="line"> lai</span><br><span class="line">le</span><br><span class="line">[root@jiangnan data]# </span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<ol>
<li>切割cut.txt的第2,4,6个字节</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan data]# cut -b 2,4,6 cut.txt </span><br><span class="line">ogs</span><br><span class="line">unz</span><br><span class="line">o o</span><br><span class="line">a l</span><br><span class="line">e e</span><br><span class="line">[root@jiangnan data]# </span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>可以看出纯英文状态下字节和字符等效</strong>。</p>
</blockquote>
<ol>
<li>切割cut.txt的第6个字节以前的内容</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan data]# cut -b -6 cut.txt </span><br><span class="line">dong s</span><br><span class="line">guan z</span><br><span class="line">wo  wo</span><br><span class="line">lai  l</span><br><span class="line">le  le</span><br><span class="line">[root@jiangnan data]# </span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<ol>
<li>切割字符串中的汉字</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan data]# echo &quot;我爱你中国&quot; | cut -c 2,3</span><br><span class="line">爱你</span><br><span class="line">[root@jiangnan data]# echo &quot;我爱你中国&quot; | cut -b 2,3</span><br><span class="line"> </span><br><span class="line">[root@jiangnan data]# echo &quot;我 爱 你 中 国&quot; | cut -d &#x27; &#x27; -f -2</span><br><span class="line">我 爱</span><br><span class="line">[root@jiangnan data]# </span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<blockquote>
<p>对于汉字的切割最好使用-c（字符），字节（-b）无法满足要求。</p>
</blockquote>
<ol>
<li>在cut.txt文件中切割出guan</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan data]# cat cut.txt | grep &quot;guan&quot; | cut -d &quot; &quot; -f 1</span><br><span class="line">guan</span><br><span class="line">[root@jiangnan data]# </span><br><span class="line">123</span><br></pre></td></tr></table></figure>
<ol>
<li>选取系统PATH变量值，第1个“：”开始后的所有路径：</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan data]# echo $PATH</span><br><span class="line">/usr/local/java/jdk1.8.0_161/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line">[root@jiangnan data]# echo $PATH | cut -d: -f 2-</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line">[root@jiangnan data]# </span><br><span class="line">12345</span><br></pre></td></tr></table></figure>
<h4 id="三、cut有哪些缺陷和不足">三、cut有哪些缺陷和不足</h4>
<p>如果文件里面的某些域是由<strong>若干个空格来间隔的</strong>，那么用cut就有点麻烦了，因<strong>为cut只擅长处理“以一个字符间隔”的文本内容。</strong></p>
<h3 id="-2"></h3>
<h3 id="awk-命令">awk 命令</h3>
<p>一个强大的<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%96%87%E6%9C%AC%E5%88%86%E6%9E%90&amp;spm=1001.2101.3001.7020">文本分析</a>工具，把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分再进行分析处理。</p>
<h4 id="1-基本用法">1. 基本用法</h4>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk [选项参数] &#x27;pattern1&#123;action1&#125;  pattern2&#123;action2&#125;...&#x27; filename</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<blockquote>
<p>pattern：表示AWK在数据中查找的内容，就是匹配模式。action：在找到匹配内容时所执行的一系列命令。</p>
</blockquote>
<blockquote>
<p><strong>注意</strong>：行匹配语句 awk 只能用单引号。单引号内部可以使用双引号，但是顺序不能错。</p>
</blockquote>
<h4 id="2-工作流程">2. 工作流程</h4>
<p>读入有’\n’换行符分割的一条记录，然后将记录按指定的域分隔符划分域，填充域，<code>$0</code>则表示所有域,<code>$1</code>表示第一个域,<code>$n</code>表示第n个域,<code>$NF</code>表示文本行中的最后一个数据字段。默认域分隔符是&quot;空白键&quot; 或 “[tab]键”。</p>
<h4 id="3-常用选项参数说明">3. 常用选项参数说明</h4>
<ul>
<li>-F：指定输入文件折分隔符。</li>
<li>-v：赋值一个用户定义变量。</li>
<li>-f：引入awk执行脚本。</li>
</ul>
<h4 id="4-实操案例">4. 实操案例</h4>
<p>准备数据</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# cp /etc/passwd ./</span><br><span class="line">[root@jiangnan awk]# cat passwd </span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line">sync:x:5:0:sync:/sbin:/bin/sync</span><br><span class="line">shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">halt:x:7:0:halt:/sbin:/sbin/halt</span><br><span class="line">...</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">123456789101112</span><br></pre></td></tr></table></figure>
<ol>
<li>搜索passwd文件以root关键字开头的所有行，并输出该行的第7列。</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# awk -F: &#x27;/^root/&#123;print $7&#125;&#x27; passwd</span><br><span class="line">/bin/bash</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">123</span><br></pre></td></tr></table></figure>
<blockquote>
<p>-F，指定分隔符为<code>:</code>。print,打印。$7，第7列（域）。<br>
<code>^</code>在root前，表示以指定字符开头，如果没有，则表示有指定字符的行，位置不限。</p>
</blockquote>
<ol>
<li>搜索passwd文件以root关键字开头的所有行，并输出该行的第1列和第7列，中间以&quot;,&quot;号分割。</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# awk -F: &#x27;/^root/&#123;print $1&quot;,&quot;$7&#125;&#x27; passwd</span><br><span class="line">root,/bin/bash</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">123</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：只有匹配了pattern的行才会执行action。</p>
</blockquote>
<ol>
<li>将passwd文件中的用户id增加数值1并输出</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# awk -v i=1 -F: &#x27;&#123;print $3+i&#125;&#x27; passwd</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">...</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<blockquote>
<p>-v：赋值一个用户定义变量</p>
</blockquote>
<ol>
<li>如果awk命令是日常重复工作，而又没有太多变化，可以将程序写入文件，每次使用-f调用程序文件就好，方便、高效。</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# cat abc </span><br><span class="line">&#123;print $1,$3,$NF&#125;</span><br><span class="line">[root@jiangnan awk]# awk -F : -f abc passwd </span><br><span class="line">root 0 /bin/bash</span><br><span class="line">bin 1 /sbin/nologin</span><br><span class="line">daemon 2 /sbin/nologin</span><br><span class="line">adm 3 /sbin/nologin</span><br><span class="line">lp 4 /sbin/nologin</span><br><span class="line">...</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure>
<blockquote>
<p>-f：引入awk执行脚本。</p>
</blockquote>
<ol>
<li>只显示passwd的第一列和第七列，以逗号分割，且在行前面添加列名user，shell在最后一行添加&quot;dahaige，/bin/zuishuai&quot;。</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# awk -F : &#x27;BEGIN&#123;print &quot;user, shell&quot;&#125; &#123;print $1&quot;,&quot;$7&#125; END&#123;print &quot;dahaige,/bin/zuishuai&quot;&#125;&#x27; passwd</span><br><span class="line">user, shell</span><br><span class="line">root,/bin/bash</span><br><span class="line">bin,/sbin/nologin</span><br><span class="line">...</span><br><span class="line">ntp,/sbin/nologin</span><br><span class="line">dahaige,/bin/zuishuai</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>
<blockquote>
<p>注意：BEGIN 在所有数据读取行之前执行；END 在所有数据执行之后执行。</p>
</blockquote>
<h4 id="5-常用awk的内置变量">5. 常用awk的内置变量</h4>
<table>
<thead>
<tr>
<th>变量</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>FILENAME</td>
<td>awk浏览的文件名</td>
</tr>
<tr>
<td>NR</td>
<td>已读的记录数</td>
</tr>
<tr>
<td>NF</td>
<td>浏览记录的域的个数</td>
</tr>
</tbody>
</table>
<ol>
<li>统计passwd文件名，每行的行号，每行的列数。</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# awk -F: &#x27;&#123;print &quot;filename:&quot;  FILENAME &quot;, linenumber:&quot; NR  &quot;,columns:&quot; NF&#125;&#x27; passwd</span><br><span class="line">filename:passwd, linenumber:1,columns:7</span><br><span class="line">filename:passwd, linenumber:2,columns:7</span><br><span class="line">filename:passwd, linenumber:3,columns:7</span><br><span class="line">filename:passwd, linenumber:4,columns:7</span><br><span class="line">...</span><br><span class="line">filename:passwd, linenumber:24,columns:7</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">12345678</span><br></pre></td></tr></table></figure>
<ol>
<li>查询sed.txt中空行所在的行号</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# cat sed.txt </span><br><span class="line">1 the quick green fox jumps over the lazy dog.</span><br><span class="line">2 the quick green fox jumps over the lazy dog.</span><br><span class="line"></span><br><span class="line">3 the quick green fox jumps over the lazy dog.</span><br><span class="line">4 the quick green fox jumps over the lazy dog.</span><br><span class="line">5 the quick green fox jumps over the lazy dog.</span><br><span class="line">[root@jiangnan awk]# awk &#x27;/^$/&#123;print NR&#125;&#x27; sed.txt</span><br><span class="line">3</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">12345678910</span><br></pre></td></tr></table></figure>
<ol>
<li>输出passwd第3行的所有数据</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# awk &#x27;NR==3&#123;print $0&#125;&#x27; passwd </span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">123</span><br></pre></td></tr></table></figure>
<ol>
<li>输出passwd第5行的第6个字段</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# awk -F: &#x27;NR==5&#123;print $6&#125;&#x27; passwd </span><br><span class="line">/var/spool/lpd</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">123</span><br></pre></td></tr></table></figure>
<ol>
<li>输出第一个字段为root所在的行</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# awk -F: &#x27;$1==&quot;root&quot;&#123;print $0&#125;&#x27; passwd </span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">123</span><br></pre></td></tr></table></figure>
<blockquote>
<p>以上案例要注意需要指定切割符<code>:</code></p>
</blockquote>
<ol>
<li>查看已使用的内存</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# head -2 /proc/meminfo | awk &#x27;NR==1&#123;a=$2&#125;NR==2&#123;b=$2;print (a-b)*100/a &quot;%&quot;&#125;&#x27;</span><br><span class="line">95.6707%</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">123</span><br></pre></td></tr></table></figure>
<h4 id="6-awk程序的优先级">6. awk程序的优先级</h4>
<p>BEGIN是优先级最高的代码块，是在执行PROGRAM之前执行的，不需要提供数据源，因为不涉及到任何数据的处理，也不依赖与PROGRAM代码块；PROGRAM是对数据流干什么，是必选代码块，也是默认代码块。所以在执行时必须提供数据源；END是处理完数据流后的操作，如果需要执行END代码块，就必须需要PROGRAM的支持，单个无法执行。</p>
<p>总结起来awk程序运行优先级是:</p>
<ul>
<li>1)BEGIN: 在开始处理数据流之前执行，可选项</li>
<li>2)program: 如何处理数据流，必选项</li>
<li>3)END: 处理完数据流后执行，可选项</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# awk &#x27;BEGIN&#123;print &quot;hello ayitula&quot;&#125;&#123;print $0&#125;END&#123;print &quot;bye ayitula&quot;&#125;&#x27; sed.txt </span><br><span class="line">hello ayitula</span><br><span class="line">1 the quick green fox jumps over the lazy dog.</span><br><span class="line">2 the quick green fox jumps over the lazy dog.</span><br><span class="line"></span><br><span class="line">3 the quick green fox jumps over the lazy dog.</span><br><span class="line">4 the quick green fox jumps over the lazy dog.</span><br><span class="line">5 the quick green fox jumps over the lazy dog.</span><br><span class="line">bye ayitula</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">12345678910</span><br><span class="line">[root@jiangnan awk]# awk &#x27;BEGIN&#123;print &quot;hello world&quot;&#125;&#x27;</span><br><span class="line">hello world</span><br><span class="line">[root@jiangnan awk]# </span><br><span class="line">123</span><br></pre></td></tr></table></figure>
<blockquote>
<p>可以看出BEGIN不需要数据源（<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=sed&amp;spm=1001.2101.3001.7020">sed</a>.txt）就可以执行。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@jiangnan awk]# awk &#x27;END&#123;print &quot;hello world&quot;&#125;&#x27;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<blockquote>
<p>END没有数据源则无法执行。</p>
</blockquote>
<h2 id="tcpdump抓包指令">tcpdump抓包指令</h2>
<h3 id="1-精简版：">1.<strong>精简版</strong>：</h3>
<p>Linux下使用tcpdump:抓包的实现方法</p>
<p>很多时候我们的系统部署在Liux系统上面，在一些情况下定位问题就需要查看各个系统之间发送数据报文是否正常，下面我就简单讲解一下如何使用tcpdumpi抓包<br>
tcpdump;是Linux下面的一个开源的抓包工具，和Windows&quot;下面的wiresharkj抓包工具一样，支持抓取指定网口、指定目的地址、指定源地址、指定端口、指定协议的数据。</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、安装tcpdump</span><br><span class="line">yum install -y tcpdump</span><br><span class="line"><span class="number">2</span>、常见的使用方法</span><br><span class="line">抓取所有经过eth2目的或源地址是<span class="number">192.168</span>.<span class="number">1.2</span>的网络数据，并且保存到XX.pcap文件中</span><br><span class="line">tcpdump -i eth2 host <span class="number">192.168</span>.<span class="number">1.2</span> -w xx.pcap</span><br><span class="line">抓取所有经过eth2,目的地址是<span class="number">192.168</span>.<span class="number">1.2</span>的网络数据，并且保存到XX.pcap文件中tcpdump-ieth2 dst host</span><br><span class="line"><span class="number">192.168</span>.<span class="number">1.2</span>-wx.pcap</span><br><span class="line">抓取所有经过eth1,源地址是<span class="number">192.168</span>.<span class="number">1.2</span>的网络数据，并且保存到XX.pcap文件中</span><br><span class="line">tcpdump -i eth2 dst host <span class="number">192.168</span>.<span class="number">1.2</span> -w xx.pcap</span><br><span class="line">抓取网口<span class="number">1</span>源端口是<span class="number">25</span>的数据，保存到xx.pcap中</span><br><span class="line">tcpdump -i eth1 src port <span class="number">25</span> -w xx.pcap</span><br><span class="line">抓取网口<span class="number">1</span>目的端口是<span class="number">25</span>的数据，保存到xx.pcap中</span><br><span class="line">tcpdump -i eth1 dst port <span class="number">25</span> -w xx.pcap</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">示例：</span><br><span class="line">tcpdump -i enp4s0f0 -s <span class="number">0</span> port <span class="number">25228</span> -w hk2.pcap -v</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">enp4s0f0</span>---ifconfig---&gt;</span>网卡名称</span><br><span class="line"></span><br><span class="line">-<span class="function"><span class="title">s</span> 0  ----&gt;</span>不限制抓包的大小</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">port</span> 25228----&gt;</span>只抓取服务器上<span class="number">25228</span>端口的数据流量</span><br><span class="line"></span><br><span class="line">-<span class="function"><span class="title">w</span> hk2.pcap   ---&gt;</span>保存的文件名称</span><br><span class="line"></span><br><span class="line">-<span class="function"><span class="title">v</span>   ---&gt;</span>显示抓包的大小数字</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="2-复杂版">2.复杂版</h3>
<p>Tcpdum是Linux上强大的网络<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86&amp;spm=1001.2101.3001.7020">数据采集</a>分析工具。</p>
<blockquote>
<p><strong>tcpdump选项可划分为四大类型：<br>
1.控制抓包行为<br>
2.控制信息如何显示<br>
3.控制显示什么数据<br>
4.过滤命令</strong></p>
</blockquote>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#tcpdump</span> <span class="selector-tag">--help</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">Usage</span>: <span class="selector-tag">tcpdump</span> <span class="selector-attr">[-aAbdDefhHIJKlLnNOpqStuUvxX#]</span> <span class="selector-attr">[ -B size ]</span> <span class="selector-attr">[ -c count ]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[ -C file_size ]</span> <span class="selector-attr">[ -E algo:secret ]</span> <span class="selector-attr">[ -F file ]</span> <span class="selector-attr">[ -G seconds ]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[ -i interface ]</span> <span class="selector-attr">[ -j tstamptype ]</span> <span class="selector-attr">[ -M secret ]</span> <span class="selector-attr">[ --number ]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[ -Q|-P in|out|inout ]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[ -r file ]</span> <span class="selector-attr">[ -s snaplen ]</span> <span class="selector-attr">[ --time-stamp-precision precision ]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[ --immediate-mode ]</span> <span class="selector-attr">[ -T type ]</span> <span class="selector-attr">[ --version ]</span> <span class="selector-attr">[ -V file ]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[ -w file ]</span> <span class="selector-attr">[ -W filecount ]</span> <span class="selector-attr">[ -y datalinktype ]</span> <span class="selector-attr">[ -z postrotate-command ]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-attr">[ -Z user ]</span> <span class="selector-attr">[ expression ]</span></span><br></pre></td></tr></table></figure>
<p>抓包文件保存：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -i any -s 0 -X -w /tmp/tcpdump.pcap</span><br></pre></td></tr></table></figure>
<p>抓包文件解析：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -A -r /tmp/tcpdump.pcap|less</span><br></pre></td></tr></table></figure>
<h4 id="1-控制抓包行为">1. 控制抓包行为</h4>
<p>​    这一类命令行选项影响抓包行为，包括数据收集的方式。之前已介绍了两个例子：-r 和 -w。<br>
-w 选项允许用户将输出重定向到一个文件，之后可通过-r选项将捕获数据显示出来。<br>
如果用户知道需要捕获的报文数量或对于数量有一个上限，可使用-c选项。<br>
则当达到该数量时程序自动终止，而无需使用kill命令或Ctrl-C。<br>
如收集到100个报文之后tcpdump终止：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcpdump <span class="operator">-</span><span class="built_in">c</span> <span class="number">100</span></span><br></pre></td></tr></table></figure>
<p>通过 -i 选项指定接口。在不确定的情况下，可使用ifconfig -a来检查哪一个接口可用及对应哪一个网络。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -i enp131s0 icmp</span><br></pre></td></tr></table></figure>
<p>通过 -p 选项将网卡接口设置为非混杂模式。这一选项理论上将限制为捕获接口上的正常数据流，来自或发往主机，多播数据，以及广播数据。<br>
-s 选项控制数据的截取长度。通常，tcpdump默认为一最大字节数量并只会从单一报文中截取到该数量长度。实际字节数取决于操作系统的设备驱动。通过默认值来截取合适的报文头，而舍弃不必要的报文数据。<br>
如果用户需截取更多数据，通过-s选项来指定字节数。也可以用-s来减少截取字节数。<br>
对于少于或等于200字节的报文，以下命令会截取完整报文：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump -s 200</span></span><br></pre></td></tr></table></figure>
<h4 id="2-控制信息如何显示">2. 控制信息如何显示</h4>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -n -tt -i bond_mgmt port 22</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1639923887.526816 IP 172.30.136.59.ssh &gt; 172.30.136.114.40948: Flags [P.], seq 1931446332:1931446528, ack 3414141942, win 318, options [nop,nop,TS val 2697135390 ecr 1876028651], length 196</span><br></pre></td></tr></table></figure>
<p>-a，-n，-N和-f选项决定了地址信息是如何显示的。<br>
-a 选项强制将网络地址显示为名称。<br>
-n 阻止将地址显示为名字。<br>
-N 阻止将域名转换。<br>
-f 选项阻止远端名称解析。<br>
-t 和 -tt 选项控制时间戳的打印。-t选项不显示时间戳而 -tt 选项显示无格式的时间戳。</p>
<h4 id="3-控制显示什么数据">3. 控制显示什么数据</h4>
<p>可以通过 -v 和 -vv 选项来打印更多详细信息。例如，-v选项将会打印TTL字段。<br>
要显示较少信息，使用 -q，或quiet选项。<br>
-e 选项用于显示链路层头信息。上例中-e选项的输出为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -ne -tt -i bond_mgmt port 22</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1639923776.246051 00:e0:ed:2e:43:6e &gt; 6c:92:bf:22:7f:d5, ethertype IPv4 (0x0800), length 262: 172.30.136.59.ssh &gt; 172.30.136.114.40948: Flags [P.], seq 1929912564:1929912760, ack 3414140358, win 318, options [nop,nop,TS val 2697024109 ecr 1875917372], length 196</span><br></pre></td></tr></table></figure>
<p>-x 选项将报文以十六进制形式dump出来，排除了链路层报文头。-x 和 -vv 选项报文显示如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -ne -v -x  -i bond_mgmt port 22</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">22:26:32.122212 00:e0:ed:2e:43:6e &gt; 6c:92:bf:22:7f:d5, ethertype IPv4 (0x0800), length 190: (tos 0x10, ttl 64, id 23674, offset 0, flags [DF], proto TCP (6), length 176)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    172.30.136.59.ssh &gt; 172.30.136.114.40948: Flags [P.], cksum 0x698d (incorrect -&gt; 0x5143), seq 1934042648:1934042772, ack 3414143698, win 318, options [nop,nop,TS val 2697239985 ecr 1876133235], length 124</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    0x0000:  4510 00b0 5c7a 4000 4006 74d3 ac1e 883b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    0x0010:  ac1e 8872 0016 9ff4 7347 2618 cb7f b2d2 ... ...</span><br></pre></td></tr></table></figure>
<h4 id="4-过滤命令">4. 过滤命令</h4>
<p>要有效地使用tcpdump，掌握过滤器非常必要的。过滤允许用户指定想要抓取的数据流，从而用户可以专注于感兴趣的数据。</p>
<p>如果用户很清楚对何种数据流不感兴趣，可以将这部分数据排除在外。如果用户不确定需要什么数据，可以将源数据收集到文件之后再读取时应用过滤器。<br>
实际应用中，需要经常在两种方式之间转换。</p>
<p>简单的过滤器是加在命令行之后的关键字。但是，复杂的命令是由逻辑和关系运算符构成的。对于这样的情况，通常最好用-F选项将过滤器存储在文件中。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">非 : ! or &quot;not&quot; (without the quotes)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">且 : &amp;&amp; or &quot;and&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">或 : || or &quot;or&quot;</span><br></pre></td></tr></table></figure>
<h4 id="4-1-地址过滤">4.1 地址过滤</h4>
<p>过滤器可以按照ip地址选择数据流。例如，考虑如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -ne -i bond_virt host 192.168.1.1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">22:31:21.456181 fa:16:3e:ed:88:5a &gt; fa:16:3e:f0:51:b2, ethertype 802.1Q (0x8100), length 102: vlan 4030, p 0, ethertype IPv4, 192.168.1.4 &gt; 192.168.1.1: ICMP echo request, id 9327, seq 54, length 64</span><br></pre></td></tr></table></figure>
<p>通过机器的以太网mac地址来选择数据流：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -ne -i bond_virt ether host fa:16:3e:ed:88:5a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">22:32:58.459154 fa:16:3e:ed:88:5a &gt; fa:16:3e:f0:51:b2, ethertype 802.1Q (0x8100), length 102: vlan 4030, p 0, ethertype IPv4, 192.168.1.4 &gt; 192.168.1.1: ICMP echo request, id 9327, seq 151, length 64</span><br></pre></td></tr></table></figure>
<p>数据流可进一步限制为单向，分别用src或dst指定数据流的来源或目的地。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -ne -i bond_virt dst 192.168.1.4</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">22:35:15.465312 fa:16:3e:f0:51:b2 &gt; fa:16:3e:ed:88:5a, ethertype 802.1Q (0x8100), length 102: vlan 4030, p 0, ethertype IPv4, 192.168.1.1 &gt; 192.168.1.4: ICMP echo reply, id 9327, seq 288, length 64</span><br></pre></td></tr></table></figure>
<p>广播和多播数据相应可以使用broadcast和multicast。由于多播和广播数据流在链路层和网络层所指定的数据流是不同的，所以这两种过滤器各有两种形式。过滤器ether multicast抓取以太网多播地址的数据流，ip multicast抓取IP多播地址数据流。广播数据流也是类似的使用方法。注意多播过滤器也会抓到广播数据流。<br>
除了抓取特定主机以外，还可以抓取特定网络。例如，以下命令限制抓取来自或发往224.0.0的vrrp报文：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -ne -i bond_virt net 224.0.0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">22:37:15.092693 fa:16:3e:3a:19:69 &gt; 01:00:5e:00:00:12, ethertype 802.1Q (0x8100), length 58: vlan 4003, p 0, ethertype IPv4, 169.254.192.11 &gt; 224.0.0.18: VRRPv2, Advertisement, vrid 69, prio 50, authtype none, intvl 2s, length 20</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#tcpdump -ne -i bond_virt net 224.0.0.0 mask 255.255.255.0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">22:38:14.880908 fa:16:3e:09:5a:de &gt; 01:00:5e:00:00:12, ethertype 802.1Q (0x8100), length 58: vlan 3994, p 0, ethertype IPv4, 169.254.192.143 &gt; 224.0.0.18: VRRPv2, Advertisement, vrid 72, prio 50, authtype none, intvl 3s, length 20</span><br></pre></td></tr></table></figure>
<p>抓取目的地址是192.168.1.254或192.168.1.200端口是80的TCP数据</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;((tcp) and (port 80) and ((dst host 192.168.1.254) or (dst host 192.168.1.200)))&#x27;</span></span><br></pre></td></tr></table></figure>
<h5 id="4-2-协议及端口过滤">4.2 协议及端口过滤</h5>
<p>制抓取指定协议如IP，UDP或TCP。还可以限制建立在这些协议之上的服务，如DNS或HTTP。这类抓取可以通过三种方式进行：使用tcpdump关键字，通过协议关键字proto，或通过服务使用port关键字。<br>
当我们继续之前，必须了解tcp/ip包头的头部信息</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">proto[x:y]          : 过滤从x字节开始的y字节数。比如ip[2:2]过滤出2、3字节（第三、第四字节）（第一字节从0开始排）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">proto[x:y] &amp; z = 0  : proto[x:y]和z的与操作为0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">proto[x:y] &amp; z !=0  : proto[x:y]和z的与操作不为0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">proto[x:y] &amp; z = z  : proto[x:y]和z的与操作为z</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">proto[x:y] = z      : proto[x:y]等于z</span><br></pre></td></tr></table></figure>
<p>操作符：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&gt;  : greater 大于</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;  : lower 小于</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;= : greater or equal 大于或者等于</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;= : lower or equal 小于或者等于</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">=  : equal  等于</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">!= : different  不等于</span><br></pre></td></tr></table></figure>
<p>一些协议名能够被tcpdump识别到因此可通过关键字来指定。以下命令限制抓取UDP数据流：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># tcpdump -ne -i bond_virt udp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">22:40:17.030950 90:1b:0e:ea:ea:7e &gt; Broadcast, ethertype 802.1Q (0x8100), length 86: vlan 3122, p 0, ethertype IPv4, 10.34.244.146.49664 &gt; 255.255.255.255.sentinelsrm: UDP, length 40</span><br></pre></td></tr></table></figure>
<p>有很多传输层服务没有可以识别的关键字。在这种情况下，可以使用关键字proto或 ip proto 加上 /etc/protocols能够找到的协议名或相应的协议编号。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># tcpdump -ne -i bond_virt proto 112</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">22:48:07.891750 fa:16:3e:f3:fb:c8 &gt; 01:00:5e:00:00:12, ethertype 802.1Q (0x8100), length 64: vlan 3981, p 0, ethertype IPv4, 169.254.192.22 &gt; 224.0.0.18: VRRPv2, Advertisement, vrid 234, prio 50, authtype none, intvl 2s, length 20</span><br></pre></td></tr></table></figure>
<p>对于更高层级的建立于底层协议之上的服务，必须使用关键字port。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># tcpdump -nnne -i bond_virt port 137</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">22:51:58.320013 94:c6:91:7f:bb:f7 &gt; ff:ff:ff:ff:ff:ff, ethertype 802.1Q (0x8100), length 96: vlan 3122, p 0, ethertype IPv4, 172.16.0.89.137 &gt; 172.16.0.255.137: NBT UDP PACKET(137): QUERY; REQUEST; BROADCAST</span><br></pre></td></tr></table></figure>
<h5 id="4-3-报文特征过滤">4.3 报文特征过滤</h5>
<p>过滤器也可以基于报文特征比如报文长度或特定字段的内容，过滤器必须包含关系运算符。要指定长度，使用关键字less或greater。如下例所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># tcpdump -nnne -i bond_virt greater 200</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">22:54:38.206873 3c:8c:40:ad:11:ff &gt; 01:80:c2:00:00:0e, ethertype LLDP (0x88cc), length 342: LLDP, length 328: NET-ACCE-05-XX.XX.XXX</span><br></pre></td></tr></table></figure>
<p>该命令收集长度大于200字节的报文。</p>
<p>根据报文内容过滤更加复杂，因为用户必须理解报文头的结构。但是尽管如此，或者说正因如此，这一方式能够使用户最大限度的控制抓取的数据。</p>
<h5 id="4-3-1-IP选项设置（20字节，可变部分（0-20-B，最大40字节）">4.3.1 IP选项设置（20字节，可变部分（0-20)B，最大40字节）</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023015becb848674c898ab9b88ce7a9c70a.png" alt="在这里插入图片描述"></p>
<p><strong>4.3.1.1 IP version &amp; Hdr Len</strong></p>
<p>一般”的IP头是20字节，但IP头有选项设置，不能直接从偏移21字节处读取数据。IP头有个长度字段可以知道头长度是否大于20字节。<br>
通常第一个字节的二进制值是：01000101，分成两个部分：<br>
0100 = 4 表示IP版本 0101 = 5 表示 IP头32 bit的块数，5 x 32 bits = 160 bits or 20 bytes<br>
如果第一字节第二部分的值大于5，那么表示头有IP选项。</p>
<ul>
<li>比较第一字节的值是否大于01000101（十进制等于69），这可以判断IPv4带IP选项的数据和IPv6的数据。</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;ip[0] &gt; 69&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>位操作(IPv6的数据也可以匹配)</li>
</ul>
<blockquote>
<p>0100 0101 : 第一字节的二进制<br>
0000 1111 : 与操作<br>
0000 0101 : 结果</p>
</blockquote>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump  &#x27;ip[0] &amp; 15 &gt; 5&#x27;</span></span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump  &#x27;ip[0] &amp; 0x0f &gt; 5&#x27;</span></span><br></pre></td></tr></table></figure>
<h5 id="4-3-1-2-DF分片标记"><strong>4.3.1.2 DF分片标记</strong></h5>
<ul>
<li>Is DF bit (don’t fragment) set?</li>
</ul>
<p>当发送端的MTU大于到目的路径链路上的MTU时就会被分片<br>
分片信息在IP头的第七和第八字节：<br>
Bit 0: 保留，必须是0<br>
Bit 1: (DF) 0 = 可能分片, 1 = 不分片<br>
Bit 2: (MF) 0 = 最后的分片, 1 = 还有分片<br>
Fragment Offset字段只有在分片的时候才使用。</p>
<ul>
<li>:要抓带DF位标记的不分片的包，第七字节的值应该是：01000000 = 64</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump  &#x27;ip[6] = 64&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># tcpdump -nnne -c 10 -i bond_mgmt  &#x27;ip[6] = 64&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">11:18:00.670704 00:e0:ed:2e:43:6e &gt; 6c:92:bf:22:7f:d5, ethertype IPv4 (0x0800), length 262: 172.30.136.59.22 &gt; 172.30.136.114.57414: Flags [P.], seq 3649304248:3649304444, ack 1818371249, win 318, options [nop,nop,TS val 2743528534 ecr 1922421795], length 196</span><br></pre></td></tr></table></figure>
<ul>
<li>:抓分片包</li>
</ul>
<p>a：匹配MF，分片包（测试方法：ping -M want -s 3000 114.114.114.114）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># tcpdump -nnne -c 5 -i bond_mgmt  &#x27;ip[6] = 32&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">11:20:49.542309 00:e0:ed:2e:43:6e &gt; 00:00:5e:00:01:33, ethertype IPv4 (0x0800), length 1514: 172.30.136.59 &gt; 114.114.114.114: ICMP echo request, id 24301, seq 1, length 1480</span><br></pre></td></tr></table></figure>
<p>b：匹配分片和最后分片</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># tcpdump -nnne -c 10 -i bond_mgmt  &#x27;((ip[6:2] &gt; 0) and (not ip[6] = 64))&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">11:23:34.367123 00:e0:ed:2e:43:6e &gt; 00:00:5e:00:01:33, ethertype IPv4 (0x0800), length 1514: 172.30.136.59 &gt; 114.114.114.114: ICMP echo request, id 24873, seq 1, length 1480</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">11:23:34.367136 00:e0:ed:2e:43:6e &gt; 00:00:5e:00:01:33, ethertype IPv4 (0x0800), length 1514: 172.30.136.59 &gt; 114.114.114.114: ip-proto-1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">11:23:34.367140 00:e0:ed:2e:43:6e &gt; 00:00:5e:00:01:33, ethertype IPv4 (0x0800), length 82: 172.30.136.59 &gt; 114.114.114.114: ip-proto-1</span><br></pre></td></tr></table></figure>
<p><strong>4.3.1.3 匹配小于ttl的数据报</strong></p>
<p>TTL字段在第九字节，并且正好是完整的一个字节，TTL最大值是255，二进制为11111111。<br>
可以来验证下，我们试着制定一个特需的ttl长度为 256 （ping -M want -s 3000 -t 256 192.168.1.200 ping: ttl 256 out of range）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> # tcpdump -nnne -c 10 -i bond_mgmt &#x27;ip[8] &lt; 80&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">11:31:08.076553 00:e0:ed:2e:43:6e &gt; 6c:92:bf:22:7f:d5, ethertype IPv4 (0x0800), length 262: 172.30.136.59.22 &gt; 172.30.136.114.57414: Flags [P.], seq 3649329072:3649329268, ack 1818381829, win 318, options [nop,nop,TS val 2744315940 ecr 1923209214], length 196</span><br></pre></td></tr></table></figure>
<p><strong>4.3.1.4匹配协议头</strong></p>
<p>一般使用语法 proto [ expr : size ]。字段proto指定要查看的报文头，ip则查看IP头，tcp则查看TCP头，以此类推。<br>
expr字段给出从报文头索引0开始的位移。<br>
即：报文头的第一个字节为0，第二字节为1，以此类推。<br>
size字段是可选的，指定需要使用的字节数，1，2或4。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># tcpdump -nnne -vv -i bond_virt &quot;ip[9] = 6&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tcpdump: listening on bond_virt, link-type EN10MB (Ethernet), capture size 262144 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">23:05:43.092721 fa:16:3e:26:67:7c &gt; fa:16:3e:ed:88:5a, ethertype 802.1Q (0x8100), length 78: vlan 4030, p 0, ethertype IPv4, (tos 0x0, ttl 64, id 8074, offset 0, flags [DF], proto TCP (6), length 60)</span><br></pre></td></tr></table></figure>
<p>查看第十字节的IP头，协议值为6。注意这里必须使用引号。撇号或引号都可以，但反引号将无法正常工作。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> # tcpdump -nnne -vv -i bond_virt &quot;ip[9] = 1&quot; （ICMP的协议值为1）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">23:08:52.719465 fa:16:3e:ed:88:5a &gt; fa:16:3e:f0:51:b2, ethertype 802.1Q (0x8100), length 102: vlan 4030, p 0, ethertype IPv4, (tos 0x0, ttl 64, id 58371, offset 0, flags [DF], proto ICMP (1), length 84)</span><br></pre></td></tr></table></figure>
<p>这一方式常常作为掩码来选择特定比特位。值可以是十六进制。可通过语法&amp;加上比特掩码来指定。</p>
<h5 id="4-3-2-TCP选项设置（基础长度20字节，最长可达60字节）">4.3.2 TCP选项设置（基础长度20字节，最长可达60字节）</h5>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023a07ebcda0aaf418a9e2a64281b5fe5cc.png" alt="在这里插入图片描述"></p>
<p><strong>4.3.2.1.抓取源端口TCP数据包</strong></p>
<ul>
<li>源端口大于1024的TCP数据包</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;tcp[0:2] &gt; 1024&#x27;</span></span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;tcp src portrange 1025-65535&#x27;</span></span><br></pre></td></tr></table></figure>
<p><strong>4.3.2.2.匹配TCP数据包的特殊标记</strong></p>
<p>TCP标记定义在TCP头的第十四个字节</p>
<p>++++++++++++++<br>
|C|E|U|A|P|R|S|F|<br>
|W|C|R|C|S|S|Y|I|<br>
|R|E|G|K|H|T|N|N|<br>
++++++++++++++</p>
<p>在TCP 3次握手中，两个主机是如何交换数据<br>
1、源端发送 SYN<br>
2、目标端口应答 SYN,ACK<br>
3、源端发送 ACK<br>
只抓取SYN包，第十四字节是二进制的00000010，也就是十进制的2</p>
<ul>
<li>只抓取SYN包，第十四字节是二进制的00000010，也就是十进制的2</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;tcp[13] = 2&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>抓取 SYN,ACK （00010010 or 18）</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;tcp[13] = 18&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>抓取SYN 或者 SYN-ACK</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;tcp[13] &amp; 2 = 2&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>抓取PSH-ACK</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;tcp[13] = 24&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>抓所有包含FIN标记的包（FIN通常和ACK一起）</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;tcp[13] &amp; 1 = 1&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>抓取RST</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;tcp[13] &amp; 4 = 4&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>抓取TCP连接建立及关闭报文。该过滤器跳过TCP头的13个字节，提取flag字节。掩码0x03选择第一和第二比特位，即FIN和SYN位。如果其中一位不为0则报文被抓取。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># tcpdump -nnne -vv -i bond_mgmt  &quot;tcp[13] &amp; 0x03 != 0&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">23:14:51.210165 00:e0:ed:2e:43:6e &gt; 00:e0:ed:49:3d:cd, ethertype IPv4 (0x0800), length 74: (tos 0x0, ttl 64, id 53928, offset 0, flags [DF], proto TCP (6), length 60)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    172.30.136.59.53094 &gt; 172.30.136.89.6789: Flags [S], cksum 0x6900 (incorrect -&gt; 0x276e), seq 3618113769, win 29200, options [mss 1460,sackOK,TS val 2700139073 ecr 0,nop,wscale 7], length 0</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">23:14:51.211618 00:e0:ed:2e:43:6e &gt; 00:e0:ed:49:3d:cd, ethertype IPv4 (0x0800), length 66: (tos 0x0, ttl 64, id 53936, offset 0, flags [DF], proto TCP (6), length 52)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    172.30.136.59.53094 &gt; 172.30.136.89.6789: Flags [F.], cksum 0x68f8 (incorrect -&gt; 0x646a), seq 332, ack 433, win 237, options [nop,nop,TS val 2700139075 ecr 1881252428], length 0</span><br></pre></td></tr></table></figure>
<ul>
<li>如果需要查找端口号大于23的所有TCP数据流，必须从报文头提取端口字段，使用表达式：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> # tcpdump -nnne -vv -i bond_mgmt &quot;tcp[0:2] &amp; 0xffff &gt; 0x0017&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">23:12:56.113286 6c:92:bf:22:7f:d5 &gt; 00:e0:ed:2e:43:6e, ethertype IPv4 (0x0800), length 66: (tos 0x10, ttl 64, id 53673, offset 0, flags [DF], proto TCP (6), length 52)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    172.30.136.114.40948 &gt; 172.30.136.59.22: Flags [.], cksum 0x614b (correct), seq 3414195790, ack 1936528380, win 4372, options [nop,nop,TS val 1878917274 ecr 2700023976], length 0</span><br></pre></td></tr></table></figure>
<h5 id="4-3-3-匹配TCP标志位">4.3.3.匹配TCP<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%A0%87%E5%BF%97%E4%BD%8D&amp;spm=1001.2101.3001.7020">标志位</a></h5>
<p><strong>4.3.3.1 TCP标记值：</strong></p>
<p>tcp-fin, tcp-syn, tcp-rst, tcp-push, tcp-push, tcp-ack, tcp-urg</p>
<ul>
<li>实际上有一个很简单的方法过滤 flags（man pcap-filter and look for tcpflags）</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;tcp[tcpflags] == tcp-ack&#x27;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>抓取所有的包，用TCP-SYN 或者 TCP-FIN 设置</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;tcp[tcpflags] &amp; (tcp-syn|tcp-fin) != 0</span></span><br></pre></td></tr></table></figure>
<p>下图表示了TCP各状态转换的标记:</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234dbabee8871c4f879eadbd164e196d17.png" alt="在这里插入图片描述"></p>
<figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">tcpdump 提供了常用的字段偏移名字：</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">icmptype</span> <span class="params">(ICMP类型字段)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">icmpcode</span> <span class="params">(ICMP符号字段)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">tcpflags</span> <span class="params">(TCP标记字段)</span></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">ICMP类型值有：</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"><span class="title">icmp</span>-<span class="title">echoreply</span>, <span class="title">icmp</span>-<span class="title">unreach</span>, <span class="title">icmp</span>-<span class="title">sourcequench</span>, <span class="title">icmp</span>-<span class="title">redirect</span>, <span class="title">icmp</span>-<span class="title">echo</span>, <span class="title">icmp</span>-<span class="title">routeradvert</span>, <span class="title">icmp</span>-<span class="title">routersolicit</span>,<span class="title">icmp</span>-<span class="title">timxceed</span>, <span class="title">icmp</span>-<span class="title">paramprob</span>, <span class="title">icmp</span>-<span class="title">tstamp</span>, <span class="title">icmp</span>-<span class="title">tstampreply</span>, <span class="title">icmp</span>-<span class="title">ireq</span>, <span class="title">icmp</span>-<span class="title">ireqreply</span>, <span class="title">icmp</span>-<span class="title">maskreq</span>, <span class="title">icmp</span>-<span class="title">maskreply</span></span></span><br></pre></td></tr></table></figure>
<p><strong>4.3.3.2 HTTP数据过滤</strong></p>
<p>十六进制转换方法：python -c ‘print “MAIL”.encode(“hex”)’ --&gt; 4d41494c</p>
<ul>
<li>抓取http请求开始头格式为GET / HTTP/1.1\r\n (16 bytes counting the carriage return but not the backslashes !) “GET ” 十六进制是 47455420</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump &#x27;tcp[32:4] = 0x47455420&#x27;</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023a7e3f74c335b46ca9d45dfa623c94629.png" alt="在这里插入图片描述"></p>
<ul>
<li>查看HTTP GET请求（GET = 0x47, 0x45, 0x54, 0x20），(tcp[12:1] &amp; 0xf0) &gt;&gt; 2 等价于 (tcp[12:1] &amp; 0xf0) /4 ，因为头部的长度为32bit 一个字，偏移量除4获取到data的数组位置。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$offset = ((tcp[12:1] &amp; 0xf0) &gt;&gt; 2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tcp[$offset:4]</span><br><span class="line">#tcpdump -nnne  -i bond_virt -s 0 -A &#x27;tcp dst port 80 and tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420&#x27;</span><br></pre></td></tr></table></figure>
<ul>
<li>查看HTTP POST请求（POST = 0x50, 0x4f, 0x53, 0x54)）</li>
</ul>
<p>查看HTTP请求响应头以及数据</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/e0e6e946a70c43ccb8e30d9089ad526a.png" alt="在这里插入图片描述"></p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#tcpdump -A -s 0 &#x27;tcp port 80 and (((ip[2:2] - ((ip[0]&amp;0xf)<span class="string">&lt;&lt;2)) - ((tcp[12]&amp;0xf0)&gt;&gt;2)) != 0)&#x27;</span></span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20238826083701364386bb4753f3ee0d3ef1.png" alt="在这里插入图片描述"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -X -s 0 &#x27;tcp port 80 and (((ip[2:2] - ((ip[0]&amp;0xf)&lt;&lt;2)) - ((tcp[12]&amp;0xf0)&gt;&gt;2)) != 0)&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># tcpdump -nnne  -i bond_virt  -c 5 -X -s 0 &#x27;tcp port 80 and (((ip[2:2] - ((ip[0]&amp;0xf)&lt;&lt;2)) - ((tcp[12]&amp;0xf0)&gt;&gt;2)) != 0)&#x27;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202392376a5c7d2f4d6c996a9359a8fdc364.png" alt="在这里插入图片描述"></p>
<p><strong>4.3.3.3 wireshark分析http包过滤：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">按请求头、请求体</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http contains &quot;XXXXX&quot; #显示HTTP包中包含指定内容的数据包  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http.request.uri contains &quot;XXXXX&quot; #显示HTTP请求包中包含指定内容的数据包  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http.time &gt;=0.1 #显示HTTP响应时间大于等于指定时间的数据包  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http.request #显示HTTP请求数据包  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http.respone #显示HTTP应答数据包  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http.response.code == 404 #显示代码为404的HTTP响应数据包  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">http.content_length &lt; 10 #显示HTTP的内容长度小于指定长度的数据包  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#显示特定时间的数据包 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">frame.time == &quot;May 27, 2021 15:23:57.932344000&quot;  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#显示时间间隔的数据包</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">frame.time &gt;= &quot;May 27, 2021 15:23:57.0&quot; &amp;&amp; frame.time &lt; &quot;May 27, 2021 15:23:58.0&quot;  </span><br></pre></td></tr></table></figure>
<p><strong>4.3.3.4 使用tcpdump方式抓取uri包：</strong></p>
<ul>
<li>抓取请求：GET /me-a-milkshake-please/ HTTP/1.1</li>
</ul>
<p>过滤表达式：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/afc00f75fcfa4f4b910000dd2fe4f331.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbGpiY2hhcmxlcw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420 &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 4:4] = 0x2f6d652d &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 8:4] = 0x612d6d69 &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 12:4] = 0x6c6b7368 &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 16:4] = 0x616b652d &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 20:4] = 0x706c6561 &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 24:4] = 0x73652f20 &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 28:4] = 0x48545450 &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 32:4] = 0x2f312e31</span><br></pre></td></tr></table></figure>
<ul>
<li>请求头 GET /productlist…</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/928c43b5d8bb4c11a3ccb1f99ba2749c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbGpiY2hhcmxlcw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2):4] = 0x47455420 &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 4:4] = 0x2f70726f &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 8:4] = 0x64756374 &amp;&amp; tcp[((tcp[12:1] &amp; 0xf0) &gt;&gt; 2) + 12:4] = 6c697374&#x27;</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/009e43d986b345b4aa39d1358b19aff6.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbGpiY2hhcmxlcw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>4.3.4 链路层数据头选项设置匹配（18字节）<br>
Ethernet II 帧头：6+6+2+4=18Bytes<br>
目标MAC|源MAC|类型|数据|FCS<br>
最小帧长6+6+2+46+4 = 64字节，最大6+6+2+1500+4 = 1518字节。（注：ISL封装后可达1548字节（ISL标记的长度为30字节，思科私有），802.1Q封装后可达1522字节（+4字节vlan信息））</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023650d59fb3f2a4f5eb28b0a25be7c6988.png" alt="在这里插入图片描述"></p>
<ul>
<li>下例提取从以太网头第一字节开始（即目的地址第一字节），提取低阶比特位，并确保该位不为0，该条件会选取广播和多播报文。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># tcpdump -nnne -vv -i bond_mgmt &quot;ether[0] &amp; 1 != 0&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tcpdump: listening on bond_mgmt, link-type EN10MB (Ethernet), capture size 262144 bytes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">23:13:52.540436 a0:36:9f:89:0c:66 &gt; 01:00:5e:00:00:12, ethertype IPv4 (0x0800), length 60: (tos 0xc0, ttl 255, id 23668, offset 0, flags [none], proto VRRP (112), length 40)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">172.30.140.129 &gt; 224.0.0.18: vrrp 172.30.140.129 &gt; 224.0.0.18: VRRPv2, Advertisement, vrid 151, prio 50, authtype none, intvl 2s, length 20, addrs: 172.30.140.252</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202366499979e1584be494f40056d3d84ffa.png" alt="在这里插入图片描述"></p>
<p>Dest MAC: 目的MAC地址<br>
Src MAC： 源MAC地址<br>
帧类型： 0x0806<br>
硬件类型： 1（ 以太网）<br>
协议类型： 0x0800（ IP地址）<br>
硬件地址长度： 6<br>
协议地址长度： 4<br>
OP： 1（ ARP请求） ， 2（ ARP应答） ， 3（ RARP请求） ， 4（ RARP应答）</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/b5b9b59d6f9b4d128b284fa4b0c89365.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAbGpiY2hhcmxlcw==,size_19,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<ul>
<li>抓取vlan号：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -nnne -c 3 -i bond_virt  vlan 1012</span><br></pre></td></tr></table></figure>
<ul>
<li>老版本内核已不支持tag信息流经libcap，所以下面命令无返回结果（使用vlan vlanid抓包）：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#tcpdump -nnne -c 3 -i  bond_virt  &#x27;ether[12:2] = 0x8100&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#tcpdump -nnne -c 3 -i  bond_virt  &#x27;ether[12:2] = 0x8100 and ((ether[14] &lt;&lt; 8)+ ether[15]) = 1021 &#x27;</span><br></pre></td></tr></table></figure>
<h2 id="文件加密防误操作-chattr">文件加密防误操作-chattr</h2>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chattr +<span class="selector-tag">i</span> 文件名 //+<span class="selector-tag">i</span>对文件进行加密,-<span class="selector-tag">i</span>解锁</span><br></pre></td></tr></table></figure>
<p><strong>常见<a target="_blank" rel="noopener" href="https://www.linuxcool.com/">命令</a>参数</strong></p>
<p>A：即Atime，告诉系统不要修改对这个文件的最后访问时间。</p>
<p>S：即<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Sync&amp;spm=1001.2101.3001.7020">Sync</a>，一旦应用程序对这个文件执行了写操作，使系统立刻把修改的结果写到磁盘。</p>
<p>a：即Append Only，系统只允许在这个文件之后追加数据，不允许任何进程覆盖或截断这个文件。如果目录具有这个属性，系统将只允许在这个目录下建立和修改文件，而不允许删除任何文件。</p>
<p>b：不更新文件或目录的最后存取时间。</p>
<p>c：将文件或目录压缩后存放。</p>
<p>d：当<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=dump&amp;spm=1001.2101.3001.7020">dump</a>程序执行时，该文件或目录不会被dump备份。</p>
<p>D:检查压缩文件中的错误。</p>
<p>i：即Immutable，系统不允许对这个文件进行任何的修改。如果目录具有这个属性，那么任何的进程只能修改目录之下的文件，不允许建立和删除文件。</p>
<p>s：彻底删除文件，不可恢复，因为是从磁盘上删除，然后用0填充文件所在区域。</p>
<p>u：当一个应用程序请求删除这个文件，系统会保留其数据块以便以后能够恢复删除这个文件，用来防止意外删除文件或目录。</p>
<p>t:文件系统支持尾部合并（tail-merging）。</p>
<p>X：可以直接访问压缩文件的内容。</p>
<p><strong>常用的命令展示</strong></p>
<p>chatter: 锁定文件，不能删除，不能更改</p>
<p>+a: 只能给文件添加内容，但是删除不了，</p>
<p>chattr +a /etc/passwd</p>
<p>-d: 不可删除</p>
<p>加锁：chattr +i /etc/passwd 文件不能删除，不能更改，不能移动</p>
<p>查看加锁：lsattr /etc/passwd 文件加了一个参数 i 表示锁定</p>
<p>解锁：chattr -i /home/jiaxu/test.txt - 表示解除</p>
<p><strong>隐藏chattr命令：</strong></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">which chattr</span><br><span class="line">mv <span class="regexp">/usr/</span>bin<span class="regexp">/chattr  /</span>opt<span class="regexp">/ftl/</span></span><br><span class="line">cd <span class="regexp">/opt/</span>ftl/</span><br><span class="line">mv chattr h    --&gt;更改命令，使用别名h隐藏身份</span><br><span class="line"><span class="regexp">/opt/</span>ftl<span class="regexp">/h +i /</span>home<span class="regexp">/jiaxu/</span>test.txt   --&gt;利用h 行驶chattr命令</span><br><span class="line">lsattr <span class="regexp">/home/</span>jiaxu/test.txt    --&gt;查看加密信息</span><br></pre></td></tr></table></figure>
<p><strong>恢复隐藏命令：</strong></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mv h <span class="regexp">/usr/</span>bin/chattr</span><br><span class="line">chattr -i <span class="regexp">/home/</span>jiaxu/test.txt</span><br><span class="line">lsattr <span class="regexp">/home/</span>jiaxu/test.txt</span><br></pre></td></tr></table></figure>
<h1>任务调度</h1>
<h2 id="crond">crond</h2>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.概述</span><br><span class="line">任务调度：是指系统在某个时间执行特定的命令或程序。</span><br><span class="line">crond---&gt;周期任务</span><br><span class="line"></span><br><span class="line">任务调度分类：</span><br><span class="line">	(<span class="number">1</span>)系统工作：有些重要的工作必须周而复始地执行。如病毒扫描等</span><br><span class="line">	(<span class="number">2</span>)个别用户工作：个别用户可能希望执行某些程序，比如对 mysql 数据库的备份。</span><br><span class="line"></span><br><span class="line">示意图：</span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202332a43e83ca20422cade96a3fb3729b18.bmp" alt="在这里插入图片描述"></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>.基本语法</span><br><span class="line">	crontab <span class="selector-attr">[选项]</span></span><br><span class="line">	功能：进行定时任务的设置</span><br><span class="line">	</span><br><span class="line"><span class="number">3</span>.常用选项</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023e0f5affbe40145958d6e6e035fc31634.bmp" alt="在这里插入图片描述"></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span>.快速入门</span><br><span class="line">在<span class="regexp">/etc/</span>下有一个crontab文件，在这个文件中写入所有的定时任务</span><br><span class="line"></span><br><span class="line">输入crontab -e  就会进入crontab文件</span><br><span class="line">然后在文件中写入定时任务：*<span class="regexp">/1 * * * * ls –l	/</span>etc<span class="regexp">/ &gt; /</span>tmp/to.txt</span><br><span class="line">意思说每小时的每分钟执行 ls –l <span class="regexp">/etc/</span> &gt; <span class="regexp">/tmp/</span>to.txt 命令</span><br><span class="line">最后保存退出</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">参数细节说明：</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<p><strong>分 时 天 月 星期几</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023e4b82d95c615475eaf795b4352c5dde8.bmp" alt="在这里插入图片描述"></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">特定时间执行任务案例：</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b8e1f1d7bfdf495a9e5bd047e7ad4212.png" alt="在这里插入图片描述"></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">5</span>.应用实例</span><br><span class="line">案例 <span class="number">1</span>：每隔 <span class="number">1</span> 分钟，就将当前的日期信息，追加到 <span class="regexp">/tmp/my</span>date 文件中</span><br><span class="line">crontab -e</span><br><span class="line">*<span class="regexp">/1 * * * * date &gt;&gt; /</span>tmp/mydate</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例 <span class="number">2</span>：每隔 <span class="number">1</span> 分钟，将当前日期和日历都追加到 <span class="regexp">/home/my</span>cal 文件中</span><br><span class="line">第一种方法：</span><br><span class="line">	crontab -e</span><br><span class="line">	在crontab文件中输入：</span><br><span class="line">	*<span class="regexp">/1 * * * * date &gt;&gt; /</span>home/mycal </span><br><span class="line">	*<span class="regexp">/1 * * * * cal &gt;&gt; /</span>home/mycal </span><br><span class="line">	保存退出</span><br><span class="line"></span><br><span class="line">第二种方法：</span><br><span class="line">	将 date &gt;&gt; <span class="regexp">/home/my</span>cal 和  cal &gt;&gt; <span class="regexp">/home/my</span>cal 命令写在文件 <span class="regexp">/home/my</span>.sh中</span><br><span class="line">	就是将命令都写在shell脚本中，直接调用shell脚本</span><br><span class="line"></span><br><span class="line">	步骤：</span><br><span class="line">		vim <span class="regexp">/home/my</span>.sh</span><br><span class="line">		在my.sh中写入：</span><br><span class="line">			date &gt;&gt; <span class="regexp">/home/my</span>cal</span><br><span class="line">			cal &gt;&gt; <span class="regexp">/home/my</span>cal</span><br><span class="line">			:wq</span><br><span class="line">		给 my.sh 增加执行权限：chmod u+x <span class="regexp">/home/my</span>.sh (否则无法使用crontab命令)</span><br><span class="line">		crontab -e</span><br><span class="line">		在crontab中写入：*<span class="regexp">/1 * * * *	/</span>home/my.sh</span><br><span class="line"></span><br><span class="line">注意：可以写脚本也可以不写脚本</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例 <span class="number">3</span>:	每天凌晨 <span class="number">2</span>:<span class="number">00</span>  将 mysql 数据库 testdb 备份到文件中。</span><br><span class="line">提示: 指令为 mysqldump -u root -p密码 数据库 &gt; <span class="regexp">/home/</span>db.bak</span><br><span class="line">步骤(<span class="number">1</span>) crontab -e</span><br><span class="line">步骤(<span class="number">2</span>) <span class="number">0</span> <span class="number">2</span> * * * mysqldump -u root -proot testdb &gt; <span class="regexp">/home/</span>db.bak</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">6</span>. crond 相关指令</span><br><span class="line">conrtab –r：终止任务调度。</span><br><span class="line">crontab –l：列出当前有那些任务调度</span><br><span class="line">service crond restart：重启任务调度</span><br></pre></td></tr></table></figure>
<h2 id="at定时任务">at定时任务</h2>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>基本介绍</span><br><span class="line"><span class="comment">(1)</span>	at 命令是一次性定时计划任务，at 的守护进程 atd 会以后台模式运行，检查作业队列来运行；</span><br><span class="line"><span class="comment">(2)</span> 每个作业队列<span class="comment">(任务队列)</span>中都有作业<span class="comment">(作业里是指令/脚本)</span>；</span><br><span class="line"><span class="comment">(3)</span>	默认情况下，atd 守护进程每 <span class="number">60</span> 秒检查作业队列；</span><br><span class="line">	有作业时，会检查作业运行时间，如果时间与当前时间匹配，则运行此作业；</span><br><span class="line">	运行完这个作业<span class="comment">(任务)</span>之后，这个作业就不会再被执行了；</span><br><span class="line"><span class="comment">(4)</span>	at 命令是一次性定时计划任务，执行完一个任务后不再执行此任务了；</span><br><span class="line"><span class="comment">(5)</span>	在使用 at 命令的时候，一定要保证 atd 进程的启动，可以使用相关指令来查看</span><br><span class="line">	ps -ef	| grep atd <span class="comment">//可以检测 atd 是否在运行</span></span><br><span class="line">	ps -ef ---&gt; 查看所有的进程	</span><br><span class="line"></span><br><span class="line">总结：at命令就是对某个定时任务只执行一次</span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b1efabbd97bf4bae83b31120a7fec5d2.bmp" alt="在这里插入图片描述"></p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>. <span class="keyword">at</span> 命令格式</span><br><span class="line">	<span class="keyword">at</span> [选项] [时间]</span><br><span class="line">	然后输入两次：Ctrl + D	(结束 <span class="keyword">at</span> 命令的输入)</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. <span class="keyword">at</span> 命令选项：</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202381405975b92b449aaa4fb93acceab665.png" alt="在这里插入图片描述"></p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4.</span> at 指定时间的方法：</span><br><span class="line"></span><br><span class="line">(<span class="number">1</span>)	接受在当天的 hh:mm（小时:分钟）式的时间指定。</span><br><span class="line">	假如该时间已过去，那么就放在第二天执行。 例如：<span class="number">04</span>:<span class="number">00</span></span><br><span class="line">(<span class="number">2</span>)	使用 midnight（深夜），noon（中午），teatime（饮茶时间，一般是下午 <span class="number">4</span> 点）等比较模糊的词语来指定时间。</span><br><span class="line">(<span class="number">3</span>)	采用 <span class="number">12</span> 小时计时制，即在时间后面加上 AM（上午）或 PM（下午）来说明是上午还是下午。 </span><br><span class="line">	例如：<span class="number">12</span>pm</span><br><span class="line">(<span class="number">4</span>)	指定命令执行的具体日期，指定格式为 <span class="built_in">month</span> <span class="built_in">day</span>（月 日）或 mm/dd/yy（月/日/年）或 dd.mm.yy（日.月.年），指定的日期必须跟在指定时间的后面。 </span><br><span class="line">	例如：<span class="number">04</span>:<span class="number">00</span> <span class="number">2021</span><span class="number">-03</span><span class="number">-1</span> (小的时间写前面，大的时间写后面)</span><br><span class="line">(<span class="number">5</span>)	使用相对计时法。</span><br><span class="line">	指定格式为：<span class="built_in">now</span> + <span class="built_in">count</span> time-units</span><br><span class="line">	<span class="built_in">now</span> 就是当前时间，time-units 是时间单位，这里能够是 minutes（分钟）、hours（小时）、days（天）、weeks（星期）。</span><br><span class="line">	<span class="built_in">count</span> 是时间的数量，几天，几小时。 </span><br><span class="line">	例如：<span class="built_in">now</span> + <span class="number">5</span> minutes</span><br><span class="line">(<span class="number">6</span>)	直接使用 <span class="built_in">today</span>（今天）、tomorrow（明天）来指定完成命令的时间。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>应用实例</span><br><span class="line">案例 <span class="number">1</span>：<span class="number">2</span> 天后的下午 <span class="number">5</span> 点执行 /bin/ls /home</span><br><span class="line">	at <span class="number">5</span>pm + <span class="number">2</span> days</span><br><span class="line">	/bin/ls /home</span><br><span class="line">	两次ctrl+D</span><br><span class="line">	</span><br><span class="line">案例 <span class="number">2</span>：atq 命令来查看系统中没有执行的工作任务</span><br><span class="line">	直接输入atq 查询</span><br><span class="line"></span><br><span class="line">案例 <span class="number">3</span>：明天<span class="number">17</span>点钟，输出时间到指定文件内 比如 /root/date100.<span class="built_in">log</span></span><br><span class="line">	at <span class="number">5</span>pm tomorrow</span><br><span class="line">	<span class="built_in">date</span> &gt; <span class="regexp">/root/</span>date100.<span class="built_in">log</span></span><br><span class="line">	两次ctrl+D</span><br><span class="line">	</span><br><span class="line">案例 <span class="number">4</span>：<span class="number">2</span>分钟后，输出时间到指定文件内 比如 /root/date200.<span class="built_in">log</span></span><br><span class="line">	at <span class="built_in">now</span> + <span class="number">2</span> minutes</span><br><span class="line">	<span class="built_in">date</span> &gt; <span class="regexp">/root/</span>date200.<span class="built_in">log</span></span><br><span class="line">	两次ctrl+D</span><br><span class="line">	</span><br><span class="line">案例 <span class="number">5</span>：删除已经设置的任务</span><br><span class="line">	atrm 任务编号</span><br><span class="line">	atrm <span class="number">4</span> <span class="comment">//表示将 job 队列，编号为 4 的 job 删除.</span></span><br><span class="line"></span><br><span class="line">	atq:</span><br><span class="line">	<span class="number">2</span>	Thu Feb <span class="number">24</span> <span class="number">09</span>:<span class="number">53</span>:<span class="number">00</span> <span class="number">2022</span> a root</span><br><span class="line">	<span class="number">1</span>	Fri Feb <span class="number">25</span> <span class="number">17</span>:<span class="number">00</span>:<span class="number">00</span> <span class="number">2022</span> a root</span><br><span class="line">	第一列就是编号</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意：也可以执行脚本</span><br><span class="line">比如：</span><br><span class="line">	at <span class="built_in">now</span> +<span class="number">2</span> minutes</span><br><span class="line">	/root/my.sh  </span><br><span class="line">	但要有这个脚本，并且有执行权限x</span><br></pre></td></tr></table></figure>
<h1>Linux 实操篇-Linux 磁盘分区、挂载</h1>
<h2 id="12-1-Linux-分区">12.1. Linux 分区</h2>
<h3 id="12-1-1-原理介绍">12.1.1.原理介绍</h3>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>) Linux 无论有几个分区，分给哪一目录使用，它归根结底就只有一个根目录，一个独立且唯一的文件结构 </span><br><span class="line">	Linux 中每个分区都是用来组成整个文件系统的一部分。</span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>)	Linux 采用了一种叫“载入”的处理方法，它的整个文件系统中包含了一整套的文件和目录，且将一个分区和一个目录联系起来。</span><br><span class="line">	这时要载入的一个分区将使它的存储空间在一个目录下获得。</span><br><span class="line"></span><br><span class="line">(<span class="number">3</span>)图解：</span><br><span class="line">硬盘上的一个分区 通过挂载mount机制 与文件系统中的某个目录联系起来</span><br><span class="line">即分区挂载到目录</span><br><span class="line">访问这个目录即访问这个分区</span><br><span class="line">可以通过指令查看挂载情况，下面会说。</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023903f8ba130474b7fb72d82cab1a6fc7f.bmp" alt="在这里插入图片描述"></p>
<h3 id="12-1-2-硬盘说明">12.1.2.硬盘说明</h3>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>)	Linux 硬盘主要分为：</span><br><span class="line">	 IDE 硬盘和 <span class="keyword">SCSI </span>硬盘</span><br><span class="line">	 目前基本上是 <span class="keyword">SCSI </span>硬盘</span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>)	对于 IDE 硬盘，驱动器标识符为“hdx~”</span><br><span class="line">	其中“hd”表明分区所在设备的类型，这里是指 IDE 硬盘</span><br><span class="line">	</span><br><span class="line">	“x”为盘号</span><br><span class="line">		a 为基本盘 第一个硬盘</span><br><span class="line">		<span class="keyword">b </span>为基本从属盘 第二个硬盘</span><br><span class="line">		c 为辅助主盘 第三个硬盘</span><br><span class="line">		d 为辅助从属盘 第四个硬盘</span><br><span class="line">		</span><br><span class="line">	“~”代表分区</span><br><span class="line">		前四个分区用数字 <span class="number">1</span> 到 <span class="number">4</span> 表示，它们是主分区或扩展分区，从 <span class="number">5</span> 开始就是逻辑分区</span><br><span class="line">	</span><br><span class="line">	例：hda3 表示为第一个 IDE 硬盘上的第三个主分区或扩展分区</span><br><span class="line">	     hdb2 表示为第二个 IDE 硬盘上的第二个主分区或扩展分区</span><br><span class="line">	     </span><br><span class="line">(<span class="number">3</span>)	对于 <span class="keyword">SCSI </span>硬盘则标识为“sdx~”</span><br><span class="line">	<span class="keyword">SCSI </span>硬盘是用“sd”来表示分区所在设备的类型的，其余则和 IDE 硬盘的表示方法一样</span><br><span class="line"><span class="number">123456789101112131415161718192021</span></span><br></pre></td></tr></table></figure>
<h3 id="12-1-3-查看所有设备挂载情况">12.1.3.查看所有设备挂载情况</h3>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">命令 ：lsblk	或者 lsblk -f</span><br><span class="line"></span><br><span class="line">lsblk：list block devices </span><br><span class="line"></span><br><span class="line">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda      8:0    0   20G  0 disk </span><br><span class="line">├─sda1   8:1    0    1G  0 part /boot</span><br><span class="line">├─sda2   8:2    0    2G  0 part [SWAP]</span><br><span class="line">└─sda3   8:3    0   17G  0 part /</span><br><span class="line">sr0     11:0    1  4.3G  0 rom </span><br><span class="line"></span><br><span class="line">sda1分区挂载到/boot目录</span><br><span class="line">sda2分区挂载到swap目录</span><br><span class="line">sda3分区挂载到根目录</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">lsblk -f (更加详细的显示)</span><br><span class="line"></span><br><span class="line">NAME   FSTYPE  LABEL           UUID                                 MOUNTPOINT</span><br><span class="line">sda                                                                 </span><br><span class="line">├─sda1 ext4                    bd7b7249-b3fa<span class="string">-434</span>f-acfd<span class="string">-5127</span>a56c0673 /boot</span><br><span class="line">├─sda2 swap                    4381675a<span class="string">-652</span>c<span class="string">-4</span>ffa<span class="string">-9</span>a9d-cb23d19be79b [SWAP]</span><br><span class="line">└─sda3 ext4                    531c2867-a7e9<span class="string">-4</span>ae7<span class="string">-8</span>f79<span class="string">-4453</span>ceb76c5b /</span><br><span class="line">sr0    iso9660 CentOS 7 x86_64 2018<span class="string">-11</span><span class="string">-25</span><span class="string">-23</span><span class="string">-54</span><span class="string">-16</span><span class="string">-00</span>    </span><br><span class="line"></span><br><span class="line">第一列可以看到设备/硬盘分区情况</span><br><span class="line">FSTYPE:文件系统类型</span><br><span class="line">UUID:格式化之后，会给每一个分区分配一个 唯一的 不重复的 40位 的 字符串</span><br><span class="line">MOUNTPOINT:挂载点</span><br><span class="line">123456789101112131415161718192021222324252627282930</span><br></pre></td></tr></table></figure>
<h2 id="12-2-挂载的经典案例">12.2.挂载的经典案例</h2>
<h3 id="12-2-1-说明">12.2.1.说明</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">下面我们以增加一块硬盘为例来熟悉一下磁盘的相关指令和深入理解磁盘分区、挂载、卸载的概念。</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<h3 id="12-2-2-如何增加一块硬盘">12.2.2.如何增加一块硬盘</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1)	虚拟机添加硬盘</span><br><span class="line">2)	分区</span><br><span class="line">3)	格式化</span><br><span class="line">4)	挂载</span><br><span class="line">5)	设置可以自动挂载</span><br><span class="line">12345</span><br></pre></td></tr></table></figure>
<h3 id="12-2-3-虚拟机增加硬盘步骤-1-虚拟机添加硬盘">12.2.3.虚拟机增加硬盘步骤 1-虚拟机添加硬盘</h3>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">在【虚拟机】菜单中选择【设置】</span><br><span class="line">然后设备列表里添加硬盘</span><br><span class="line">然后一路【下一步】</span><br><span class="line">中间只有选择磁盘大小的地方需要修改，至到完成</span><br><span class="line"></span><br><span class="line">使用命令lsblk发现没有新增的硬盘？</span><br><span class="line">	需要重启系统（才能识别）</span><br><span class="line"></span><br><span class="line">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span><br><span class="line">sda      8:0   <span class="number"> 0 </span>  20G <span class="number"> 0 </span>disk </span><br><span class="line">├─sda1   8:1   <span class="number"> 0 </span>   1G <span class="number"> 0 </span>part /boot</span><br><span class="line">├─sda2   8:2   <span class="number"> 0 </span>   2G <span class="number"> 0 </span>part [SWAP]</span><br><span class="line">└─sda3   8:3   <span class="number"> 0 </span>  17G <span class="number"> 0 </span>part /</span><br><span class="line">sdb      8:16  <span class="number"> 0 </span>   1G <span class="number"> 0 </span>disk </span><br><span class="line">sr0     11:0   <span class="number"> 1 </span> 4.3G <span class="number"> 0 </span>rom  </span><br><span class="line">新增硬盘sdb，还未分区。</span><br><span class="line">12345678910111213141516</span><br></pre></td></tr></table></figure>
<h3 id="12-2-4-虚拟机增加硬盘步骤-2-分区">12.2.4 虚拟机增加硬盘步骤 2-分区</h3>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">对sdb进行分区：</span><br><span class="line"></span><br><span class="line">分区命令：fdisk <span class="operator">/</span>dev<span class="operator">/</span>sdb   (dev目录下是一些设备)</span><br><span class="line">步骤：</span><br><span class="line">	开始分区后输入 n  (新增分区)</span><br><span class="line">	然后选择 p     	(分区类型为主分区)</span><br><span class="line">	两次回车</span><br><span class="line">	最后输入 w  (写入分区并退出)(若不保存并退出输入 q，即上面步骤出错了想重来就可以输入q)</span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line">	m	显示命令列表           </span><br><span class="line">	p	显示磁盘分区 (同 fdisk –l) </span><br><span class="line">	n	新增分区</span><br><span class="line">	d	删除分区</span><br><span class="line">	w	写入并退出</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">命令(输入 m 获取帮助)：m</span><br><span class="line">命令操作</span><br><span class="line">   a   toggle a bootable flag</span><br><span class="line">   b   edit bsd disklabel</span><br><span class="line">   c   toggle the dos compatibility flag</span><br><span class="line">   d   <span class="keyword">delete</span> a <span class="keyword">partition</span></span><br><span class="line">   g   <span class="keyword">create</span> a <span class="keyword">new</span> <span class="keyword">empty</span> GPT <span class="keyword">partition</span> <span class="keyword">table</span></span><br><span class="line">   G   <span class="keyword">create</span> an IRIX (SGI) <span class="keyword">partition</span> <span class="keyword">table</span></span><br><span class="line">   l   list known <span class="keyword">partition</span> types</span><br><span class="line">   m   print this menu</span><br><span class="line">   n   <span class="keyword">add</span> a <span class="keyword">new</span> <span class="keyword">partition</span></span><br><span class="line">   o   <span class="keyword">create</span> a <span class="keyword">new</span> <span class="keyword">empty</span> DOS <span class="keyword">partition</span> <span class="keyword">table</span></span><br><span class="line">   p   print the <span class="keyword">partition</span> <span class="keyword">table</span></span><br><span class="line">   q   quit <span class="keyword">without</span> saving changes</span><br><span class="line">   s   <span class="keyword">create</span> a <span class="keyword">new</span> <span class="keyword">empty</span> Sun disklabel</span><br><span class="line">   t   change a <span class="keyword">partition</span><span class="string">&#x27;s system id</span></span><br><span class="line"><span class="string">   u   change display/entry units</span></span><br><span class="line"><span class="string">   v   verify the partition table</span></span><br><span class="line"><span class="string">   w   write table to disk and exit</span></span><br><span class="line"><span class="string">   x   extra functionality (experts only)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">选择分区类型：主分区/扩展分区</span></span><br><span class="line"><span class="string">命令(输入 m 获取帮助)：n</span></span><br><span class="line"><span class="string">Partition type:</span></span><br><span class="line"><span class="string">   p   primary (0 primary, 0 extended, 4 free)</span></span><br><span class="line"><span class="string">   e   extended</span></span><br><span class="line"><span class="string">Select (default p): p</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">分区号 (1-4，默认 1)：                  ---&gt;输入2，硬盘就有2个分区</span></span><br><span class="line"><span class="string">起始 扇区 (2048-2097151，默认为 2048)：</span></span><br><span class="line"><span class="string">将使用默认值 2048</span></span><br><span class="line"><span class="string">Last 扇区, +扇区 or +size&#123;K,M,G&#125; (2048-2097151，默认为 2097151)：</span></span><br><span class="line"><span class="string">将使用默认值 2097151</span></span><br><span class="line"><span class="string">分区 1 已设置为 Linux 类型，大小设为 1023 MiB</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">命令(输入 m 获取帮助)：w</span></span><br><span class="line"><span class="string">The partition table has been altered!</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Calling ioctl() to re-read partition table.</span></span><br><span class="line"><span class="string">正在同步磁盘。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">lsblk</span></span><br><span class="line"><span class="string">NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT</span></span><br><span class="line"><span class="string">sda      8:0    0   20G  0 disk </span></span><br><span class="line"><span class="string">├─sda1   8:1    0    1G  0 part /boot</span></span><br><span class="line"><span class="string">├─sda2   8:2    0    2G  0 part [SWAP]</span></span><br><span class="line"><span class="string">└─sda3   8:3    0   17G  0 part /</span></span><br><span class="line"><span class="string">sdb      8:16   0    1G  0 disk </span></span><br><span class="line"><span class="string">└─sdb1   8:17   0 1023M  0 part </span></span><br><span class="line"><span class="string">sr0     11:0    1  4.3G  0 rom  </span></span><br><span class="line"><span class="string">分区成功</span></span><br><span class="line"><span class="string">硬盘sdb中只有一个分区sdb1</span></span><br><span class="line"><span class="string">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273</span></span><br></pre></td></tr></table></figure>
<h3 id="12-2-5-虚拟机增加硬盘步骤-3-格式化">12.2.5 虚拟机增加硬盘步骤 3-格式化</h3>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">格式化磁盘</span><br><span class="line"></span><br><span class="line">为什么要格式化？</span><br><span class="line">	给这个分区指定它的文件类型</span><br><span class="line"></span><br><span class="line">[root@Edu01 ~]# lsblk -f</span><br><span class="line">NAME   FSTYPE  LABEL           UUID                                 MOUNTPOINT</span><br><span class="line">sda                                                                 </span><br><span class="line">├─sda1 ext4                    bd7b7249-b3fa<span class="string">-434</span>f-acfd<span class="string">-5127</span>a56c0673 /boot</span><br><span class="line">├─sda2 swap                    4381675a<span class="string">-652</span>c<span class="string">-4</span>ffa<span class="string">-9</span>a9d-cb23d19be79b [SWAP]</span><br><span class="line">└─sda3 ext4                    531c2867-a7e9<span class="string">-4</span>ae7<span class="string">-8</span>f79<span class="string">-4453</span>ceb76c5b /</span><br><span class="line">sdb                                                                 </span><br><span class="line">└─sdb1                                                              </span><br><span class="line">sr0    iso9660 CentOS 7 x86_64 2018<span class="string">-11</span><span class="string">-25</span><span class="string">-23</span><span class="string">-54</span><span class="string">-16</span><span class="string">-00</span>    </span><br><span class="line"></span><br><span class="line">sdb1的UUID为空，说明还没有格式化。</span><br><span class="line"></span><br><span class="line">格式化命令:</span><br><span class="line">	mkfs -t	ext4 /dev/sdb1 		其中 ext4 是分区类型</span><br><span class="line">12345678910111213141516171819</span><br></pre></td></tr></table></figure>
<h3 id="12-2-6-虚拟机增加硬盘步骤-4-挂载">12.2.6.虚拟机增加硬盘步骤 4-挂载</h3>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">挂载: 将一个分区与一个目录联系起来，</span><br><span class="line">	命令：mount 设备名称 挂载目录</span><br><span class="line"></span><br><span class="line">首先创建一个目录newdisk (目录位置随便)</span><br><span class="line">假如在根目录下创建：mkdir newdisk</span><br><span class="line">进行挂载：mount /dev/sdb1 /newdisk</span><br><span class="line"></span><br><span class="line">NAME   FSTYPE  LABEL           UUID                                 MOUNTPOINT</span><br><span class="line">sda                                                                 </span><br><span class="line">├─sda1 ext4                    bd7b7249-b3fa<span class="string">-434</span>f-acfd<span class="string">-5127</span>a56c0673 /boot</span><br><span class="line">├─sda2 swap                    4381675a<span class="string">-652</span>c<span class="string">-4</span>ffa<span class="string">-9</span>a9d-cb23d19be79b [SWAP]</span><br><span class="line">└─sda3 ext4                    531c2867-a7e9<span class="string">-4</span>ae7<span class="string">-8</span>f79<span class="string">-4453</span>ceb76c5b /</span><br><span class="line">sdb                                                                 </span><br><span class="line">└─sdb1 ext4                    d1856552-dee4<span class="string">-4</span>fbc<span class="string">-9953</span>-f650231ecaac /newdisk</span><br><span class="line">sr0    iso9660 CentOS 7 x86_64 2018<span class="string">-11</span><span class="string">-25</span><span class="string">-23</span><span class="string">-54</span><span class="string">-16</span><span class="string">-00</span>  </span><br><span class="line">挂载点有了，挂载成功。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">卸载(去除分区与目录的联系)：</span><br><span class="line">	命令：umount	设备名称 或者	挂载目录</span><br><span class="line">	例如：umount	/dev/sdb1 或者 umount /newdisk</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意: 用命令行挂载,重启后会失效。</span><br><span class="line">123456789101112131415161718192021222324</span><br></pre></td></tr></table></figure>
<h3 id="12-2-7-虚拟机增加硬盘步骤-5-设置可以自动挂载">12.2.7.虚拟机增加硬盘步骤 5-设置可以自动挂载</h3>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">解决  用命令行挂载,重启后会失效 问题</span><br><span class="line"></span><br><span class="line">永久挂载: </span><br><span class="line">	通过修改<span class="regexp">/etc/</span>fstab 实现挂载</span><br><span class="line">	添加完成后 执行 mount	–a 即刻生效 或者 重启系统reboot</span><br><span class="line"></span><br><span class="line">步骤：</span><br><span class="line">vim <span class="regexp">/etc/</span>fstab</span><br><span class="line">增加一行：UUID=上面sdb1的UUID    /newdisk    ext4    defaults     <span class="number">0</span> <span class="number">0</span></span><br><span class="line">也可以是：<span class="regexp">/dev/</span>sdb1    		  /newdisk    ext4    defaults     <span class="number">0</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">要挂载的设备或伪文件系统  挂载点  文件系统类型  挂载选项 转储频率 自检次序</span><br><span class="line">UUID=上面sdb1的UUID   /newdisk    ext4    defaults   <span class="number">0</span> 	   <span class="number">0</span></span><br><span class="line"></span><br><span class="line">要挂载的设备或伪文件系统：</span><br><span class="line">	设备文件、LABEL(LABEL=<span class="string">&quot;&quot;</span>)、UUID(UUID=<span class="string">&quot;&quot;</span>)、伪文件系统名称(proc, sysfs)</span><br><span class="line"></span><br><span class="line">挂载点：指定的文件夹</span><br><span class="line"></span><br><span class="line">挂载选项：defaults</span><br><span class="line"></span><br><span class="line">转储频率：</span><br><span class="line">  <span class="number">0</span>：不做备份</span><br><span class="line">  <span class="number">1</span>：每天转储</span><br><span class="line">  <span class="number">2</span>：每隔一天转储</span><br><span class="line"></span><br><span class="line">自检次序：</span><br><span class="line">  <span class="number">0</span>：不自检</span><br><span class="line">  <span class="number">1</span>：首先自检；一般只有rootfs才用<span class="number">1</span>；</span><br></pre></td></tr></table></figure>
<h2 id="12-3-磁盘情况查询">12.3.磁盘情况查询</h2>
<h3 id="12-3-1-查询系统整体磁盘使用情况">12.3.1.查询系统整体磁盘使用情况</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">基本语法:</span><br><span class="line">	<span class="built_in">df</span> -h   (disk free)</span><br><span class="line"></span><br><span class="line">查询系统整体磁盘使用情况</span><br><span class="line">1234</span><br></pre></td></tr></table></figure>
<h3 id="12-3-2-查询指定目录的磁盘占用情况">12.3.2.查询指定目录的磁盘占用情况</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">基本语法：</span><br><span class="line">	<span class="built_in">du</span> -h  指定目录    (disk usage)</span><br><span class="line">功能：查询指定目录的磁盘占用情况，默认为当前目录</span><br><span class="line">	-s 指定目录占用大小汇总</span><br><span class="line">	-h 带计量单位</span><br><span class="line">	-a 含文件</span><br><span class="line">	--max-depth=1	子目录深度</span><br><span class="line">	-c 列出明细的同时，增加汇总值</span><br><span class="line"></span><br><span class="line">应用实例</span><br><span class="line">查询 /opt 目录的磁盘占用情况，深度为 1</span><br><span class="line">	<span class="built_in">du</span> -hac --max-depth=1 /opt</span><br><span class="line">123456789101112</span><br></pre></td></tr></table></figure>
<h2 id="12-4-磁盘情况-工作实用指令">12.4.磁盘情况-工作实用指令</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">1. 统计/opt 文件夹下文件的个数</span><br><span class="line">	<span class="built_in">ls</span> -l /opt | grep <span class="string">&quot;^-&quot;</span> | <span class="built_in">wc</span> -l</span><br><span class="line"></span><br><span class="line">	说明：</span><br><span class="line">		grep <span class="string">&quot;^-&quot;</span> ---&gt;筛选出以-开头的，因为以-开头的都是文件</span><br><span class="line">		<span class="built_in">wc</span> (word count) 统计数量</span><br><span class="line">			<span class="built_in">wc</span> -l 统计行数 l即lines</span><br><span class="line">			统计grep筛选后的行数即文件个数</span><br><span class="line"></span><br><span class="line">2. 统计/opt 文件夹下目录的个数</span><br><span class="line">	<span class="built_in">ls</span> -l /opt | grep <span class="string">&quot;^d&quot;</span> | <span class="built_in">wc</span> -l</span><br><span class="line"></span><br><span class="line">3. 统计/opt 文件夹下文件的个数，包括子文件夹里的</span><br><span class="line">	<span class="built_in">ls</span> -lR /opt | grep <span class="string">&quot;^-&quot;</span> | <span class="built_in">wc</span> -l</span><br><span class="line">		-R 递归列出遇到的子目录</span><br><span class="line"></span><br><span class="line">4. 统计/opt 文件夹下目录的个数，包括子文件夹里的</span><br><span class="line">	<span class="built_in">ls</span> -lR /opt | grep <span class="string">&quot;^d&quot;</span> | <span class="built_in">wc</span> -l</span><br><span class="line"></span><br><span class="line">5. 以树状显示目录结构 </span><br><span class="line"> 	指令：tree 目录 </span><br><span class="line"> 	默认情况下没有tree指令</span><br><span class="line"> 	如果没有 tree ,则使用 yum install tree 指令安装</span><br></pre></td></tr></table></figure>
<h1>Linux 实操篇-网络配置</h1>
<h2 id="13-1-Linux-网络配置原理图">13.1. Linux 网络配置原理图</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ab2718b996104014a6234597a799c232.bmp" alt="在这里插入图片描述"></p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.通过ifconfig指令查看Linux虚拟机的<span class="built_in">ip</span>地址</span><br><span class="line">	<span class="number">192</span>.<span class="number">168</span>.<span class="number">2</span>.<span class="number">131</span></span><br><span class="line"><span class="number">2</span>.然后在本机DOS命令窗口输入指令ipconfig，查看vmnet8的<span class="built_in">ip</span>地址</span><br><span class="line">	<span class="number">192</span>.<span class="number">168</span>.<span class="number">2</span>.<span class="number">1</span></span><br><span class="line">	上两个在同一网段，所以可以通信。</span><br><span class="line">	</span><br><span class="line"><span class="number">3</span>.由第二步骤可以得到本机的无线网络适配器(无线网卡)的<span class="built_in">ip</span>地址</span><br><span class="line">	<span class="number">192</span>.<span class="number">168</span>.<span class="number">101</span>.<span class="number">8</span></span><br><span class="line"></span><br><span class="line">为什么Linux虚拟机可以连外网(比如打开百度)？</span><br><span class="line">	Linux虚拟机---&gt;本机vmnet8---&gt;本机无线网卡---&gt;教室局域网网关---&gt;外网	</span><br><span class="line"></span><br><span class="line">每次开机linux虚拟机的<span class="built_in">ip</span>地址不一定相同</span><br><span class="line"><span class="symbol">linux</span>虚拟机的<span class="built_in">ip</span>地址可以设置</span><br><span class="line"></span><br><span class="line">以下：如何编辑虚拟机的网络和修改其<span class="built_in">ip</span>地址？</span><br><span class="line"><span class="number">12345678910111213141516</span></span><br></pre></td></tr></table></figure>
<h2 id="13-2-查看网络IP和网关">13.2.查看网络IP和网关</h2>
<figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">vmware---&gt;编辑---&gt;虚拟网络编辑器</span><br><span class="line">这样就可以查看和修改虚拟网络vmnet8的ip地址和网关</span><br><span class="line"></span><br><span class="line">通过本机DOS命令窗口，输入指令：<span class="built_in">ipconfig</span></span><br><span class="line">	查看vmnet8的网络配置</span><br><span class="line"></span><br><span class="line">在xshell或linux终端输入命令：ifconfig</span><br><span class="line">	查看 linux 的网络配置</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">ping</span>命令 测试主机之间网络连通性</span><br><span class="line">	基本语法：</span><br><span class="line">		<span class="built_in">ping</span> 目的主机 （功能描述：测试当前服务器是否可以连接目的主机）</span><br><span class="line"></span><br><span class="line">应用实例</span><br><span class="line">	测试当前服务器是否可以连接百度</span><br><span class="line">	<span class="built_in">ping</span> www.baidu.com</span><br><span class="line"><span class="number">123456789101112131415161718</span></span><br></pre></td></tr></table></figure>
<h2 id="13-3-linux-网络环境配置">13.3. linux 网络环境配置</h2>
<h3 id="13-3-1-第一种方法-自动获取ip-：">13.3.1.第一种方法(自动获取ip)：</h3>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">登陆后，通过界面设置自动获取<span class="built_in">ip</span></span><br><span class="line">	应用程序---&gt;系统工---&gt;设置---&gt;网络---&gt;小齿轮---&gt;IPV4</span><br><span class="line">特点：linux 启动后会自动获取 <span class="built_in">IP</span>，可以避免<span class="built_in">ip</span>冲突</span><br><span class="line">缺点：每次自动获取的 <span class="built_in">ip</span> 地址可能不一样，但是作为服务器<span class="built_in">ip</span>地址不能变。</span><br><span class="line"></span><br><span class="line">工作时，一般将Linux的<span class="built_in">ip</span>地址手动设定，不改变。</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>
<h3 id="13-3-2-第二种方法-手动设置ip">13.3.2.第二种方法(手动设置ip)</h3>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">手动指定linux的ip地址，使其不变化。</span><br><span class="line"></span><br><span class="line">直接修改配置文件来指定 IP,并可以连接到外网(程序员推荐)</span><br><span class="line">关于网络的配置文件在：/etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line"></span><br><span class="line">要求：将ip地址配置为静态的(不变的)，比如:<span class="built_in"> ip </span>地址为 192.168.200.130</span><br><span class="line"></span><br><span class="line">输入指令：vim /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">修改文件内容：</span><br><span class="line">	<span class="attribute">BOOTPROTO</span>=<span class="string">&quot;static&quot;</span></span><br><span class="line">	加上：</span><br><span class="line">		<span class="attribute">IPADDR</span>=192.168.200.130   (IP地址,自己设定的)</span><br><span class="line">		<span class="attribute">GATEWAY</span>=192.168.200.2	 (网关,自己设定的)</span><br><span class="line">		<span class="attribute">DNS1</span>=192.168.200.2		 (域名解析器,自己设定的)</span><br><span class="line"></span><br><span class="line">下一步：vmnet8和Linux在同一网段上，要能够通信，也要修改相应的vmnet8</span><br><span class="line">vmware---&gt;编辑---&gt;虚拟网络编辑器</span><br><span class="line">打开虚拟编辑器，点击vmnet8，修改下面的子网ip为：192.168.200.0</span><br><span class="line">然后点击NAT设置，将网关改为192.168.200.2</span><br><span class="line"></span><br><span class="line">应用确定</span><br><span class="line"></span><br><span class="line">输入指令：service<span class="built_in"> network </span>restart 或 reboot  使上述修改生效</span><br><span class="line">1234567891011121314151617181920212223</span><br></pre></td></tr></table></figure>
<h2 id="13-4-设置Linux系统的主机名和-hosts-映射">13.4.设置Linux系统的主机名和 hosts 映射</h2>
<h3 id="13-4-1-设置主机名">13.4.1.设置主机名</h3>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Linux系统的主机名相当于其ip地址，起一个主机名是因为ip地址不好记忆，不方便。</span><br><span class="line">也可以修改主机名。</span><br><span class="line"></span><br><span class="line">查看当前主机的主机名指令：<span class="built_in">hostname</span></span><br><span class="line"></span><br><span class="line">主机名放在/etc/<span class="built_in">hostname</span>文件中，要修改主机名即修改文件内容：</span><br><span class="line">	输入指令：</span><br><span class="line">		<span class="keyword">vim</span> /etc/<span class="built_in">hostname</span></span><br><span class="line">		修改内容</span><br><span class="line">		:<span class="keyword">wq</span></span><br><span class="line">		重启系统</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<h3 id="13-4-2-设置-hosts-映射">13.4.2.设置 hosts 映射</h3>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">在Windows中，如何通过 主机名 找到(比如 ping) 某个 linux 系统?</span><br><span class="line"></span><br><span class="line">	修改<span class="built_in">ip</span>地址与主机名的映射关系：</span><br><span class="line">		在windows C:\Windows\System32\drivers\etc\hosts 文件中</span><br><span class="line">		指定Linux系统的<span class="built_in">ip</span>地址与主机名的映射关系</span><br><span class="line">			格式：linux系统<span class="built_in">ip</span>地址 linux系统主机名</span><br><span class="line">			如指定为: <span class="number">192</span>.<span class="number">168</span>.<span class="number">200</span>.<span class="number">130</span> hspedu100 (这行代码添加到文件中就行了)</span><br><span class="line">		</span><br><span class="line">		ping hspedu100 ----&gt;就会去该文件中找相应的<span class="built_in">ip</span>地址</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">那么，如果也想在Linux系统中，使用主机名 来 ping 某个Windows系统，怎么做？</span><br><span class="line">	在 linux 系统的 /etc/hosts 文件中 指定</span><br><span class="line">	如指定为: <span class="number">192</span>.<span class="number">168</span>.<span class="number">200</span>.<span class="number">1</span> ThinkPad-<span class="built_in">PC</span></span><br><span class="line">	这样就可以 ping ThinkPad-<span class="built_in">PC</span></span><br><span class="line"><span class="number">123456789101112131415</span></span><br></pre></td></tr></table></figure>
<h2 id="13-5-主机名解析过程分析-hosts、DNS">13.5.主机名解析过程分析(hosts、DNS)</h2>
<h3 id="13-5-1-hosts">13.5.1. hosts</h3>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hosts是一个文本文件，用来记录 IP 和 <span class="built_in">Hostname</span>(主机名)的映射关系</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="13-5-2-DNS">13.5.2. DNS</h3>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">DNS</span>  Domain Name System 域名系统</span><br><span class="line">是互联网上作为域名和 <span class="built_in">IP</span> 地址相互映射的一个分布式数据库</span><br><span class="line"></span><br><span class="line">为什么可以通过主机名访问？</span><br><span class="line">	通过DNS域名解析系统，将主机名解析为<span class="built_in">ip</span>地址，实际上还是用的<span class="built_in">ip</span>地址。</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>
<h3 id="13-5-3-应用实例">13.5.3.应用实例</h3>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">用户在浏览器输入了www.baidu.com</span><br><span class="line"></span><br><span class="line"><span class="number">1</span>.浏览器先检查浏览器缓存中有没有该域名解析 <span class="built_in">IP</span> 地址，有就先调用这个 <span class="built_in">IP</span> 完成解析；</span><br><span class="line">	如果没有，就检查 DNS 解析器缓存，如果有直接返回 <span class="built_in">IP</span> 完成解析。</span><br><span class="line">	这两个缓存，可以理解为 本地解析器缓存</span><br><span class="line"></span><br><span class="line"><span class="symbol">DNS</span> 解析器缓存：</span><br><span class="line">一般来说，当电脑第一次成功访问某一网站后，在一定时间内，浏览器或操作系统会缓存他的 <span class="built_in">IP</span> 地址（DNS 解析记录）</span><br><span class="line">	如在 cmd 窗口中输入</span><br><span class="line">	ipconfig /displaydns	<span class="comment">//DNS 域名解析缓存</span></span><br><span class="line">	ipconfig /flushdns	<span class="comment">//手动清理 dns 缓存</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>. 如果本地解析器缓存没有找到对应映射，检查系统中 hosts 文件中有没有配置对应的域名 <span class="built_in">IP</span> 映射，如果有，则完成解析并返回。</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>. 如果本地 DNS 解析器缓存 和 hosts 文件 中均没有找到对应的 <span class="built_in">IP</span>，则到域名服务器找</span><br><span class="line"><span class="number">4</span>. 还找不到，就没有了。</span><br><span class="line"></span><br><span class="line">示意图:</span><br><span class="line"><span class="number">123456789101112131415161718</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20237d6c01afe8c14d54876de525d1ddf041.bmp" alt="在这里插入图片描述"></p>
<h1>linux中的进程（ps与kill指令）</h1>
<h2 id="1-ps命令详解">1.<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=ps%E5%91%BD%E4%BB%A4&amp;spm=1001.2101.3001.7020"> ps命令</a>详解</h2>
<ul>
<li>[一、常用操作](<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc=%7B%22request%5Fid%22%3A%22168612806516800226598520%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux">https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc={&quot;request_id&quot;%3A&quot;168612806516800226598520&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142^v88^insert_down38v5,239^v2^insert_chatgpt&amp;utm_term=linux</a> ps&amp;spm=1018.2226.3001.4187#_17)</li>
<li>
<ul>
<li>[1、查看所有进程（连带命令行）](<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc=%7B%22request%5Fid%22%3A%22168612806516800226598520%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux">https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc={&quot;request_id&quot;%3A&quot;168612806516800226598520&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142^v88^insert_down38v5,239^v2^insert_chatgpt&amp;utm_term=linux</a> ps&amp;spm=1018.2226.3001.4187#1_26)</li>
<li>[2、显示所有包含其他使用者的进程](<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc=%7B%22request%5Fid%22%3A%22168612806516800226598520%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux">https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc={&quot;request_id&quot;%3A&quot;168612806516800226598520&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142^v88^insert_down38v5,239^v2^insert_chatgpt&amp;utm_term=linux</a> ps&amp;spm=1018.2226.3001.4187#2_45)</li>
<li>[3、查看指定进程（grep过滤）](<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc=%7B%22request%5Fid%22%3A%22168612806516800226598520%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux">https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc={&quot;request_id&quot;%3A&quot;168612806516800226598520&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142^v88^insert_down38v5,239^v2^insert_chatgpt&amp;utm_term=linux</a> ps&amp;spm=1018.2226.3001.4187#3grep_66)</li>
<li>[4、查看CPU/内存占用率最高的进程](<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc=%7B%22request%5Fid%22%3A%22168612806516800226598520%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux">https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc={&quot;request_id&quot;%3A&quot;168612806516800226598520&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142^v88^insert_down38v5,239^v2^insert_chatgpt&amp;utm_term=linux</a> ps&amp;spm=1018.2226.3001.4187#4CPU_78)</li>
<li>[5、查看指定用户的进程](<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc=%7B%22request%5Fid%22%3A%22168612806516800226598520%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux">https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc={&quot;request_id&quot;%3A&quot;168612806516800226598520&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142^v88^insert_down38v5,239^v2^insert_chatgpt&amp;utm_term=linux</a> ps&amp;spm=1018.2226.3001.4187#5_114)</li>
<li>[6、分页查看进程](<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc=%7B%22request%5Fid%22%3A%22168612806516800226598520%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux">https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc={&quot;request_id&quot;%3A&quot;168612806516800226598520&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142^v88^insert_down38v5,239^v2^insert_chatgpt&amp;utm_term=linux</a> ps&amp;spm=1018.2226.3001.4187#6_124)</li>
</ul>
</li>
<li>[二、拓展](<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc=%7B%22request%5Fid%22%3A%22168612806516800226598520%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux">https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc={&quot;request_id&quot;%3A&quot;168612806516800226598520&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142^v88^insert_down38v5,239^v2^insert_chatgpt&amp;utm_term=linux</a> ps&amp;spm=1018.2226.3001.4187#_133)</li>
<li>
<ul>
<li>[1、TTY字段（终端类型）](<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc=%7B%22request%5Fid%22%3A%22168612806516800226598520%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux">https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc={&quot;request_id&quot;%3A&quot;168612806516800226598520&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142^v88^insert_down38v5,239^v2^insert_chatgpt&amp;utm_term=linux</a> ps&amp;spm=1018.2226.3001.4187#1TTY_134)</li>
<li>[2、STAT字段（进程状态）](<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc=%7B%22request%5Fid%22%3A%22168612806516800226598520%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux">https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc={&quot;request_id&quot;%3A&quot;168612806516800226598520&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142^v88^insert_down38v5,239^v2^insert_chatgpt&amp;utm_term=linux</a> ps&amp;spm=1018.2226.3001.4187#2STAT_140)</li>
<li>[3、僵尸进程](<a target="_blank" rel="noopener" href="https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc=%7B%22request%5Fid%22%3A%22168612806516800226598520%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&amp;utm_term=linux">https://blog.csdn.net/wangyuxiang946/article/details/128262390?ops_request_misc={&quot;request_id&quot;%3A&quot;168612806516800226598520&quot;%2C&quot;scm&quot;%3A&quot;20140713.130102334..&quot;}&amp;request_id=168612806516800226598520&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_positive~default-1-128262390-null-null.142^v88^insert_down38v5,239^v2^insert_chatgpt&amp;utm_term=linux</a> ps&amp;spm=1018.2226.3001.4187#3_156)</li>
</ul>
</li>
</ul>
<p>作用：查看系统进程，比如正在运行的进程有哪些，什么时候开始运行的，哪个用户运行的，占用了多少资源。</p>
<p>参数：</p>
<ul>
<li>-e   显示所有进程</li>
<li>-f   显示所有字段（UID，PPIP，C，STIME字段）</li>
<li>-a   显示一个终端的所有进程</li>
<li>-u   显示当前用户进程和内存使用情况</li>
<li>-x   显示没有控制终端的进程</li>
<li>–sort   按照列名排序</li>
</ul>
<h3 id="一、常用操作">一、常用操作</h3>
<p>ps命令常用的方式有三种：</p>
<ul>
<li><code>ps -ef</code>：查看所有进程</li>
<li><code>ps -aux</code>：查看所有进程</li>
<li><code>ps -ef | grep tomcat</code>：查看指定进程</li>
</ul>
<h4 id="1、查看所有进程（连带命令行）">1、查看所有进程（连带命令行）</h4>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ps</span> <span class="literal">-ef</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/cef5a7c81df44672b0feb92be090d388.png" alt="在这里插入图片描述"></p>
<p>字段解释：</p>
<ul>
<li>UID：用户ID，即进程的拥有者</li>
<li>PID：进程ID</li>
<li>PPID：父进程ID</li>
<li>C：进程占用的CPU百分比</li>
<li>STIME：进程开始启动时间</li>
<li>TTY：登入者的终端机位置</li>
<li>TIME：进程使用的CPU（运算）时间</li>
<li>CMD：调用进程的命令</li>
</ul>
<h4 id="2、显示所有包含其他使用者的进程">2、显示所有包含其他使用者的进程</h4>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ps</span> <span class="literal">-aux</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202367444bf4406d4568bfa61fbee33835a8.png" alt="在这里插入图片描述"></p>
<p>字段解释：</p>
<ul>
<li>USER：创建进程的用户</li>
<li>PID：进程ID</li>
<li>%CPU：进程占用CPU的百分比</li>
<li>%MEM：进程占用物理内存的百分比</li>
<li>VSZ：进程占用虚拟内存的大小（单位KB）</li>
<li>RSS：进程占用实际物理内存的大小（单位KB）</li>
<li>TTY：进程在哪个终端运行。</li>
<li>STAT：进程状态</li>
<li>START：进程开始启动的时间</li>
<li>TIME：进程使用的CPU（运算）时间</li>
<li>COMMAND：调用进程的命令</li>
</ul>
<h4 id="3、查看指定进程（grep过滤）">3、查看指定进程（grep过滤）</h4>
<p><code>ps -ef</code> 通常会配合 <code>grep</code> 来过滤指定的进程，比如</p>
<p>搜索 mysql 的进程：<code>ps -ef | grep mysql</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232aecbc941380423590730bbff4c872b5.png" alt="在这里插入图片描述"></p>
<p>搜索 tomcat 的进程：<code>ps -ef | grep tomcat</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023160a8802e5dd4ed2adcbed703a50b498.png" alt="在这里插入图片描述"></p>
<h4 id="4、查看CPU-内存占用率最高的进程">4、查看CPU/内存占用率最高的进程</h4>
<p>1）<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B&amp;spm=1001.2101.3001.7020">查看进程</a>的时候，让进程按照CPU使用率排序，然后展示前10行，就能清晰地看到哪些进程占用的资源比较多。</p>
<p>PS1：<code>head -11</code> 是因为标题也算一行<br>
<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=PS2&amp;spm=1001.2101.3001.7020">PS2</a>：<code>+</code>、<code>-</code>号可以调整排序，<code>-pcpu</code> 表示降序，<code>+pcpu</code> 表示升序</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ps</span> <span class="literal">-aux</span> <span class="literal">--sort</span>=<span class="literal">-pcpu</span> | head <span class="literal">-11</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f19e871beb26496caf6598e4a10238f6.png" alt="在这里插入图片描述"></p>
<p>2）同理，把 <code>-pcpu</code> 换成 <code>-pmem</code>，就能查看内存使用最多的10个进程。</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ps</span> <span class="literal">-aux</span> <span class="literal">--sort</span>=<span class="literal">-pmem</span> | head <span class="literal">-11</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ed2d7f058d244d0ebc2c5850caf3f3c2.png" alt="在这里插入图片描述"></p>
<p>3）如果不限制行数，也可以使用 <code>sort</code> 按照指定的列排序</p>
<p>降序：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ps</span> <span class="literal">-aux</span> | <span class="built_in">sort</span> <span class="literal">-nk</span> <span class="number">4</span> <span class="literal">-r</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>升序：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ps</span> <span class="literal">-aux</span> | <span class="built_in">sort</span> <span class="literal">-nk</span> <span class="number">4</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023cc30568985514f76a607dda23c5e6170.png" alt="在这里插入图片描述"></p>
<h4 id="5、查看指定用户的进程">5、查看指定用户的进程</h4>
<p>查看某个用户开启了哪些进程，可以使用 <code>-u</code> 参数指定用户名，比如，查看root用户的进程有哪些：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ps</span> <span class="literal">-u</span> root <span class="literal">-ef</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b7ca44f2943f4b84a726525ffa91ddc2.png" alt="在这里插入图片描述"></p>
<h4 id="6、分页查看进程">6、分页查看进程</h4>
<p>除了 grep 外，还可以配合 more 分页查看进程：<code>ps -ef | more</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202397687b1a822448ebb97d405852265f53.png" alt="在这里插入图片描述"><br>
翻页的操作同 more 命令，q键退出，空格键翻页</p>
<h3 id="二、拓展">二、拓展</h3>
<h4 id="1、TTY字段（终端类型）">1、TTY字段（终端类型）</h4>
<p>TTY字段表示运行进程的终端是哪个，这里的终端类型有两种：tty和pts。</p>
<ul>
<li>tty：表示物理终端，其中<code>tty1~6</code>是本地字符界面终端，<code>tty7</code>是本地图形终端</li>
<li>pts：表示虚拟终端，通常指远程连接的终端，范围是<code>pts/0~255</code>，比如第一个远程连接的终端是<code>pts/0</code>，第二个远程连接的终端是<code>pts/1</code>，依次类推。</li>
</ul>
<h4 id="2、STAT字段（进程状态）">2、STAT字段（进程状态）</h4>
<p>STAT字段表示进程的状态，常见的状态有以下几种：</p>
<ul>
<li>D：睡眠状态（不可被唤醒），常用于I/O情况。</li>
<li>R：进程正在运行</li>
<li>S：睡眠状态（可被唤醒）</li>
<li>T：停止状态</li>
<li>W：内存交互状态</li>
<li>Z：僵尸进程（不存在但暂时无法消除）</li>
<li>&lt;：高优先级</li>
<li>N：低优先级</li>
<li>L：被锁入内存</li>
<li>s：包含子进程</li>
<li>l：多线程</li>
<li>+：位于后台</li>
</ul>
<h4 id="3、僵尸进程">3、僵尸进程</h4>
<p>进程由于非正常停止或程序编写错误，导致子进程比父进程先结束，而父进程又没有正常回收子进程，使子进程一直在内存中，导致资源浪费。这种情况就是僵尸进程。</p>
<p>PS：正常情况下应该是父进程先结束，然后子进程由init接管，init 结束子进程并回收对应的资源。</p>
<h2 id="2-kill-和-killall指令：终止进程">2.kill 和 killall指令：终止进程</h2>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.介绍:</span><br><span class="line">若是某个进程执行一半需要停止时，或是已经消耗了很大的系统资源时，此时可以考虑停止该进程。</span><br><span class="line">使用 <span class="built_in">kill</span> 命令来完成此项任务。</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.基本语法：</span><br><span class="line"><span class="built_in">kill</span> [选项] 进程号	（功能描述：通过进程号杀死/终止进程）</span><br><span class="line">killall 进程名称	    （功能描述：通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用）</span><br><span class="line">					 使用killall，会将该进程的所有子进程也都删除/终止。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.常用选项：</span><br><span class="line">	<span class="literal">-9</span>   表示强制终止进程</span><br><span class="line">		 (系统觉得某个程序重要，可能会屏蔽你的<span class="built_in">kill</span>指令，这时使用选项<span class="literal">-9</span>强制终止进程)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>.案例：</span><br><span class="line">案例 <span class="number">1</span>：踢掉某个非法登录用户</span><br><span class="line"><span class="built_in">kill</span> 进程号 </span><br><span class="line">比如 <span class="built_in">kill</span> <span class="number">11421</span></span><br><span class="line"></span><br><span class="line">假如使用tom登录，然后在图形界面打开终端写代码</span><br><span class="line">假设认为tom是个非法用户，要踢掉它</span><br><span class="line">先在图形界面写代码：<span class="built_in">ps</span> <span class="literal">-aux</span> | grep sshd</span><br><span class="line">sshd 是记载远程连接服务的配置文件</span><br><span class="line">上述指令显示出了，远程登录的进程信息，从中看到了tom登录的进程的进程号<span class="number">11421</span></span><br><span class="line">所以 <span class="built_in">kill</span> <span class="number">11421</span>  这样tom就下线了！</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例 <span class="number">2</span>：终止远程登录服务 sshd, 在适当时候再次重启 sshd 服务</span><br><span class="line">sshd <span class="literal">---</span>&gt; secure shell</span><br><span class="line"></span><br><span class="line">首先查看 sshd 对应的进程号：</span><br><span class="line">	使用命令：<span class="built_in">ps</span> <span class="literal">-aux</span> | grep sshd</span><br><span class="line">	有 /user/sbin/sshd 的那个进程就是 sshd 服务进程 进程号<span class="number">10748</span></span><br><span class="line">	终止 sshd 之后，就无法在xshell远程登陆了！</span><br><span class="line">	</span><br><span class="line">重启 sshd 服务指令：</span><br><span class="line">	/bin/systemctl <span class="built_in">start</span> 服务名称</span><br><span class="line">	/bin/systemctl <span class="built_in">start</span> sshd.service</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例 <span class="number">3</span>：终止多个 gedit (文本编辑器)</span><br><span class="line">在Linux桌面，主文件夹中，打开多个文本，然后使用killall 可以同时关闭所有打开的文本</span><br><span class="line">killall	gedit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例 <span class="number">4</span>：强制杀掉一个终端</span><br><span class="line">	在Linux系统桌面打开两个终端，bash即代表终端进程</span><br><span class="line">	在一个终端中输入指令强制关闭另一个终端</span><br><span class="line">	首先：查看终端进程的进程号：<span class="built_in">ps</span> <span class="literal">-aux</span> | grep bash</span><br><span class="line">	得到对应的进程号，输入：<span class="built_in">kill</span> <span class="literal">-9</span>  对应的进程号</span><br><span class="line"></span><br><span class="line">	也可以终端自己终止自己</span><br></pre></td></tr></table></figure>
<h2 id="3-查看进程树-pstree">3.查看进程树 pstree</h2>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.基本语法：pstree <span class="selector-attr">[选项]</span> </span><br><span class="line">功能：可以更加直观的来看进程信息(树的形式)</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.常用选项：</span><br><span class="line">-<span class="selector-tag">p</span> :显示进程的 PID (父进程ID)</span><br><span class="line">-u :显示进程的所属用户</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.应用实例：</span><br><span class="line">案例 <span class="number">1</span>：用树状的形式显示进程的<span class="built_in">pid</span>(进程号)</span><br><span class="line">pstree -<span class="selector-tag">p</span></span><br><span class="line"></span><br><span class="line">案例 <span class="number">2</span>：用树状的形式显示进程的用户</span><br><span class="line">pstree -u</span><br></pre></td></tr></table></figure>
<h2 id="4-服务-service-管理">4.服务(service)管理</h2>
<h3 id="14-5-1-介绍">14.5.1.介绍</h3>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">服务(service) 本质就是进程，但是是运行在后台的，</span><br><span class="line">通常都会监听某个端口，等待其它程序的请求，比如(mysqld , sshd防火墙等)，</span><br><span class="line">因此我们又称为守护进程，是 Linux 中非常重要的知识点。</span><br><span class="line">xshell为<span class="number">22</span>端口</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<h3 id="14-5-2-service-管理指令">14.5.2. service 管理指令</h3>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">(1)<span class="built_in">	service	</span>服务名 [start | stop | restart | reload | status]</span><br><span class="line">start 	开启服务</span><br><span class="line">stop 	终止服务</span><br><span class="line">restart 重启服务</span><br><span class="line">reload 	重载服务</span><br><span class="line">status 	查看服务的状态</span><br><span class="line"></span><br><span class="line">(2)	在 CentOS7.0 后很多服务不再使用 service指令管理,而是使用 systemctl (后面专门讲)</span><br><span class="line"></span><br><span class="line">(3)	还有一些在 /etc/init.d 下的服务仍使用<span class="built_in"> service </span>指令管理</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例：</span><br><span class="line">请使用<span class="built_in"> service </span>指令，查看，关闭，启动<span class="built_in"> network</span></span><br><span class="line"><span class="built_in"></span>[注意：在虚拟系统打开终端演示，因为网络连接会关闭]</span><br><span class="line">指令:</span><br><span class="line"><span class="built_in">	service network </span>status </span><br><span class="line"><span class="built_in">	service network </span>stop </span><br><span class="line"><span class="built_in">	service network </span>start</span><br><span class="line">12345678910111213141516171819</span><br></pre></td></tr></table></figure>
<h3 id="14-5-3-查看服务名方式">14.5.3.查看服务名方式</h3>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">方式 <span class="number">1</span>：直接输入 setup 即可看到所有服务</span><br><span class="line">其中前面带 * 的服务会随着Linux系统的启动而自动启动。</span><br><span class="line">选中按enter 确定按空格</span><br><span class="line">退出时按tab！！！！</span><br><span class="line"></span><br><span class="line">方式 <span class="number">2</span>:	ls -l <span class="regexp">/etc/i</span>nit.d</span><br><span class="line">只能看到部分服务：还有一些在 <span class="regexp">/etc/i</span>nit.d 下的服务仍使用 service 指令管理</span><br><span class="line"><span class="number">12345</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230607204452177.png" alt="image-20230607204452177"></p>
<h3 id="服务的运行级别-runlevel">服务的运行级别(runlevel)</h3>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Linux 系统有 <span class="number">7</span> 种运行级别(runlevel)：常用的是级别 <span class="number">3</span> 和 <span class="number">5</span></span><br><span class="line"></span><br><span class="line">运行级别 <span class="number">0</span>：系统停机状态，系统默认运行级别不能设为 <span class="number">0</span>，否则不能正常启动</span><br><span class="line">运行级别 <span class="number">1</span>：单用户工作状态，root 权限，用于系统维护，禁止远程登陆</span><br><span class="line">运行级别 <span class="number">2</span>：多用户状态(没有 NFS)，不支持网络</span><br><span class="line">运行级别 <span class="number">3</span>：完全的多用户状态(有 NFS)，无界面，登陆后进入控制台命令行模式</span><br><span class="line">运行级别 <span class="number">4</span>：系统未使用，保留</span><br><span class="line">运行级别 <span class="number">5</span>：X11 控制台，登陆后进入图形 GUI 模式</span><br><span class="line">运行级别 <span class="number">6</span>：系统正常关闭并重启，默认运行级别不能设为 <span class="number">6</span>，否则不能正常启动</span><br><span class="line"></span><br><span class="line">授课时使用<span class="number">5</span>，工作时大多使用<span class="number">3</span>。</span><br><span class="line"></span><br><span class="line">开机的流程说明：</span><br><span class="line"><span class="number">12345678910111213</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ced7e2cf5e3847758aab88f96c41b054.bmp" alt="在这里插入图片描述"></p>
<h3 id="CentOS7-后运行级别说明">CentOS7 后运行级别说明</h3>
<figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">在 /<span class="string">etc</span>/<span class="string">initab</span> </span><br><span class="line">进行了简化，如下:</span><br><span class="line"><span class="string">multi-user</span>.<span class="string">target</span>: <span class="string">analogous</span> <span class="string">to</span> <span class="string">runlevel</span> <span class="string">3</span> </span><br><span class="line"><span class="string">graphical</span>.<span class="string">target</span>: <span class="string">analogous</span> <span class="string">to</span> <span class="string">runlevel</span> <span class="string">5</span> </span><br><span class="line"></span><br><span class="line">查看当前运行级别：<span class="string">systemctl</span> <span class="built_in">get-default</span></span><br><span class="line"><span class="string">ctl</span> ---&gt; <span class="string">control</span></span><br><span class="line"></span><br><span class="line">更改运行级别：<span class="string">systemctl</span> <span class="built_in">set-default</span> <span class="string">multi-user</span>.<span class="string">target</span>/<span class="string">graphical</span>.<span class="string">target</span></span><br><span class="line">		    然后重启 <span class="string">reboot</span></span><br><span class="line"><span class="string">12345678910</span></span><br></pre></td></tr></table></figure>
<h3 id="chkconfig-指令">chkconfig 指令</h3>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">通过 chkconfig 命令可以给服务在 各个运行级别（上面讲的） 设置开启自启动/关闭自启动</span><br><span class="line"></span><br><span class="line">chkconfig 指令管理的服务在 /etc/init<span class="selector-class">.d</span>  查看</span><br><span class="line"></span><br><span class="line">注意: Centos7.<span class="number">0</span> 后，很多服务使用 systemctl 管理 (后面马上讲)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">chkconfig 基本语法：</span><br><span class="line">(<span class="number">1</span>)查看服务和服务在各个级别是开启/关闭自启动  (有限，只能查看chkconfig管理下的服务)</span><br><span class="line">chkconfig <span class="attr">--list</span> <span class="selector-attr">[| grep	xxx]</span>    (若查找某一个服务使用grep过滤)</span><br><span class="line"> </span><br><span class="line">(<span class="number">2</span>)chkconfig 服务名 <span class="attr">--list</span></span><br><span class="line"></span><br><span class="line">(<span class="number">3</span>)chkconfig <span class="attr">--level</span> <span class="number">5</span> 服务名 on   给该服务在<span class="number">5</span>运行级别开启自启动</span><br><span class="line">chkconfig <span class="attr">--level</span> <span class="number">5</span> 服务名 off     给该服务在<span class="number">5</span>运行级别关闭自启动</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例演示: 对network服务进行各种操作,把 network 在 <span class="number">3</span> 运行级别 关闭自启动</span><br><span class="line">chkconfig <span class="attr">--level</span> <span class="number">3</span> network off </span><br><span class="line"></span><br><span class="line">注意：chkconfig 重新设置服务后自启动或关闭，需要重启机器 reboot 生效.</span><br><span class="line"><span class="number">1234567891011121314151617181920212223</span></span><br></pre></td></tr></table></figure>
<h3 id="systemctl-管理指令">systemctl 管理指令</h3>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">基本语法：systemctl [start | stop | restart | status] 服务名</span><br><span class="line"></span><br><span class="line">systemctl 指令管理的服务在 <span class="regexp">/usr/</span>lib<span class="regexp">/systemd/</span>system 查看</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<h3 id="systemctl-设置服务的自启动状态">systemctl 设置服务的自启动状态</h3>
<figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">systemctl</span> <span class="built_in">list-unit-files</span> [ | <span class="string">grep</span> 服务名] (查看服务开机启动状态, <span class="string">grep</span> 可以进行过滤) </span><br><span class="line"><span class="string">systemctl</span> <span class="string">enable</span> 服务名 		(设置服务开机自启动)</span><br><span class="line"><span class="string">systemctl</span> <span class="string">disable</span> 服务名 	(关闭服务开机自启动)</span><br><span class="line"><span class="string">systemctl</span> <span class="string">is-enabled</span> 服务名  (查询某个服务是否是自启动的)</span><br><span class="line"></span><br><span class="line"><span class="string">centos7</span>之后运行级别只有<span class="string">3</span>和<span class="string">5</span>，所以以上指令对<span class="string">3</span>和<span class="string">5</span>运行级别同时适用。</span><br><span class="line"></span><br><span class="line">应用案例：</span><br><span class="line">查看当前防火墙的状况，关闭防火墙和重启防火墙 <span class="string">firewalld</span>.<span class="string">service</span> </span><br><span class="line">	查看当前防火墙情况：<span class="string">systemctl</span> <span class="string">status</span> <span class="string">firewalld</span></span><br><span class="line">	关闭防火墙：<span class="string">systemctl</span> <span class="string">stop</span> <span class="string">firewalld</span></span><br><span class="line">	重启防火墙：<span class="string">systemctl</span> <span class="string">start</span> <span class="string">firewalld</span></span><br><span class="line">	.<span class="string">service</span>写不写都行</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意：关闭或者启用防火墙后，立即生效。</span><br><span class="line">但是 这种方式只是临时生效，当重启系统后，还是回归以前对服务的设置。</span><br><span class="line"></span><br><span class="line">如果希望设置某个服务自启动或关闭永久生效</span><br><span class="line">	要使用 <span class="string">systemctl</span>	[<span class="string">enable</span>|<span class="string">disable</span>] 服务名</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="firewall-指令：打开或者关闭指定端口">firewall 指令：打开或者关闭指定端口</h3>
<figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">在真正的生产环境，往往需要将防火墙打开。</span><br><span class="line">但问题来了，如果我们把防火墙打开，那么外部请求数据包就不能跟服务器监听端口通讯。</span><br><span class="line">这时，需要打开指定的端口。比如 <span class="number">80、22、8080</span> 等。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023043b616df857484da58e888f17c61338.bmp" alt="在这里插入图片描述"></p>
<figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(1)	打开端口: firewall</span><span class="literal">-</span><span class="comment">cmd</span> <span class="literal">--</span><span class="comment">permanent</span> <span class="literal">--</span><span class="comment">add</span><span class="literal">-</span><span class="comment">port=端口号/协议</span></span><br><span class="line"></span><br><span class="line"><span class="comment">通过 netstat</span> <span class="literal">-</span><span class="comment">anp | more 指令查看端口号的协议 (more 分页显示)</span></span><br><span class="line"><span class="comment">该指令输出的信息中：</span></span><br><span class="line"><span class="comment">	Local Address下是 ip地址:端口号</span></span><br><span class="line"><span class="comment">	Proto 是协议   (protocol 协议)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">(2)	关闭端口: firewall</span><span class="literal">-</span><span class="comment">cmd</span> <span class="literal">--</span><span class="comment">permanent</span> <span class="literal">--</span><span class="comment">remove</span><span class="literal">-</span><span class="comment">port=端口号/协议</span></span><br><span class="line"></span><br><span class="line"><span class="comment">注意：无论是打开端口还是关闭端口，要重新载入才能生效</span></span><br><span class="line"><span class="comment">重新载入：firewall</span><span class="literal">-</span><span class="comment">cmd</span> <span class="literal">--</span><span class="comment">reload</span></span><br><span class="line"></span><br><span class="line"><span class="comment">(3) 查询端口是否开放: firewall</span><span class="literal">-</span><span class="comment">cmd</span> <span class="literal">--</span><span class="comment">query</span><span class="literal">-</span><span class="comment">port=端口/协议</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">应用案例：</span></span><br><span class="line"><span class="comment">(1)	启用防火墙，测试 111 端口是否能 telnet (远程登录) 不行</span></span><br><span class="line"><span class="comment">	在本地主机DOS命令窗口输入：telnet Linux虚拟机ip地址:端口号</span></span><br><span class="line"><span class="comment">	测试本地主机能否访问虚拟机的111端口</span></span><br><span class="line"><span class="comment">	telnet 192</span><span class="string">.</span><span class="comment">168</span><span class="string">.</span><span class="comment">200</span><span class="string">.</span><span class="comment">130 111</span></span><br><span class="line"></span><br><span class="line"><span class="comment">	防火墙打开</span><span class="literal">+</span><span class="comment">端口关闭</span><span class="literal">---</span>&gt;<span class="comment">不可以访问端口</span></span><br><span class="line"></span><br><span class="line"><span class="comment">(2)	开放 111 端口</span></span><br><span class="line"><span class="comment">	firewall</span><span class="literal">-</span><span class="comment">cmd</span> <span class="literal">--</span><span class="comment">permanent</span> <span class="literal">--</span><span class="comment">add</span><span class="literal">-</span><span class="comment">port=111/tcp ;</span></span><br><span class="line"><span class="comment">	需要 firewall</span><span class="literal">-</span><span class="comment">cmd</span> <span class="literal">--</span><span class="comment">reload</span></span><br><span class="line"></span><br><span class="line"><span class="comment">	防火墙打开</span><span class="literal">+</span><span class="comment">端口打开</span><span class="literal">---</span>&gt;<span class="comment">可以访问端口</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">(3)	再次关闭 111 端口</span></span><br><span class="line"><span class="comment">	firewall</span><span class="literal">-</span><span class="comment">cmd</span> <span class="literal">--</span><span class="comment">permanent</span> <span class="literal">--</span><span class="comment">remove</span><span class="literal">-</span><span class="comment">port=111/tcp</span> </span><br><span class="line"><span class="comment">	需要 firewall</span><span class="literal">-</span><span class="comment">cmd</span> <span class="literal">--</span><span class="comment">reload</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="5-top指令：动态监控进程">5. top指令：动态监控进程</h2>
<h3 id="14-6-1-介绍">14.6.1.介绍</h3>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">top</span> 与 ps 命令很相似。</span><br><span class="line">它们都用来显示正在执行的进程。</span><br><span class="line"><span class="built_in">top</span> 与 ps 最大的不同之处在于: <span class="built_in">top</span> 在执行一段时间可以更新正在运行的的进程。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="14-6-2-基本语法">14.6.2.基本语法</h3>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">top</span> <span class="selector-attr">[选项]</span></span><br><span class="line"></span><br><span class="line">选项说明：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20239e6dd39c2a494efdb3df7dbbc4af7618.bmp" alt="在这里插入图片描述"></p>
<figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">输入top指令后：每一条都是一个进程</span><br><span class="line">	显示：</span><br><span class="line">	第一行</span><br><span class="line">		第一个时间      当前时间</span><br><span class="line">		第二个时间      系统运行时间</span><br><span class="line">		<span class="number">2</span> users	       有几个用户</span><br><span class="line">		load average   负载值(三个值相加除以<span class="number">3</span>&gt;<span class="number">0.7</span> 说明系统负载过大，要提高性能)</span><br><span class="line">	第二行</span><br><span class="line">		Tasks 			系统任务数</span><br><span class="line">		<span class="number">1</span> running 		<span class="number">1</span>个正在运行进程</span><br><span class="line">		<span class="number">184</span> sleeping 	<span class="number">184</span>个休眠进程</span><br><span class="line">		<span class="number">0</span> stopped 		<span class="number">0</span>个终止进程</span><br><span class="line">		<span class="number">0</span> zombie 		<span class="number">0</span>个僵死进程   (要清除僵死进程，因为僵死进程无用且占内存空间)</span><br><span class="line">	第三行 占用的<span class="meta">CPU</span>百分比</span><br><span class="line">		us 用户占用的<span class="meta">CPU</span></span><br><span class="line">		sy 系统占用的<span class="meta">CPU</span></span><br><span class="line">		id 空闲</span><br><span class="line">	第四行 Mem 内存占用情况</span><br><span class="line">		total 	总共内存</span><br><span class="line">		free 	空闲内存</span><br><span class="line">		user 	已使用内存</span><br><span class="line">	第五行 Swap 分区</span><br><span class="line">		total 	总共大小</span><br><span class="line">		free 	未使用大小</span><br><span class="line">		used 	已用大小</span><br><span class="line">		avail Mem 可获取的内存大小</span><br><span class="line"></span><br><span class="line"><span class="meta">CPU</span>状态信息分别为：</span><br><span class="line">us用户占用百分比、</span><br><span class="line">sy内核占用比、</span><br><span class="line">ni：优先级调用、</span><br><span class="line">id：空闲<span class="meta">CPU</span>百分比、</span><br><span class="line">wa：I/O（输入/输出）等待占用比</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230607212855106.png" alt="image-20230607212855106"></p>
<h3 id="14-6-3-交互操作说明">14.6.3.交互操作说明</h3>
<figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入命令<span class="built_in">top</span></span><br><span class="line">然后输入以下命令，得以下功能对进程进行排序,注意是大写！！！</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20233fc0d96ccf2f4126b9695a4296476678.bmp" alt="在这里插入图片描述"></p>
<h3 id="14-6-4-应用实例">14.6.4.应用实例</h3>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">案例 <span class="number">1</span>：监视特定用户, 比如监控 tom 用户</span><br><span class="line">输入<span class="attribute">top</span></span><br><span class="line">回车</span><br><span class="line">输入u</span><br><span class="line">回车</span><br><span class="line">输入要监控用户名 (该用户要登录才能看到他的进程信息)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例 <span class="number">2</span>：终止指定的进程, 比如我们要结束 tom 登录</span><br><span class="line">输入<span class="attribute">top</span></span><br><span class="line">回车</span><br><span class="line">输入k</span><br><span class="line">回车</span><br><span class="line">输入要结束的进程 ID 号 （bash那个进程的PID）</span><br><span class="line">回车</span><br><span class="line">输入信号量 <span class="number">9</span> 强制删除</span><br><span class="line">tom掉线</span><br><span class="line"></span><br><span class="line">案例 <span class="number">3</span>：指定系统状态更新的时间(每隔 <span class="number">10</span> 秒自动更新),默认是 <span class="number">3</span> 秒</span><br><span class="line"><span class="attribute">top</span> -d <span class="number">10</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="6-netstat指令：监控网络状态">6. netstat指令：监控网络状态</h2>
<h3 id="14-7-1-查看系统网络情况netstat">14.7.1.查看系统网络情况netstat</h3>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">基本语法：</span><br><span class="line">	netstat [选项]</span><br><span class="line"></span><br><span class="line">选项说明：</span><br><span class="line">	-an	按一定顺序排列输出</span><br><span class="line">	-p	显示哪个进程在调用</span><br><span class="line"></span><br><span class="line">输入netstat -an | more (more 分页展示)</span><br><span class="line">显示：</span><br><span class="line">	Proto 					协议</span><br><span class="line">	Recv-Q					接收信息队列</span><br><span class="line">	Send-Q 					发送信息队列</span><br><span class="line">	<span class="keyword">Local</span> Address      		本地地址 Linux地址 </span><br><span class="line">	<span class="keyword">Foreign</span> Address         外部地址    </span><br><span class="line">	State 					<span class="keyword">LISTEN</span> 监听  ESTABLISHED 已建立连接 TIME_WAIT 超时等待</span><br><span class="line"></span><br><span class="line">TIME_WAIT 超时等待 </span><br><span class="line">	<span class="comment">---&gt;某个连接断了之后(如用户退出登录)，连接不会立刻消失，而是State变为TIME_WAIT</span></span><br><span class="line">	系统认为可能是网络状态不好，过一段时间仍无法连接，则连接消失。 </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Proto 	Recv-Q 	Send-Q 		<span class="keyword">Local</span> Address           <span class="keyword">Foreign</span> Address         State </span><br><span class="line">tcp        <span class="number">0</span>     <span class="number">36</span> 		<span class="number">192.168</span><span class="number">.200</span><span class="number">.130</span>:<span class="number">22</span>      <span class="number">192.168</span><span class="number">.200</span><span class="number">.1</span>:<span class="number">14498</span>     ESTABLISHED</span><br><span class="line">要建立连接双方都要有一个端口</span><br><span class="line"><span class="number">22</span>端口在Linux</span><br><span class="line"><span class="number">14498</span>端口在Windows</span><br><span class="line">如下图：</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20233aa5a4e967cf4c828d81caef17d6f23d.bmp" alt="在这里插入图片描述"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230607215917898.png" alt="image-20230607215917898"></p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">案例：查看服务名为 sshd 的服务的信息。</span><br><span class="line">netstat -anp <span class="string">| grep sshd</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="14-7-2-检测主机连接命令ping">14.7.2.检测主机连接命令ping</h3>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">是一种网络检测工具，它主要是用检测远程主机是否正常，或是两部主机间的网线或网卡故障。</span><br><span class="line">如: ping 对方的<span class="built_in">ip</span>地址</span><br></pre></td></tr></table></figure>
<h1>Linux 实操篇- RPM 与 YUM</h1>
<h2 id="15-1-RPM">15.1. RPM</h2>
<h3 id="15-1-1-介绍">15.1.1.介绍</h3>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">RPM 是 Red-Hat Package Manager（红帽软件包管理器）的缩写</span><br><span class="line">这一文件格式名称虽然打上了RedHat的标志，但是其原始设计理念是开放式的，</span><br><span class="line">包括OpenLinux、S<span class="selector-class">.u</span><span class="selector-class">.S</span><span class="selector-class">.E</span>.以及Turbo Linux等Linux的分发版本都有采用，可以算是公认的行业标准了。</span><br><span class="line"></span><br><span class="line">是一种用于互联网下载包的打包及安装工具，它包含在某些Linux分发版中。它生成具有.RPM扩展名的文件。</span><br><span class="line"></span><br><span class="line">类似于 windows 的 setup<span class="selector-class">.exe</span></span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>
<h3 id="15-1-2-rpm-的简单查询指令">15.1.2. rpm 的简单查询指令</h3>
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">查询已安装的 rpm软件包 列表：</span><br><span class="line">rpm –qa|grep xx </span><br><span class="line">查询结果返回一个软件包的包名</span><br><span class="line"></span><br><span class="line">举例：查看当前系统是否安装了 firefox </span><br><span class="line">指令: rpm -qa | grep firefox</span><br><span class="line">查询结果：firefox<span class="number">-60.2</span>.<span class="number">2</span><span class="number">-1</span>.el<span class="number">7</span>.centos.<span class="keyword">x</span><span class="number">86</span>_<span class="number">64</span></span><br><span class="line">结果说明：</span><br><span class="line">	软件名：firefox</span><br><span class="line">	版本号：<span class="number">60.2</span>.<span class="number">2</span><span class="number">-1</span></span><br><span class="line">	适用操作系统: el<span class="number">7</span>.centos.<span class="keyword">x</span><span class="number">86</span>_<span class="number">64</span> (表示 centos<span class="number">7</span>.<span class="keyword">x</span> 的 <span class="number">64</span> 位系统)</span><br><span class="line">	如果是 <span class="type">i686</span>、<span class="type">i386</span> 表示 <span class="number">32</span> 位系统，noarch 表示通用(<span class="number">32</span>/<span class="number">64</span>位系统都适用)</span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>
<h3 id="15-1-3-rpm-的其它查询指令">15.1.3. rpm 的其它查询指令</h3>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">rpm -<span class="keyword">qa</span> 			(查询所安装的所有 rpm 软件包)</span><br><span class="line"></span><br><span class="line">rpm -<span class="keyword">qa</span> | more  	(分页显示more)</span><br><span class="line"></span><br><span class="line">rpm -<span class="keyword">qa</span> | <span class="keyword">grep</span> <span class="keyword">X</span>    (过滤,比如 rpm -<span class="keyword">qa</span> | <span class="keyword">grep</span> firefox )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rpm -q  软件包名      (查询某个软件包是否安装)</span><br><span class="line">案例：rpm -q firefox</span><br><span class="line"></span><br><span class="line">rpm -qi 软件包名   	 (查询软件包的详细信息)</span><br><span class="line">案例: rpm -qi firefox</span><br><span class="line"></span><br><span class="line">rpm -ql 软件包名 	 (查询软件包中的文件和该软件包在哪个文件下)</span><br><span class="line">案例： rpm -ql firefox</span><br><span class="line"></span><br><span class="line">rpm -qf 文件全路径名 	 (查询某个文件所属在哪个软件包)</span><br><span class="line">案例：rpm -qf /etc/passwd rpm </span><br><span class="line">案例：-qf /root/install.<span class="built_in">log</span></span><br><span class="line"><span class="number">12345678910111213141516171819</span></span><br></pre></td></tr></table></figure>
<h3 id="15-1-4-删除-rpm-软件包">15.1.4.删除 rpm 软件包</h3>
<figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">基本语法：rpm -e RPM软件包的名称	//-e erase擦去</span><br><span class="line">案例：删除 firefox 软件包</span><br><span class="line">rpm -e firefox</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意：</span><br><span class="line">(1)如果其它软件包依赖于您要删除的软件包，删除时则会产生错误信息。</span><br><span class="line">如：	</span><br><span class="line">rpm -e foo</span><br><span class="line">removing these packages would break dependencies:foo is needed by bar<span class="string">-1</span>.0<span class="string">-1</span></span><br><span class="line">foo软件包被 bar<span class="string">-1</span>.0<span class="string">-1</span>需要，删除foo对barr<span class="string">-1</span>.0<span class="string">-1</span>有影响</span><br><span class="line"></span><br><span class="line">(2)如果我们就是要删除 foo 这个 rpm 包，可以增加参数 --nodeps ,就可以强制删除</span><br><span class="line">   但是一般不推荐这样做，因为依赖于该软件包的程序可能无法运行</span><br><span class="line">如：rpm -e --nodeps foo            (nodeps 不检查依赖关系 no dependencies)</span><br><span class="line">123456789101112131415</span><br></pre></td></tr></table></figure>
<h3 id="15-1-5-安装-rpm-软件包">15.1.5.安装 rpm 软件包</h3>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">基本语法：rpm -ivh RPM软件包全路径名称</span><br><span class="line"></span><br><span class="line">rpm软件包其实是一个软件的安装包</span><br><span class="line">点击Linux系统桌面的光盘，里面有一个Packages文件夹，这个文件夹里有很多rpm软件安装包</span><br><span class="line"></span><br><span class="line">在<span class="regexp">/run/m</span>edia<span class="regexp">/root/</span>CentOS\ <span class="number">7</span>\ x86_64<span class="regexp">/Packages/</span> 目录下</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">选项：</span><br><span class="line">	i=install 安装</span><br><span class="line">	v=verbose 提示</span><br><span class="line">	h=hash	  进度条</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">应用实例：</span><br><span class="line">演示卸载和安装 firefox 浏览器</span><br><span class="line">rpm -e firefox </span><br><span class="line">rpm -ivh <span class="regexp">/run/m</span>edia<span class="regexp">/root/</span>CentOS\ <span class="number">7</span>\ x86_64<span class="regexp">/Packages/</span>firefox-<span class="number">60.2</span>.<span class="number">2</span>-<span class="number">1</span>.el7.centos.x86_64.rpm</span><br><span class="line"></span><br><span class="line">也可以在Packages中找到firefox安装包，复制到某一个目录下，这样写路径简单</span><br><span class="line"><span class="number">1234567891011121314151617181920</span></span><br></pre></td></tr></table></figure>
<h2 id="15-2-yum">15.2. yum</h2>
<h3 id="15-2-1-介绍">15.2.1.介绍</h3>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Yum（全称为 Yellow dog Updater, Modified）是一个 Shell 前端软件包管理器。</span><br><span class="line">基于 RPM 包管理，能够从指定的服务器自动下载 RPM 包并且安装，</span><br><span class="line">可以自动处理依赖性关系，并且一次安装所有依赖的软件包。</span><br><span class="line"></span><br><span class="line">使用 yum list<span class="string">|grep 软件名 向yum服务器查询有没有该软件</span></span><br><span class="line">有的话，使用 yum install 软件名 下载安装该软件</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>
<h3 id="15-2-2-yum-的基本指令">15.2.2. yum 的基本指令</h3>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">查询 yum 服务器是否有 需要安装的软件：</span><br><span class="line">yum list<span class="string">|grep 软件名</span></span><br><span class="line"></span><br><span class="line">安装指定的软件：</span><br><span class="line">yum install 软件名</span><br><span class="line"></span><br><span class="line">案例：请使用 yum 的方式来安装 firefox </span><br><span class="line">rpm -e firefox</span><br><span class="line">yum list <span class="string">| grep firefox </span></span><br><span class="line">yum install firefox</span><br><span class="line"><span class="number">12345678910</span></span><br></pre></td></tr></table></figure>
<h2 id="15-3-总结">15.3.总结</h2>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">rpm</span> 是从本地安装包下载</span><br><span class="line">yum 是从yum服务器下载安装软件</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230608173952020.png" alt="image-20230608173952020"></p>
<h1>大数据定制篇-Shell编程</h1>
<h2 id="17-1-为什么要学习Shell-编程">17.1.为什么要学习Shell 编程</h2>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>)	Linux 运维工程师在进行服务器集群管理时，需要编写 <span class="keyword">Shell </span>程序来进行服务器管理。</span><br><span class="line">(<span class="number">2</span>)	对于 <span class="keyword">JavaEE </span>和 Python 程序员来说，工作的需要，你的老大会要求你编写一些 <span class="keyword">Shell </span>脚本进行程序或者是服务器的维护，比如编写一个定时备份数据库的脚本。</span><br><span class="line">(<span class="number">3</span>)	对于大数据程序员来说，需要编写 <span class="keyword">Shell </span>程序来管理集群</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<h2 id="17-2-Shell-是什么">17.2. Shell 是什么</h2>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Shell </span>是一个命令行解释器，它为用户提供了一个向 Linux 内核发送请求以便运行程序的界面系统级程序，用户可以用 <span class="keyword">Shell </span>来启动、挂起、停止甚至是编写一些程序。</span><br><span class="line"></span><br><span class="line">在计算机科学中，<span class="keyword">Shell俗称壳（用来区别于核）</span></span><br><span class="line"><span class="keyword"></span>是指“为使用者提供操作界面”的软件（command interpreter，命令解析器）。</span><br><span class="line">它类似于DOS下的COMMAND.COM和后来的cmd.exe。</span><br><span class="line">它接收用户命令，然后调用相应的应用程序。</span><br><span class="line"></span><br><span class="line">中文名	壳</span><br><span class="line">外文名	<span class="keyword">shell</span></span><br><span class="line"><span class="keyword"></span>性质		命令解析器</span><br><span class="line">用途		接收用户命令</span><br><span class="line"></span><br><span class="line"><span class="keyword">Shell </span>是指一种应用程序，这个应用程序提供了一个界面，用户通过这个界面访问操作系统内核的服务。是用户使用 Linux 的桥梁.</span><br><span class="line"></span><br><span class="line">用户写了一个指令，该指令不能直接发给Linux内核去执行，而是由<span class="keyword">shell帮我们去执行，执行完之后再通过shell返回给我们结果。</span></span><br><span class="line"><span class="keyword"></span>在Linux中不止一种<span class="keyword">shell，我们常用的是bash。</span></span><br><span class="line"><span class="keyword"></span>可以直接发一个指令给<span class="keyword">shell，也可以将指令写在一个文件/脚本(.sh </span><span class="keyword">shell脚本)里。</span></span><br><span class="line"><span class="keyword"></span><span class="keyword">shell编程就是在shell脚本中写指令。</span></span><br><span class="line"><span class="keyword"></span><span class="number">123456789101112131415161718</span></span><br></pre></td></tr></table></figure>
<h2 id="17-3-Shell-脚本">17.3. Shell 脚本</h2>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.脚本格式要求：</span><br><span class="line">	脚本以 #!/bin/bash 开头 ---&gt;确定<span class="keyword">shell</span>的类型</span><br><span class="line">    脚本需要有可执行权限</span><br><span class="line">    <span class="keyword">shell</span>脚本文件以.<span class="keyword">sh</span>结尾，也可以不以.<span class="keyword">sh</span>结尾</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.编写第一个Shell 脚本</span><br><span class="line">需求说明：创建一个 Shell 脚本，输出 hello world! </span><br><span class="line">创建一个目录：<span class="built_in">mkdir</span> /root/shcode</span><br><span class="line"><span class="keyword">cd</span> /root/shcode</span><br><span class="line"><span class="keyword">vim</span> hello.<span class="keyword">sh</span></span><br><span class="line">写入：</span><br><span class="line">	#!/bin/bash</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;hello,world!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.<span class="keyword">shell</span>脚本的常用执行方式</span><br><span class="line">方式 <span class="number">1</span>：</span><br><span class="line">	首先要给<span class="keyword">shell</span>脚本加<span class="keyword">x</span>执行权限：chomod <span class="keyword">u</span>+<span class="keyword">x</span> hello.<span class="keyword">sh</span></span><br><span class="line">	再输入该脚本的相对路径或绝对路径来执行该脚本</span><br><span class="line">    比如：</span><br><span class="line">	 	使用相对路径：	./hello.<span class="keyword">sh</span> </span><br><span class="line">	 	使用绝对路径：	/root/shcode/hello.<span class="keyword">sh</span></span><br><span class="line"></span><br><span class="line">方式 <span class="number">2</span>：</span><br><span class="line">	不用赋予脚本+<span class="keyword">x</span> 权限，直接执行即可。(使用以下指令，即使没有执行权限也可以执行)</span><br><span class="line">	使用指令： <span class="keyword">sh</span>  <span class="keyword">shell</span>脚本/<span class="keyword">shell</span>脚本的绝对路径</span><br><span class="line">	比如	<span class="keyword">sh</span> hello.<span class="keyword">sh</span> </span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526</span></span><br></pre></td></tr></table></figure>
<h2 id="17-4-Shell-的变量">17.4. Shell 的变量</h2>
<h3 id="17-4-1-Shell-变量介绍">17.4.1. Shell 变量介绍</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(1)	Linux Shell 中的变量分为:系统变量和用户自定义变量。</span><br><span class="line">系统变量：系统自带的变量</span><br><span class="line"></span><br><span class="line">(2)	系统变量比如：<span class="variable">$HOME</span>、<span class="variable">$PWD</span>、<span class="variable">$SHELL</span>、<span class="variable">$USER</span> 等等</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$HOME</span>	---&gt;显示当前用户的家目录</span><br><span class="line"></span><br><span class="line">(3)	可以通过 <span class="built_in">set</span> 指令显示出shell中的所有系统变量</span><br><span class="line">1234567</span><br></pre></td></tr></table></figure>
<h3 id="17-4-2-shell-自定义变量">17.4.2. shell 自定义变量</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">基本语法：</span><br><span class="line">(1)	定义变量：变量名=值  ---&gt;不加空格</span><br><span class="line">(2)	撤销变量：<span class="built_in">unset</span> 变量名</span><br><span class="line">(3)	声明静态变量：<span class="built_in">readonly</span> 变量 (改变量不能 <span class="built_in">unset</span>撤销)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例 1：定义变量 A</span><br><span class="line">案例 2：撤销变量 A</span><br><span class="line">案例 3：声明静态的变量 B=2，不能 <span class="built_in">unset</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> /root/shcode</span><br><span class="line">vim vr.sh</span><br><span class="line">输入： </span><br><span class="line">	<span class="comment">#!/bin/bash</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">#案例 1：定义变量 A=100  (#为注释符)</span></span><br><span class="line">	A=100</span><br><span class="line">	<span class="comment">#输出变量需要加上$ ($---&gt;引用变量)</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="variable">$A</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">#上述输出结果是100，想要输出结果为A=100，这样写(A=以普通文本形式输出，$A引用变量的值)</span></span><br><span class="line">	<span class="built_in">echo</span> A=<span class="variable">$A</span> 或者 <span class="built_in">echo</span> <span class="string">&quot;A=<span class="variable">$A</span>&quot;</span> </span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	<span class="comment">#案例 2：撤销变量 A </span></span><br><span class="line">	<span class="built_in">unset</span> A</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;A=<span class="variable">$A</span>&quot;</span>    (---&gt;输出 A= )</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	<span class="comment">#案例 3：声明静态的变量 B=2，不能 unset </span></span><br><span class="line">	<span class="built_in">readonly</span> B=2</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;B=<span class="variable">$B</span>&quot;</span> </span><br><span class="line">	</span><br><span class="line">保存：wq</span><br><span class="line">最后输入执行命令：sh vr.sh</span><br><span class="line"></span><br><span class="line">--------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">shell 变量名的定义规则：</span><br><span class="line">(1)	变量名称可以由字母、数字和下划线组成，但是不能以数字开头。5A=200(×)</span><br><span class="line">(2)	等号两侧不能有空格</span><br><span class="line">(3)	变量名称一般习惯为大写，这是一个规范，我们遵守即可</span><br><span class="line"></span><br><span class="line">--------------------------------------------------------------------</span><br><span class="line">将命令的返回值赋给变量：</span><br><span class="line">(1)	A=`<span class="built_in">date</span>`反引号，运行里面的命令，并把结果返回给变量 A </span><br><span class="line">(2)	A=$(<span class="built_in">date</span>) 等价于反引号</span><br><span class="line"></span><br><span class="line">案例：</span><br><span class="line"><span class="comment">#将指令返回的结果赋给变量</span></span><br><span class="line">	C=`<span class="built_in">date</span>` </span><br><span class="line">	D=$(<span class="built_in">date</span>)</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;C=<span class="variable">$C</span>&quot;</span> </span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;D=<span class="variable">$D</span>&quot;</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">#使用环境变量 TOMCAT_HOME</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;tomcat_home=<span class="variable">$TOMCAT_HOME</span>&quot;</span></span><br><span class="line">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202368cedcc64c1a49329bb19164b8d35e86.bmp" alt="在这里插入图片描述">****</p>
<h3 id="17-5-设置环境变量-全局变量">17.5.设置环境变量(全局变量)</h3>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">可以将变量提升为全局环境变量，供多个<span class="keyword">shell</span>程序共同使用。</span><br><span class="line"></span><br><span class="line">基本语法：</span><br><span class="line">(<span class="number">1</span>)	export 	变量名=变量值 	</span><br><span class="line">（功能描述：将 <span class="keyword">shell</span> 变量输出为环境变量/全局变量）</span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>)	<span class="keyword">source</span> 	配置文件		    </span><br><span class="line">（功能描述：在某文件中定义环境变量之后，要对该文件进行刷新才能使其生效，即让修改后的配置信息立即生效）</span><br><span class="line"></span><br><span class="line">(<span class="number">3</span>)	<span class="keyword">echo</span> 	$变量名			</span><br><span class="line">（功能描述：查询环境变量的值）</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">快速入门：</span><br><span class="line">(<span class="number">1</span>)	在/etc/<span class="keyword">profile</span> 文件中定义 TOMCAT_HOME 环境变量</span><br><span class="line">TOMCAT_HOME ---&gt;意思是tomcat的家目录是什么</span><br><span class="line">(<span class="number">2</span>)	查看环境变量 TOMCAT_HOME 的值</span><br><span class="line"><span class="keyword">vim</span> /etc/<span class="keyword">profile</span></span><br><span class="line">	写入：export TOMCAT_HOME=/<span class="keyword">opt</span>/tomcat</span><br><span class="line">	保存退出</span><br><span class="line"><span class="keyword">source</span> /etc/<span class="keyword">profile</span></span><br><span class="line"><span class="keyword">echo</span> $TOMCAT_HOME ---输出 /<span class="keyword">opt</span>/tomcat</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(<span class="number">3</span>)	在另外一个 <span class="keyword">shell</span> 程序中使用 TOMCAT_HOME</span><br><span class="line">在另一个<span class="keyword">shell</span>程序中写入：</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;tomcat_home=$TOMCAT_HOME&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意：在输出 TOMCAT_HOME 环境变量前，需要让其生效<span class="keyword">source</span> /etc/<span class="keyword">profile</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">shell</span> 脚本的</span><br><span class="line">	单行注释：#</span><br><span class="line">	多行注释：   :&lt;&lt;!   独占一行	</span><br><span class="line">				内容 </span><br><span class="line">			    ! 	   独占一行</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334353637</span></span><br></pre></td></tr></table></figure>
<h2 id="17-6-位置参数变量">17.6.位置参数变量</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">1.介绍</span><br><span class="line">当我们执行一个 shell 脚本时，如果希望获取到命令行的参数信息，就可以使用到位置参数变量</span><br><span class="line">比如： ./myshell.sh 100 200 这个就是一个执行 shell 的命令行，可以在 myshell 脚本中获取到参数信息</span><br><span class="line"></span><br><span class="line">./myshell.sh ---&gt;执行myshell脚本命令</span><br><span class="line">100 200 都是该命令行的参数</span><br><span class="line">使用位置参数变量可以在myshell脚本中获得参数</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.基本语法</span><br><span class="line"><span class="variable">$n</span> （功能描述：n 为数字，<span class="variable">$0</span> 代表命令本身(如./myshell.sh)，<span class="variable">$1</span>-<span class="variable">$9</span> 代表第一到第九个参数(如：<span class="variable">$1</span> 就是100 <span class="variable">$2</span> 就是200)，十以上的参数需要用大括号包含，如<span class="variable">$&#123;10&#125;</span>）</span><br><span class="line">$* （功能描述：这个变量代表命令行中所有的参数，$*把所有的参数看成一个整体）</span><br><span class="line"><span class="variable">$@</span> （功能描述：这个变量也代表命令行中所有的参数，不过<span class="variable">$@</span>把每个参数区分对待）</span><br><span class="line"><span class="variable">$#</span> （功能描述：这个变量代表命令行中所有参数的个数）</span><br><span class="line"></span><br><span class="line">案例：编写一个 shell 脚本 myshell.sh ，在脚本中获取到命令行的各个参数信息。</span><br><span class="line">vim myshell.sh</span><br><span class="line">	写入:</span><br><span class="line">		<span class="comment">#!/bin/bash</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;命令本身=<span class="variable">$0</span> 第一个参数=<span class="variable">$1</span> 第二个参数=<span class="variable">$2</span>&quot;</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;所有的参数=$*&quot;</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;参数个数=<span class="variable">$#</span>&quot;</span></span><br><span class="line">		保存退出</span><br><span class="line">sh myshell.sh 100 200</span><br><span class="line">12345678910111213141516171819202122232425</span><br></pre></td></tr></table></figure>
<h2 id="17-7-预定义变量">17.7.预定义变量</h2>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.基本介绍：</span><br><span class="line">预定义变量是 <span class="keyword">shell</span> 设计者事先已经定义好的变量，可以直接在 <span class="keyword">shell</span> 脚本中使用</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.基本语法：</span><br><span class="line">(<span class="number">1</span>)	$$ （功能描述：当前进程的进程号（PID））</span><br><span class="line">(<span class="number">2</span>)	$! （功能描述：后台运行的最后一个进程的进程号（PID））</span><br><span class="line">(<span class="number">3</span>)	$？（功能描述：最后一次执行的命令的返回状态。如果这个变量的值为 <span class="number">0</span>，证明上一个命令正确执行；如果这个变量的值为非 <span class="number">0</span>（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。）</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.应用实例：</span><br><span class="line">在一个 <span class="keyword">shell</span> 脚本中简单使用一下预定义变量</span><br><span class="line"></span><br><span class="line"><span class="keyword">vim</span> preVar.<span class="keyword">sh</span></span><br><span class="line">	写入：</span><br><span class="line">	#!/bin/bash</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;当前执行的进程 id=$$&quot;</span></span><br><span class="line">	</span><br><span class="line">	#以后台的方式运行一个脚本(在脚本后加一个$)，并获取他的进程号</span><br><span class="line">	/root/shcode/myshell.<span class="keyword">sh</span> &amp;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;最后一个后台方式运行的进程 id=$!&quot;</span> </span><br><span class="line"></span><br><span class="line">	<span class="keyword">echo</span> <span class="string">&quot;执行的结果是=$?&quot;</span></span><br><span class="line">	保存并退出</span><br><span class="line"><span class="keyword">sh</span> preVar.<span class="keyword">sh</span></span><br><span class="line"><span class="number">12345678910111213141516171819202122232425</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230608212540085.png" alt="image-20230608212540085"></p>
<h3 id="17-8-运算符">17.8.运算符</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">1.基本介绍：</span><br><span class="line">学习如何在 shell 中进行各种运算操作。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.基本语法：</span><br><span class="line">(1)	三种写法：</span><br><span class="line">	$((运算式))</span><br><span class="line">	$[运算式]</span><br><span class="line">	<span class="built_in">expr</span> m + n 	(expression 表达式)</span><br><span class="line">	 </span><br><span class="line">(2)	注意 <span class="built_in">expr</span> 运算符间要有空格</span><br><span class="line">	如果希望将 <span class="built_in">expr</span> 的结果赋给某个变量，使用 `` 或者 $( )</span><br><span class="line"></span><br><span class="line">(3)	<span class="built_in">expr</span> m - n</span><br><span class="line"></span><br><span class="line">(4)	<span class="built_in">expr</span> \*, /, %	乘，除，取余</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3.应用实例 oper.sh</span><br><span class="line">案例 1：计算（2+3）X4 的值</span><br><span class="line">案例 2：请求出命令行的两个参数[整数]的和 20 50</span><br><span class="line"></span><br><span class="line">vim oper.sh</span><br><span class="line">	写入:</span><br><span class="line">	<span class="comment">#!/bin/bash</span></span><br><span class="line">	<span class="comment">#案例 1：计算（2+3）X4 的值</span></span><br><span class="line">	<span class="comment">#使用第一种方式</span></span><br><span class="line">	RES1=$(((<span class="number">2</span>+<span class="number">3</span>)*<span class="number">4</span>))        ---&gt;用一个变量RES1接收</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;res1=<span class="variable">$RES1</span>&quot;</span></span><br><span class="line">	保存并退出</span><br><span class="line">sh oper.sh</span><br><span class="line"></span><br><span class="line">vim oper.sh</span><br><span class="line">	写入:</span><br><span class="line">	<span class="comment">#!/bin/bash</span></span><br><span class="line">	<span class="comment">#使用第二种方式, 推荐使用</span></span><br><span class="line">	RES2=$[(2+3)*4]</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;res2=<span class="variable">$RES2</span>&quot;</span></span><br><span class="line">	保存并退出</span><br><span class="line">sh oper.sh	</span><br><span class="line"></span><br><span class="line">vim oper.sh</span><br><span class="line">	写入:</span><br><span class="line">	<span class="comment">#!/bin/bash	</span></span><br><span class="line">	<span class="comment">#使用第三种方式 expr </span></span><br><span class="line">	TEMP=`<span class="built_in">expr</span> 2 + 3`       </span><br><span class="line">	RES4=`<span class="built_in">expr</span> <span class="variable">$TEMP</span> \* 4` </span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;temp=<span class="variable">$TEMP</span>&quot;</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;res4=<span class="variable">$RES4</span>&quot;</span></span><br><span class="line">	保存并退出</span><br><span class="line">sh oper.sh</span><br><span class="line"></span><br><span class="line">vim oper.sh</span><br><span class="line">	写入:</span><br><span class="line">	<span class="comment">#!/bin/bash	</span></span><br><span class="line">	<span class="comment">#案例 2：请求出命令行的两个参数[整数]的和 20 50 </span></span><br><span class="line">	SUM=$[<span class="variable">$1</span>+<span class="variable">$2</span>]</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;sum=<span class="variable">$SUM</span>&quot;</span></span><br><span class="line">	保存并退出</span><br><span class="line">sh oper.sh 20 50</span><br><span class="line">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230608214541259.png" alt="image-20230608214541259"></p>
<h2 id="17-9-条件判断">17.9.条件判断</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">1.基本语法：</span><br><span class="line">[ condition ] （注意 condition 前后要有空格）</span><br><span class="line"><span class="comment">#非空返回 true，可使用$?验证（0 为 true，&gt;1 为 false）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.应用实例：</span><br><span class="line">[ hspEdu ]		返回 <span class="literal">true</span> </span><br><span class="line">[ ]				返回 <span class="literal">false</span></span><br><span class="line">[ condition ] &amp;&amp; <span class="built_in">echo</span> OK || <span class="built_in">echo</span> notok	条件满足，执行后面的语句</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">3.判断语句：</span><br><span class="line">	常用判断条件：</span><br><span class="line">	(1) = 字符串比较</span><br><span class="line">	(2)	两个整数的比较</span><br><span class="line">		-lt 小于     less than</span><br><span class="line">		-le 小于等于  less equal</span><br><span class="line">		-eq 等于      equal</span><br><span class="line">		-gt 大于      greater</span><br><span class="line">		-ge 大于等于   greater equal</span><br><span class="line">		-ne 不等于     not equal</span><br><span class="line">	(3)	按照文件权限进行判断</span><br><span class="line">		-r 有读的权限</span><br><span class="line">		-w 有写的权限</span><br><span class="line">		-x 有执行的权限</span><br><span class="line">	(4)	按照文件类型进行判断</span><br><span class="line">		-f 文件存在并且是一个常规的文件</span><br><span class="line">		-e 文件存在</span><br><span class="line">		-d 文件存在并是一个目录</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">4.应用实例：</span><br><span class="line">案例 1：<span class="string">&quot;ok&quot;</span>是否等于<span class="string">&quot;ok&quot;</span></span><br><span class="line">判断语句：使用 =</span><br><span class="line">案例 2：23 是否大于等于 22</span><br><span class="line">判断语句：使用 -ge</span><br><span class="line">案例 3：/root/shcode/aaa.txt 目录中的文件是否存在</span><br><span class="line">判断语句： 使用 -f</span><br><span class="line"></span><br><span class="line">代码如下:</span><br><span class="line">vim ifdemo.sh</span><br><span class="line">	<span class="comment">#!/bin/bash</span></span><br><span class="line">	<span class="comment">#案例 1：&quot;ok&quot;是否等于&quot;ok&quot;</span></span><br><span class="line">	<span class="keyword">if</span> [ <span class="string">&quot;ok&quot;</span> = <span class="string">&quot;ok&quot;</span>  ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	        <span class="built_in">echo</span> <span class="string">&quot;equal&quot;</span></span><br><span class="line">	<span class="keyword">fi</span>                    -----&gt; <span class="keyword">if</span>语句 以<span class="keyword">if</span>开头 以<span class="keyword">fi</span>结尾</span><br><span class="line">	</span><br><span class="line">	<span class="comment">#案例 2：23 是否大于等于 22</span></span><br><span class="line">	<span class="comment">#判断语句：使用 -ge</span></span><br><span class="line">	<span class="keyword">if</span> [ 23 -ge 22 ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	        <span class="built_in">echo</span> <span class="string">&quot;大于&quot;</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">#案例 3：/root/shcode/aaa.txt 目录中的文件是否存在</span></span><br><span class="line">	<span class="comment">#判断语句： 使用 -f</span></span><br><span class="line">	<span class="keyword">if</span> [ -f  /root/shcode/aaa.txt ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	        <span class="built_in">echo</span> <span class="string">&quot;文件存在&quot;</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">#看几个案例</span></span><br><span class="line">	<span class="keyword">if</span> [ ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	        <span class="built_in">echo</span> <span class="string">&quot;存在&quot;</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> [ hspEdu01 ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	        <span class="built_in">echo</span> <span class="string">&quot;hello hspEdu01&quot;</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">sh ifdemo.sh</span><br><span class="line"></span><br><span class="line">输出结果：</span><br><span class="line">	equal</span><br><span class="line">	大于</span><br><span class="line">	hello hspEdu01</span><br><span class="line">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230608222411117.png" alt="image-20230608222411117"></p>
<h2 id="17-10-流程控制">17.10.流程控制</h2>
<h3 id="17-10-1-if-语句">17.10.1. if 语句</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">1.基本语法：</span><br><span class="line"><span class="keyword">if</span> [ 条件判断式 ] </span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">	代码</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">或者 多分支</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ 条件判断式 ] </span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">	代码</span><br><span class="line"><span class="keyword">elif</span> [条件判断式] </span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">	代码</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">2.注意事项：[ 条件判断式 ]，中括号和条件判断式之间必须有空格</span><br><span class="line"></span><br><span class="line">3.应用实例 ifCase.sh</span><br><span class="line">案例：请编写一个 shell 程序，如果输入的参数，大于等于 60，则输出 <span class="string">&quot;及格了&quot;</span>，如果小于 60,则输出 <span class="string">&quot;不及格&quot;</span></span><br><span class="line">	<span class="keyword">if</span> [ <span class="variable">$1</span> -ge 60 ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	        <span class="built_in">echo</span> <span class="string">&quot;及格了&quot;</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	        <span class="built_in">echo</span> <span class="string">&quot;不及格&quot;</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">	或者</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> [ <span class="variable">$1</span> -ge 60 ]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	        <span class="built_in">echo</span> <span class="string">&quot;及格了&quot;</span></span><br><span class="line">	<span class="keyword">elif</span>[ <span class="variable">$1</span> -lt 60]</span><br><span class="line">	<span class="keyword">then</span></span><br><span class="line">	        <span class="built_in">echo</span> <span class="string">&quot;不及格&quot;</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">123456789101112131415161718192021222324252627282930313233343536</span><br></pre></td></tr></table></figure>
<h3 id="17-10-2-case-语句">17.10.2. case 语句</h3>
<figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.基本语法：</span><br><span class="line"></span><br><span class="line">case $变量名 in</span><br><span class="line"><span class="string">&quot;值 1&quot;</span>)</span><br><span class="line">如果变量的值等于值 <span class="number">1</span>，则执行程序 <span class="number">1</span></span><br><span class="line"><span class="comment">;;</span></span><br><span class="line"><span class="string">&quot;值 2&quot;</span>)</span><br><span class="line">如果变量的值等于值 <span class="number">2</span>，则执行程序 <span class="number">2</span></span><br><span class="line"><span class="comment">;;</span></span><br><span class="line">…省略其他分支…</span><br><span class="line"></span><br><span class="line">*)</span><br><span class="line">如果变量的值都不是以上的值，则执行此程序</span><br><span class="line"><span class="comment">;;</span></span><br><span class="line">esac</span><br><span class="line"></span><br><span class="line">应用实例 testCase.<span class="keyword">sh</span></span><br><span class="line"><span class="keyword"></span>案例<span class="number">1</span>：当命令行参数是<span class="number">1</span>时，输出 <span class="string">&quot;周一&quot;</span>, 是<span class="number">2</span>时，就输出<span class="string">&quot;周二&quot;</span>，其它情况输出<span class="string">&quot;other&quot;</span></span><br><span class="line">vim testCase.<span class="keyword">sh</span></span><br><span class="line"><span class="keyword"></span>	写入：</span><br><span class="line">	<span class="comment">#!/bin/bash</span></span><br><span class="line">	<span class="comment">#案例1：当命令行参数是1时，输出 &quot;周一&quot;, 是2时，就输出&quot;周二&quot;，其它情况输出&quot;other&quot;</span></span><br><span class="line">	case $<span class="number">1</span> in</span><br><span class="line">	<span class="string">&quot;1&quot;</span>)</span><br><span class="line">	echo <span class="string">&quot;周一&quot;</span></span><br><span class="line">	<span class="comment">;;</span></span><br><span class="line">	<span class="string">&quot;2&quot;</span>)</span><br><span class="line">	echo <span class="string">&quot;周二&quot;</span></span><br><span class="line">	<span class="comment">;;</span></span><br><span class="line">	*)</span><br><span class="line">	echo <span class="string">&quot;other...&quot;</span></span><br><span class="line">	<span class="comment">;;</span></span><br><span class="line">	esac</span><br><span class="line">	保存并退出</span><br><span class="line">	</span><br><span class="line"><span class="keyword">sh </span>testCase.<span class="keyword">sh </span><span class="number">1</span></span><br><span class="line">周一</span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334353637</span></span><br></pre></td></tr></table></figure>
<h3 id="17-10-3-for-循环">17.10.3. for 循环</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">基本语法：</span><br><span class="line"></span><br><span class="line">第一种方式：</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> 变量 <span class="keyword">in</span>  值 1  值 2  值 3… </span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">程序/代码</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">应用实例 testFor1.sh</span><br><span class="line">案例：打印命令行输入的参数 [这里可以看出$*  和 <span class="variable">$@</span> 的区别]</span><br><span class="line">	<span class="comment">#!/bin/bash</span></span><br><span class="line">	<span class="comment">#案例：打印命令行输入的参数 [这里可以看出$*  和 $@ 的区别]</span></span><br><span class="line">	<span class="comment">#注意：$* 是把输入的参数当作一个整体，所以只会输出一句话</span></span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&quot;$*&quot;</span></span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	        <span class="built_in">echo</span> <span class="string">&quot;num is $*&quot;</span></span><br><span class="line">	<span class="keyword">done</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">#使用 $@ 来获取输入的参数，注意：也是把输入的参数看作一个整体，但这是分别对待；所以有几个参数就输出几句</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;======================================&quot;</span></span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span></span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	        <span class="built_in">echo</span> <span class="string">&quot;num is <span class="variable">$@</span>&quot;</span></span><br><span class="line">	<span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">sh testFor1.sh 100 200 300</span><br><span class="line">num is 100 200 300</span><br><span class="line">======================================</span><br><span class="line">num is 100 200 300</span><br><span class="line">num is 100 200 300</span><br><span class="line">num is 100 200 300</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">第二种方式：</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (( 初始值;循环控制条件;变量变化 ))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">程序/代码</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">应用实例 testFor2.sh</span><br><span class="line">案例：从 1 加到 100 的值输出显示</span><br><span class="line">	<span class="comment">#!/bin/bash</span></span><br><span class="line">	<span class="comment">#案例：从 1 加到 100 的值输出显示</span></span><br><span class="line">	<span class="comment">#定义一个变量SUM</span></span><br><span class="line">	SUM=0</span><br><span class="line">	<span class="keyword">for</span>(( i=<span class="number">1</span>; i&lt;=<span class="number">100</span>; i++  ))</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	        SUM=$[<span class="variable">$SUM</span>+<span class="variable">$i</span>]</span><br><span class="line">	<span class="keyword">done</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;总和SUM=<span class="variable">$SUM</span>&quot;</span></span><br><span class="line"></span><br><span class="line">sh testFor2.sh </span><br><span class="line">总和SUM=5050</span><br><span class="line"></span><br><span class="line">如果1加到x x由自己输入</span><br><span class="line">	SUM=0</span><br><span class="line">	<span class="keyword">for</span>(( i=<span class="number">1</span>; i&lt;=<span class="variable">$1</span>; i++  ))</span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	        SUM=$[<span class="variable">$SUM</span>+<span class="variable">$i</span>]</span><br><span class="line">	<span class="keyword">done</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;总和SUM=<span class="variable">$SUM</span>&quot;</span></span><br><span class="line"></span><br><span class="line">sh textFor2.sh 1000</span><br><span class="line">总和SUM=500500</span><br><span class="line">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869</span><br></pre></td></tr></table></figure>
<h3 id="17-10-4-while-循环">17.10.4. while 循环</h3>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">基本语法：</span><br><span class="line"><span class="keyword">while</span> [ 条件判断式 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">程序/代码</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">注意：<span class="keyword">while</span> 和 [有空格，条件判断式和[  ]也有空格</span><br><span class="line"></span><br><span class="line">应用实例：testWhile.sh</span><br><span class="line">案例：从命令行输入一个数 n，统计从 1+<span class="built_in">..</span>+ n  的值是多少？</span><br><span class="line">	#!/bin/bash</span><br><span class="line">	<span class="attribute">SUM</span>=0</span><br><span class="line">	<span class="attribute">i</span>=0</span><br><span class="line">	<span class="keyword">while</span> [ <span class="variable">$i</span> -le <span class="variable">$1</span> ] </span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">	<span class="attribute">SUM</span>=$[<span class="variable">$SUM</span>+<span class="variable">$i</span>]</span><br><span class="line">	#i 自增</span><br><span class="line">	<span class="attribute">i</span>=$[<span class="variable">$i</span>+1]</span><br><span class="line">	done</span><br><span class="line">	echo <span class="string">&quot;执行结果=<span class="variable">$SUM</span>&quot;</span></span><br><span class="line"></span><br><span class="line">sh testWhile.sh 100</span><br><span class="line">执行结果=5050</span><br><span class="line">1234567891011121314151617181920212223</span><br></pre></td></tr></table></figure>
<h2 id="17-11-read-读取控制台输入">17.11. read 读取控制台输入</h2>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>基本语法：</span><br><span class="line">read<span class="comment">(选项)</span><span class="comment">(参数)</span></span><br><span class="line">选项：</span><br><span class="line">	-p：指定读取值时的提示符；</span><br><span class="line">	-t：指定读取值时等待的时间（秒），如果没有在指定的时间内输入，就不再等待了</span><br><span class="line">参数：</span><br><span class="line">	变量：指定读取值的变量名</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>应用实例 testRead.sh</span><br><span class="line">案例 <span class="number">1</span>：读取控制台输入一个 <span class="symbol">NUM1</span> 值</span><br><span class="line">案例 <span class="number">2</span>：读取控制台输入一个 <span class="symbol">NUM2</span> 值，在 <span class="number">10</span> 秒内输入。代码:</span><br><span class="line"></span><br><span class="line">	<span class="attr">#!/bin/bash</span></span><br><span class="line"><span class="attr">	#案例 1</span>：读取控制台输入一个 <span class="symbol">NUM1</span> 值</span><br><span class="line">	read -p <span class="string">&quot;请输入一个数 NUM1=&quot;</span> <span class="symbol">NUM1</span> </span><br><span class="line">	echo <span class="string">&quot;你输入的 NUM1=$NUM1&quot;</span></span><br><span class="line">	</span><br><span class="line">	<span class="attr">#案例 2</span>：读取控制台输入一个 <span class="symbol">NUM2</span> 值，在 <span class="number">10</span> 秒内输入。</span><br><span class="line">	read -t <span class="number">10</span> -p <span class="string">&quot;请输入一个数 NUM2=&quot;</span> <span class="symbol">NUM2</span> </span><br><span class="line">	echo <span class="string">&quot;你输入的 NUM2=$NUM2&quot;</span></span><br><span class="line"></span><br><span class="line">sh testRead.sh</span><br><span class="line">请输入一个数 <span class="symbol">NUM1</span>=<span class="number">100</span></span><br><span class="line">你输入的 <span class="symbol">NUM1</span>=<span class="number">100</span></span><br></pre></td></tr></table></figure>
<h2 id="函数">函数</h2>
<h3 id="17-12-1-函数介绍">17.12.1.函数介绍</h3>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">shell</span><span class="language-bash"> 编程和其它编程语言一样，有系统函数，也可以自定义函数。系统函数中，我们这里就介绍两个。</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="17-12-2-系统函数">17.12.2.系统函数</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">1.<span class="built_in">basename</span> 基本语法</span><br><span class="line">功能：返回完整路径最后 / 的部分，常用于获取文件名</span><br><span class="line"><span class="built_in">basename</span> [pathname] [suffix]</span><br><span class="line"><span class="built_in">basename</span> [string] [suffix]	</span><br><span class="line"></span><br><span class="line">功能描述：<span class="built_in">basename</span> 命令会删掉所有的前缀包括最后一个（‘/’）字符，然后将字符串显示出来。</span><br><span class="line">选项：suffix 为后缀，如果 suffix 被指定了，<span class="built_in">basename</span> 会将 pathname 或 string 中的 suffix 去掉。</span><br><span class="line"></span><br><span class="line">案例 1：请返回 /home/aaa/test.txt 的 <span class="string">&quot;test.txt&quot;</span> 部分</span><br><span class="line"><span class="built_in">basename</span> /home/aaa/test.txt</span><br><span class="line">返回test.txt</span><br><span class="line"></span><br><span class="line">如果输入：<span class="built_in">basename</span> /home/aaa/test.txt .txt</span><br><span class="line">返回<span class="built_in">test</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.<span class="built_in">dirname</span> 基本语法</span><br><span class="line">功能：返回完整路径最后 / 的前面的部分，常用于返回路径部分</span><br><span class="line"><span class="built_in">dirname</span> 文件绝对路径 </span><br><span class="line"></span><br><span class="line">功能描述：从给定的包含绝对路径的文件名中去除文件名（非目录的部分），然后返回剩下的路径（目录的部分）</span><br><span class="line"></span><br><span class="line">案例 1：请返回 /home/aaa/test.txt 的 /home/aaa </span><br><span class="line"><span class="built_in">dirname</span> /home/aaa/test.txt</span><br><span class="line">返回/home/aaa</span><br><span class="line">12345678910111213141516171819202122232425</span><br></pre></td></tr></table></figure>
<h3 id="17-12-3-自定义函数">17.12.3.自定义函数</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">基本语法：</span><br><span class="line">[ <span class="keyword">function</span> ] funname[()]</span><br><span class="line">&#123;</span><br><span class="line">	Action; </span><br><span class="line">	[<span class="built_in">return</span> int;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">调用直接写函数名：funname	[值]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例 1：计算输入两个参数的和(动态的获取) testFun.sh</span><br><span class="line">	<span class="comment">#!/bin/bash</span></span><br><span class="line">	<span class="comment">#案例 1：计算输入两个参数的和(动态的获取)</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">#定义函数 getSum </span></span><br><span class="line">	<span class="keyword">function</span> <span class="function"><span class="title">getSum</span></span>() &#123;</span><br><span class="line">		SUM=$[<span class="variable">$n1</span>+<span class="variable">$n2</span>] </span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;和是=<span class="variable">$SUM</span>&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">#输入两个值</span></span><br><span class="line">	<span class="built_in">read</span> -p <span class="string">&quot;请输入一个数 n1=&quot;</span> n1 </span><br><span class="line">	<span class="built_in">read</span> -p <span class="string">&quot;请输入一个数 n2=&quot;</span> n2</span><br><span class="line">	</span><br><span class="line">	<span class="comment">#调用自定义函数</span></span><br><span class="line">	getSum <span class="variable">$n1</span> <span class="variable">$n2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sh testFun.sh </span><br><span class="line">请输入一个数 n1=10</span><br><span class="line">请输入一个数 n2=90</span><br><span class="line">和是=100</span><br><span class="line">1234567891011121314151617181920212223242526272829303132</span><br></pre></td></tr></table></figure>
<h2 id="17-13-Shell-编程综合案例">17.13. Shell 编程综合案例</h2>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>需求分析:</span><br><span class="line"><span class="comment">(1)</span>	每天凌晨 <span class="number">2</span>:<span class="number">30</span> 备份 数据库 hspedu 到 /data/backup/db</span><br><span class="line"><span class="comment">(2)</span>	备份开始和备份结束能够给出相应的提示信息</span><br><span class="line"><span class="comment">(3)</span>	备份后的文件要求以备份时间为文件名，并打包成 .tar.gz 的形式，比如：<span class="number">2021</span><span class="number">-03</span><span class="number">-12</span>_<span class="number">230201.</span>tar.gz</span><br><span class="line"><span class="comment">(4)</span>	在备份的同时，检查是否有 <span class="number">10</span> 天前备份的数据库文件，如果有就将其删除。</span><br><span class="line"><span class="comment">(5)</span>	画一个思路分析图</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023741d6df14f084d7e995b7033e9e76556.bmp" alt="在这里插入图片描述"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">2.代码 </span><br><span class="line">切换到/usr/sbin/目录下(该目录为root用户执行权限，使用root执行)</span><br><span class="line">vim mysql_db.backup.sh</span><br><span class="line">写入：</span><br><span class="line">	<span class="comment">#备份目录</span></span><br><span class="line">	BACKUP=/data/backup/db</span><br><span class="line">	</span><br><span class="line">	<span class="comment">#当前时间</span></span><br><span class="line">	DATETIME=$(<span class="built_in">date</span> +%Y-%m-%d_%H%M%S)</span><br><span class="line">	<span class="built_in">echo</span> <span class="variable">$DATETIME</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">#数据库的地址</span></span><br><span class="line">	HOST=localhost</span><br><span class="line">	</span><br><span class="line">	<span class="comment">#数据库用户名</span></span><br><span class="line">	DB_USER=root</span><br><span class="line">	</span><br><span class="line">	<span class="comment">#数据库密码</span></span><br><span class="line">	DB_PW=hspedu100</span><br><span class="line">	</span><br><span class="line">	<span class="comment">#备份的数据库名</span></span><br><span class="line">	DATABASE=hspedu</span><br><span class="line"></span><br><span class="line">	<span class="comment">#创建备份目录, 如果不存在，就创建（这个应该可以用if语句写）</span></span><br><span class="line">	[ ! -d <span class="string">&quot;<span class="variable">$&#123;BACKUP&#125;</span>/<span class="variable">$&#123;DATETIME&#125;</span>&quot;</span> ] &amp;&amp; <span class="built_in">mkdir</span> -p <span class="string">&quot;<span class="variable">$&#123;BACKUP&#125;</span>/<span class="variable">$&#123;DATETIME&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">#备份数据库</span></span><br><span class="line">	mysqldump	-u<span class="variable">$&#123;DB_USER&#125;</span>	-p<span class="variable">$&#123;DB_PW&#125;</span>	--host=<span class="variable">$&#123;HOST&#125;</span>	-q	-R	--databases	<span class="variable">$&#123;DATABASE&#125;</span>	| gzip &gt; <span class="variable">$&#123;BACKUP&#125;</span>/<span class="variable">$&#123;DATETIME&#125;</span>/<span class="variable">$DATETIME</span>.sql.gz</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">#将文件处理成 tar.gz </span></span><br><span class="line">	<span class="built_in">cd</span> <span class="variable">$&#123;BACKUP&#125;</span></span><br><span class="line">	tar -zcvf <span class="variable">$DATETIME</span>.tar.gz <span class="variable">$&#123;DATETIME&#125;</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">#删除对应的备份目录</span></span><br><span class="line">	<span class="built_in">rm</span> -rf <span class="variable">$&#123;BACKUP&#125;</span>/<span class="variable">$&#123;DATETIME&#125;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">#删除 10 天前的备份文件</span></span><br><span class="line">	<span class="comment">#查找BACKUP目录下10天前的备份文件 备份文件名字为 *.tar.gz 如果有删除</span></span><br><span class="line">	find <span class="variable">$&#123;BACKUP&#125;</span> -atime +10 -name <span class="string">&quot;*.tar.gz&quot;</span> -<span class="built_in">exec</span> <span class="built_in">rm</span> -rf &#123;&#125; \;</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;备份数据库<span class="variable">$&#123;DATABASE&#125;</span> 成功~&quot;</span></span><br><span class="line"></span><br><span class="line">	保存并退出</span><br><span class="line">	</span><br><span class="line">sh /user/sbin/mysql_db.backup.sh</span><br><span class="line"></span><br><span class="line">&#123;&#125; ---&gt;应该可以不用写</span><br><span class="line"></span><br><span class="line">定时：</span><br><span class="line">	crontab -e</span><br><span class="line">	30 2 * * * /user/sbin/mysql_db.backup.sh</span><br><span class="line">	保存并退出</span><br></pre></td></tr></table></figure>
<h1>Ubuntu</h1>
<h2 id="1-下载">1.下载</h2>
<p><strong>Ubuntu系统下载官方链接：</strong><a target="_blank" rel="noopener" href="https://ubuntu.com/download/desktop">Ubuntu系统下载</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d9385558aa9547ae98d629b87eaf78fe.png" alt="在这里插入图片描述"></p>
<p><strong>VMware下载官方链接:</strong> <a target="_blank" rel="noopener" href="https://www.vmware.com/cn/products/workstation-player/workstation-player-evaluation.html">VMware Workstation 16 Player下载</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202365fad3f8d9d54627ba41cbe09eeac989.png" alt="在这里插入图片描述"></p>
<p><strong>下完VMware直接安装就行了</strong></p>
<h2 id="2-VM安装Ubuntu">2 VM安装Ubuntu</h2>
<p><strong>双击打开VMware Workstation 16 Player</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d49d73980c79436baea7d2c45f698f41.png" alt="双击打开"><br>
<strong>点击创建新虚拟机</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202337819804c0d84f169ab7ed292939ce3e.png" alt="在这里插入图片描述"><br>
<strong>选择稍后安装操作系统，再点下一步</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202323c6117f952b402181baa5eade94ea7d.png" alt="在这里插入图片描述"><br>
<strong>然后注意这两个地方，选择操作系统和版本如下，再点下一步</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231cbc351ce459415ca05268cd38f90cfc.png" alt="在这里插入图片描述"><br>
<strong>自己定一个系统存储位置，再下一步</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023201ff9f468624f66b807bb75abb4b953.png" alt="在这里插入图片描述"><br>
<strong>最大磁盘大小按需修改，选择存储为单个文件，再下一步</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202365419237c75f472fbec543900e8ff436.png" alt="在这里插入图片描述"><br>
<strong>点击自定义硬件</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20236f50b0ca80a8410d9523626c49094dee.png" alt="在这里插入图片描述"><br>
<strong>选择使用ISO映像文件，浏览选中刚开始下载的Ubuntu系统，然后点右下角的关闭，再点完成</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023446703ba17454102a83bee6431e71482.png" alt="在这里插入图片描述"><br>
<strong>选中，点击播放虚拟机</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20230794b00d38b040909f94b19dca4293f5.png" alt="在这里插入图片描述"><br>
<strong>然后等待…</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20236505a58a3c7445a98d83f3d88f3445e2.png" alt="在这里插入图片描述"><br>
<strong>进入之后，下拉选中 中文简体，再点Ubuntu安装</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202371c5bfe0f2cf4043880bc2d23f49d120.png" alt="在这里插入图片描述"><br>
<strong>再双击chinese。这里因为Ubuntu系统显示器大小不对，下面的界面显示不出来，我们在下一步先来修改它的显示器大小</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023a7c0efc0feee49b89cdd28a77754f474.png" alt="在这里插入图片描述"><br>
<strong>到这里后，本来右下箭头所指地方有 继续 按钮，但是显示不出来，我们先关掉安装界面，退出安装</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023486d5b9fcf424ff3b06e4f323afd06d4.png" alt="在这里插入图片描述"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ccd40fcb398f4cfaa8e2211a3e8d6d87.png" alt="在这里插入图片描述"><br>
<strong>等待…然后进入如下页面，点击右上角倒三角形，再点击设置</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f9c09dbd07d94ef281edd22019a8666d.png" alt="在这里插入图片描述"><br>
<strong>下拉找到显示器，点击分辨率</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023644578e4f11f4323a0da7313b5494c2e.png" alt="在这里插入图片描述"><br>
<strong>任意改为另一个，例如1024x768，再点击应用</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202362a8f8990a2c4e2f8f8faaae3aaabed7.png" alt="在这里插入图片描述"><br>
<strong>选择保留更改</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023cd213e6ae18c4a7daca11d2000dbae29.png" alt="在这里插入图片描述"><br>
<strong>然后点击左上角图标，重新进入系统安装</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b728beb894294d7d874d63fdafeed0c7.png" alt="在这里插入图片描述"><br>
<strong>可以看到这时能显示继续的按钮，点击继续</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202366f2ba0be27c41bb88a53406331e912d.png" alt="在这里插入图片描述"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231f7b55c37c8a47199da1c63e334fe077.png" alt="在这里插入图片描述"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023fc6b2fecc13c4b0f92e58cc9ed55d600.png" alt="在这里插入图片描述"><br>
<strong>点击现在安装</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ac40c006372a47d5a54b18b59e4a00a1.png" alt="在这里插入图片描述"><br>
<strong>再点击继续</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ce93a89bedce414d8425a169f8b5e06d.png" alt="在这里插入图片描述"><br>
<strong>选择地区</strong><br>
点中国所在范围<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023385af46dc7584c989052481f68999394.png" alt="在这里插入图片描述"></p>
<p><strong>自行填写以下信息</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20236273e1ec5fcb4a4087c80eb072cfadf3.png" alt="在这里插入图片描述"><br>
<strong>然后便进入安装等待界面</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023268da6e3306746c3b372e834f491fa8f.png" alt="在这里插入图片描述"><br>
<strong>下载文件时间较长，可点击展开选择skip，然后再等待一段时间…</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023027fdbbf1aef4ce093d536018b323157.png" alt="在这里插入图片描述"><br>
<strong>安装完成，提示重启，点击重启</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202382c1b31768184c95872dc56f2de25ccd.png" alt="在这里插入图片描述"><br>
<strong>然后根据提示，进入系统，显示如下界面，即安装完成。</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202399ade9314d0e4cb29675e5d25f441348.png" alt="在这里插入图片描述"></p>
<h2 id="3-更改Ubuntu软件源">3 更改Ubuntu软件源</h2>
<p><strong>配置系统的软件源，提高下载速度</strong><br>
<strong>先点左下角矩形网格，找到并打开 软件与更新</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20230c218cd4647b4aea933c06ba5a25aeed.png" alt="在这里插入图片描述"><br>
<strong>按图示修改</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/807db0c55df742d79737283df3fd49ce.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5aW95YOP5b6I5aW95ZCD,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023e97e749f40db4cab81869f7e94b181ba.png" alt="在这里插入图片描述"><br>
<strong>点击选择一个服务器，如第一个，再点选择服务器</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/76975f49cc304023a2888aef627b1cc7.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5aW95YOP5b6I5aW95ZCD,size_16,color_FFFFFF,t_70,g_se,x_16#pic_center" alt="在这里插入图片描述"><br>
<strong>再点关闭</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f796edc922c44ab1aea016d913294bc9.png" alt="在这里插入图片描述"><br>
<strong>点击重新载入，并等待</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ade0755ba7df41d6af45224999c100fd.png" alt="在这里插入图片描述"><br>
<strong>其中需输入密码，即之前自行设置的密码，此后有软件更新点击更新即可</strong><br>
<strong>到这里软件源更改完成。</strong></p>
<h2 id="4-Windows与Ubuntu跨系统复制粘贴">4 Windows与Ubuntu跨系统复制粘贴</h2>
<p><strong>打开终端，手动输入以下命令，再重启ubuntu系统就可以了</strong><br>
<strong>即通过安装VMtools实现了Windows与Ubuntu跨系统复制粘贴，也实现了Ubuntu窗口自适应</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get autoremove open-vm-tools</span><br><span class="line">sudo apt-get install open-vm-tools</span><br><span class="line">sudo apt-get install open-vm-tools-desktop</span><br></pre></td></tr></table></figure>
<p><strong>所有命令</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">apt-get update</td>
<td style="text-align:left">更新源</td>
</tr>
<tr>
<td style="text-align:left">apt-get upgrade</td>
<td style="text-align:left">更新所有已安装的包</td>
</tr>
<tr>
<td style="text-align:left"><strong>apt-get install <pkg></strong></td>
<td style="text-align:left">安装软件包<pkg>，<strong>多个</strong>软件包用空格隔开</td>
</tr>
<tr>
<td style="text-align:left">apt-get install –reinstall <pkg></td>
<td style="text-align:left">重新安装软件包<pkg></td>
</tr>
<tr>
<td style="text-align:left">apt-get install -f <pkg></td>
<td style="text-align:left">修复安装（破损的依赖关系）软件<pkg></td>
</tr>
<tr>
<td style="text-align:left"><strong>apt-get remove <pkg></strong></td>
<td style="text-align:left">删除软件包<pkg>（不包括配置文件）</td>
</tr>
<tr>
<td style="text-align:left"><strong>apt-get purge <pkg></strong></td>
<td style="text-align:left">删除软件包<pkg>（包括配置文件）</td>
</tr>
<tr>
<td style="text-align:left">apt-get clean</td>
<td style="text-align:left">清除缓存(/var/cache/apt/archives/{,partial}下) 中所有已下载的包</td>
</tr>
<tr>
<td style="text-align:left">apt-cache stats</td>
<td style="text-align:left">显示系统软件包的统计信息</td>
</tr>
<tr>
<td style="text-align:left"><strong>apt-cache search <pkg></strong></td>
<td style="text-align:left">使用关键字pkg搜索软件包</td>
</tr>
<tr>
<td style="text-align:left"><strong>apt-cache show</strong></td>
<td style="text-align:left">显示软件包pkg_name的详细信息</td>
</tr>
<tr>
<td style="text-align:left"><strong>apt-cache depends <pkg></strong></td>
<td style="text-align:left">查看pkg所依赖的软件包</td>
</tr>
<tr>
<td style="text-align:left">apt-cache rdepends <pkg></td>
<td style="text-align:left">查看pkg被那些软件包所依赖</td>
</tr>
<tr>
<td style="text-align:left"><strong>apt-get build-dep <pkg></strong></td>
<td style="text-align:left">构建pkg源码包的编译依赖 (这条命令很神奇，一步搞定所有编译依赖)</td>
</tr>
</tbody>
</table>
<h1>Ubuntu中的apt命令（相当于centos yum）</h1>
<p><strong>apt-get</strong>命令本身并不具有管理软件包功能，只是提供了一个软件包管理的命令行平台。在这个平台上使用更丰富的子命令，完成具体的管理任务。</p>
<p><strong>apt-get命令的一般语法格式为：</strong></p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get subcommands [ -d | -f | -m | -<span class="string">q| --purge |</span> --reinstall | -b | -s | -<span class="keyword">y</span> | -u | -h | -v ] [pkg] </span><br></pre></td></tr></table></figure>
<p><strong>apt-cache</strong>提供了搜索功能。</p>
<p>说明：下文命令中，尖括号中内容为用户视具体情况而定，如可替换为实际的软件包名 MySQL-server等。</p>
<hr>
<ol>
<li>
<p>更新或升级操作：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">apt-<span class="keyword">get</span> update                  <span class="meta"># 更新源  </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-<span class="keyword">get</span> upgrade                 <span class="meta"># 更新所有已安装的包  </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-<span class="keyword">get</span> dist-upgrade            <span class="meta"># 发行版升级（如，从10.10到11.04）</span></span><br></pre></td></tr></table></figure>
</li>
<li>
<p>安装或重装类操作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">apt-get install &lt;pkg&gt;             # 安装软件包&lt;pkg&gt;，多个软件包用空格隔开  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-get install --reinstall &lt;pkg&gt; # 重新安装软件包&lt;pkg&gt;  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-get install -f &lt;pkg&gt;          # 修复安装（破损的依赖关系）软件包&lt;pkg&gt;  </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>卸载类操作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">apt-get remove &lt;pkg&gt;          # 删除软件包&lt;pkg&gt;（不包括配置文件）  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-get purge &lt;pkg&gt;           # 删除软件包&lt;pkg&gt;（包括配置文件）  </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>下载清除类操作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">apt-get source &lt;pkg&gt;              # 下载pkg包的源代码到当前目录  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-get download &lt;pkg&gt;            # 下载pkg包的二进制包到当前目录  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-get source -d &lt;pkg&gt;           # 下载完源码包后，编译  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-get build-dep   &lt;pkg&gt;         # 构建pkg源码包的依赖环境（编译环境？）  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-get clean                     # 清除缓存(/var/cache/apt/archives/&#123;,partial&#125;下)中所有已下载的包  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-get autoclean                 # 类似于clean，但清除的是缓存中过期的包（即已不能下载或者是无用的包）  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-get autoremove                # 删除因安装软件自动安装的依赖，而现在不需要的依赖包  </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>查询类操作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">apt-cache stats             # 显示系统软件包的统计信息  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-cache search &lt;pkg&gt;            # 使用关键字pkg搜索软件包  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-cache show   &lt;pkg_name&gt;   # 显示软件包pkg_name的详细信息  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-cache depends &lt;pkg&gt;       # 查看pkg所依赖的软件包  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">apt-cache rdepends &lt;pkg&gt;      # 查看pkg被那些软件包所依赖  </span><br></pre></td></tr></table></figure>
</li>
<li>
<p>关于软件安装目录的说明：</p>
<p>一般的deb包(包括新立得或者apt-get下载的)都在**/usr/share**。 自己下载的压缩包或者编译的包，有些可以选择安装目录，一般放在/usr/local/，也有在/opt的。</p>
</li>
<li>
<p>关于apt-get的缓存目录：</p>
<p>默认的缓存目录是**/var/cache/apt/archives/**, 为日后重装系统后安装软件节省下载时间或者将软件包给别人用，可以将该目录下的软件包压缩备份后清理以节省空间。</p>
</li>
</ol>
<ul>
<li>
<h2 id="apt-安装">apt 安装</h2>
</li>
<li>
<pre><code class="language-perl">sudo apt search package #搜索包 



sudo apt show package #获取包的相关信息，如说明、大小、版本等  



sudo apt depends package #了解使用依赖  



sudo apt rdepends package #查看该包被哪些包依赖  



sudo apt-cache pkgnames  #执行pkgnames子命令列出当前所有可用的软件包 



sudo apt policy package #使用policy命令显示软件包的安装状态和版本信息。



sudo apt install package #安装包  



sudo apt install package=version #安装指定版本的包  



sudo apt install package --reinstall #重新安装包  



sudo apt -f install #修复安装, &quot;-f = --fix-missing&quot;  



sudo apt remove package #删除包



sudo apt purge package  #删除包，包括删除配置文件等



sudo apt autoremove #自动卸载所有未使用的软件包



sudo apt source package #下载该包的源代码   



sudo apt update #更新apt软件源信息  



sudo apt upgrade #更新已安装的包



sudo apt full-upgrade #在升级软件包时自动处理依赖关系  



sudo apt dist-upgrade #升级系统  



sudo apt dselect-upgrade #使用dselect升级  



sudo apt build-dep package #安装相关的编译环境  



sudo apt clean &amp;&amp; sudo apt autoclean #清理无用的包



sudo apt clean  #清理已下载的软件包，实际上是清楚/var/cache/apt/archives目录中的软件包



sudo apt autoclean  #删除已经卸载的软件包备份  



sudo apt-get check #检查是否有损坏的依赖 
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```<span class="keyword">sql</span></span><br><span class="line">sudo aptitude <span class="keyword">update</span>     更新可用的包列表</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo aptitude upgrade    升级可用的包</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo aptitude dist<span class="operator">-</span>upgrade   将系统升级到新的发行版</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo aptitude install pkgname    安装包</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo aptitude remove pkgname     删除包</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo aptitude purge pkgname  删除包及其配置文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo aptitude <span class="keyword">search</span> string  搜索包</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo aptitude <span class="keyword">show</span> pkgname   显示包的详细信息</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo aptitude clean  删除下载的包文件</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">sudo aptitude autoclean  仅删除过期的包文件</span><br></pre></td></tr></table></figure>

## 使用Deb包安装

</code></pre>
</li>
<li>
<pre><code class="language-cobol">sudo dpkg -i &lt;package.deb&gt;    #安装包



sudo dpkg -r &lt;package.deb&gt;　  #删除包



sudo dpkg -p &lt;package.deb&gt;　  #彻底删除包(包括配置文件)



dpkg -l                       #列出当前已安装的包
<figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![image<span class="number">-20230610214734592</span>](https://raw.githubusercontent.com/godwad/<span class="number">2023</span>/main/<span class="number">2023</span>image<span class="number">-20230610214734592</span>.png)</span><br><span class="line"></span><br><span class="line">可更换下载源，具体可参照[Ubuntu更换国内源（apt更换源）_ubuntu换源_墨痕诉清风的博客-CSDN博客](https://blog.csdn.net/u<span class="number">012206617</span>/article/details/<span class="number">122321849</span>?ops_request_misc<span class="operator">=</span><span class="variable">%7</span>B<span class="variable">%22</span>request<span class="variable">%5</span>Fid<span class="variable">%22</span><span class="variable">%3</span>A<span class="variable">%22168640487816800192226268</span><span class="variable">%22</span><span class="variable">%2</span>C<span class="variable">%22</span>scm<span class="variable">%22</span><span class="variable">%3</span>A<span class="variable">%2220140713</span>.<span class="number">130102334</span>..<span class="variable">%22</span><span class="variable">%7</span>D&amp;request_id<span class="operator">=</span><span class="number">168640487816800192226268</span>&amp;biz_id<span class="operator">=</span><span class="number">0</span>&amp;utm_medium<span class="operator">=</span>distribute.pc_search_result.none-task-blog<span class="number">-2</span>~all~top_click~<span class="keyword">default</span><span class="number">-1</span><span class="number">-122321849</span>-<span class="keyword">null</span>-<span class="keyword">null</span>.<span class="number">142</span>^v<span class="number">88</span>^insert_down<span class="number">38</span>v<span class="number">5</span><span class="punctuation">,</span><span class="number">239</span>^v<span class="number">2</span>^insert_chatgpt&amp;utm_term<span class="operator">=</span>ubuntu更换国内源&amp;spm<span class="operator">=</span><span class="number">1018.2226</span>.<span class="number">3001.4187</span>)</span><br><span class="line"></span><br><span class="line"># Ubuntu远程登录</span><br><span class="line"></span><br><span class="line">## <span class="number">1</span>.ssh介绍</span><br><span class="line"></span><br><span class="line">SSH为 Secure Shell (安全外壳协议)的缩写，由 IETF 的网络工作小组（Network Working Group）所制定；SSH 为建立在应用层和传输层基础上的安全协议。</span><br><span class="line"></span><br><span class="line">SSH是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议。常用于远程登录。几乎所有 UNIX/LInux 平台都可运行 SSH。</span><br><span class="line"></span><br><span class="line">使用 SSH服务，需要安装相应的服务器和客户端。客户端和服务器的关系：如果，A 机器想被 B 机器远程控制，那么，**A机器需要安装 SSH服务器，B 机器需要安装 SSH客户端**。</span><br><span class="line"></span><br><span class="line">和 CentOS 不一样，Ubuntu 默认没有安装 SSHD服务(**使用 netstat -anp | more 指令查看: apt install net-tools**)，因此，我们不能进行远程登录。</span><br><span class="line"></span><br><span class="line">## <span class="number">2</span>.安装SSH和启用</span><br><span class="line"></span><br><span class="line">```bash</span><br><span class="line">sudo apt-get install openssh-server</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

</code></pre>
</li>
</ul>
<p>执行上面指令后，在当前这台 Linux 上就安装了 SSH服务端和客户端。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service sshd restart</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<p>执行上面的指令，就启动了 sshd 服务。会监听端口 22</p>
<h2 id="3-远程登录">3.远程登录</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230610220628568.png" alt="image-20230610220628568"></p>
<h3 id="1-使用ssh远程工具（xshell）登录-Ubuntu">1.使用ssh远程工具（xshell）登录 Ubuntu</h3>
<p>查看 ip 地址: <strong>ifconfig</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202342efa873da634b0f9793d38577101051.png" alt="在这里插入图片描述"><br>
<strong>注意：使用普通用户登录，需要的时候再 su 切换成 root 用户</strong><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/35eaa33b805a40e0b434aa6d6e063337.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pqX5oGL6Iqx6aaZ,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="2-用另一台机器远程登录Ubuntu">2.用另一台机器<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95&amp;spm=1001.2101.3001.7020">远程登录</a>Ubuntu</h3>
<p>在Windows端打开<code>CMD</code> 或 <code>Git Bash</code> 命令窗口，或者在另一台centos或Ubuntu机器系统（该机器也要安装ssh服务器）控制终端输入“<strong>ssh 用户名@目标主机IP</strong>”，即可控制该机器</p>
<p>退出用exit 或  logout</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230610220710400.png" alt="image-20230610220710400"></p>
<h1>Linux 高级篇-日志管理</h1>
<h2 id="21-1-基本介绍">21.1.基本介绍</h2>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">(1)</span>日志文件是重要的系统信息文件，其中记录了许多重要的系统事件，包括用户的登录信息、系统的启动信息、系统的安全信息、邮件相关信息、各种服务相关信息等。</span><br><span class="line"><span class="comment">(2)</span>日志对于安全来说也很重要，它记录了系统每天发生的各种事情，通过日志来检查错误发生的原因，或者受到攻击时攻击者留下的痕迹。</span><br><span class="line"><span class="comment">(3)</span>可以这样理解 日志是用来记录重大事件的工具</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<h2 id="21-2-系统常用的日志">21.2.系统常用的日志</h2>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">系统日志文件的保存位置：/<span class="keyword">var</span>/<span class="built_in">log</span>/ 目录下</span><br><span class="line"></span><br><span class="line">应用案例：</span><br><span class="line">使用 root 用户通过 xshell6 登陆，第一次使用错误的密码，第二次使用正确的密码登录成功看看在日志文件/<span class="keyword">var</span>/<span class="built_in">log</span>/secure 里有没有记录相关信息</span><br><span class="line"></span><br><span class="line">系统常用日志：</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234629f9805c0848aabd446b4554f03b5f.bmp" alt="在这里插入图片描述"></p>
<h2 id="21-3-日志管理服务-rsyslogd">21.3.日志管理服务 rsyslogd</h2>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">CentOS7.<span class="number">6</span> 日志服务是 rsyslogd   (rocket-fast system <span class="keyword">for</span> log)</span><br><span class="line">CentOS6.x 日志服务是 syslogd </span><br><span class="line">rsyslogd 功能更强大</span><br><span class="line">rsyslogd 的使用、日志文件的格式，和 syslogd 服务是兼容的</span><br><span class="line"></span><br><span class="line">rsyslogd是一个后台程序(服务)，来管理<span class="regexp">/记录/</span>操作相关日志。</span><br><span class="line">将日志记录到对应的文件中。</span><br><span class="line"></span><br><span class="line"><span class="regexp">/etc/</span>rsyslog.conf配置文件中记录了要管理哪些日志和将这些日志记录到哪个文件中。</span><br><span class="line"></span><br><span class="line">原理示意图：</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b3abb4c966e44d15927d66ec5cb6172a.bmp" alt="在这里插入图片描述"></p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>在进行日志管理时，要保证rsyslogd服务是启动的！</span><br><span class="line"></span><br><span class="line">(<span class="number">1</span>)查询 Linux 中的 rsyslogd 服务是否启动</span><br><span class="line">ps aux | grep <span class="string">&quot;rsyslog&quot;</span> </span><br><span class="line"></span><br><span class="line">ps aux | grep <span class="string">&quot;rsyslog&quot;</span> | grep -v <span class="string">&quot;grep&quot;</span></span><br><span class="line">| grep -v <span class="string">&quot;grep&quot;</span> ---&gt; 筛选出ps aux | grep <span class="string">&quot;rsyslog&quot;</span> 结果中不是grep的</span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>)查询 rsyslogd 服务的自启动状态(是否是自启动状态enable)</span><br><span class="line">systemctl list-unit-files | grep rsyslog</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>配置文件：/etc/rsyslog.conf</span><br><span class="line">该配置文件中记录了：日志和日志存放在哪个文件</span><br><span class="line"></span><br><span class="line">关于日志：*.*</span><br><span class="line">其中第一个*代表日志类型，第二个*代表日志级别</span><br><span class="line"></span><br><span class="line">(<span class="number">1</span>)日志类型分为：</span><br><span class="line">auth					##pam 产生的日志</span><br><span class="line">authpriv				##ssh、ftp 等登录信息的验证信息</span><br><span class="line">corn					##时间任务相关</span><br><span class="line">kern					##内核</span><br><span class="line">lpr						##打印</span><br><span class="line">mail					##邮件</span><br><span class="line">mark(syslog)-rsyslog	##服务内部的信息，时间标识</span><br><span class="line">news					##新闻组</span><br><span class="line">user					##用户程序产生的相关信息</span><br><span class="line">uucp					##unix to nuix copy主机之间相关的通信</span><br><span class="line">local <span class="number">1</span><span class="number">-7</span>				##自定义的日志设备</span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>)日志级别分为：</span><br><span class="line">debug		##有调试信息的，日志通信最多</span><br><span class="line">info		##一般信息日志，最常用</span><br><span class="line">notice		##最具有重要性的普通条件的信息</span><br><span class="line">warning		##警告级别</span><br><span class="line">err			##错误级别，阻止某个功能或者模块不能正常工作的信息</span><br><span class="line">crit		##严重级别，阻止整个系统或者整个软件不能正常工作的信息</span><br><span class="line">alert		##需要立刻修改的信息</span><br><span class="line">emerg		##内核崩溃等重要信息</span><br><span class="line">none		##什么都不记录	</span><br><span class="line">注意：从上到下，级别从低到高，记录信息越来越少</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>由日志服务 rsyslogd 记录的日志文件，</span><br><span class="line">日志文件的内容：每一行都代表一个事件，每一行有以下四个内容：</span><br><span class="line"><span class="number">1</span>)	事件产生的时间</span><br><span class="line"><span class="number">2</span>)	产生事件的服务器的主机名</span><br><span class="line"><span class="number">3</span>)	产生事件的服务名或程序名</span><br><span class="line"><span class="number">4</span>)	事件的具体信息</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>日志如何查看实例</span><br><span class="line">查看一下 /var/log/secure 日志，这个日志中记录的是用户验证和授权方面的信息 来分析如何查看</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>日志管理服务应用实例（增加自定义的日志）</span><br><span class="line">在/etc/rsyslog.conf 中添加一个日志文件/var/log/hsp.log,当有事件发送时(比如 sshd 服务相关事件)，该文件会接收到信息并保存. </span><br><span class="line">给小伙伴演示 重启，登录 的情况，看看是否有日志保存</span><br><span class="line"></span><br><span class="line">vim /etc/rsyslog.conf </span><br><span class="line">写入：</span><br><span class="line">	*.*  		/var/log/hsp.log</span><br><span class="line">	保存退出</span><br><span class="line">&gt; /var/log/hsp.log  (创建日志文件)</span><br><span class="line">然后重启，重启事件会被记录到/var/log/hsp.log中</span><br><span class="line">cat hsp.log | grep sshd 	就可以查到信息(sshd远程连接)</span><br><span class="line"><span class="number">123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230610230234895.png" alt="image-20230610230234354"></p>
<h2 id="21-4-日志轮替">21.4.日志轮替</h2>
<h3 id="21-4-1-基本介绍">21.4.1.基本介绍</h3>
<figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">日志轮替<span class="comment">(logrotate)</span>就是把旧的日志文件移动并改名，同时建立新的空日志文件，当旧日志文件超出保存的范围之后，就会进行删除</span><br><span class="line">清除日志中旧的信息</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<h3 id="21-4-2-日志轮替文件命名">21.4.2.日志轮替文件命名</h3>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">(<span class="number">1</span>)	centos7 使用 logrotate 进行日志轮替管理</span><br><span class="line">要想改变日志轮替文件名字，通过 <span class="regexp">/etc/</span>logrotate.conf 配置文件中“dateext” 参数</span><br><span class="line"></span><br><span class="line">(<span class="number">2</span>)	如果配置文件中有“dateext”参数，那么日志会用日期来作为日志文件的后缀，例如 “secure-<span class="number">20201010</span>”。</span><br><span class="line">这样日志文件名不会重叠，也就不需要日志文件的改名，只需要指定保存日志个数，删除多余的日志文件即可。</span><br><span class="line"></span><br><span class="line">(<span class="number">3</span>)	如果配置文件中没有“dateext”参数，日志文件就需要进行改名了。</span><br><span class="line">当第一次进行日志轮替时，当前的“secure”日志会自动改名为“secure.<span class="number">1</span>”，然后新建“secure”日志， 用来保存新的日志。</span><br><span class="line">当第二次进行日志轮替时，“secure.<span class="number">1</span>” 会自动改名为“secure.<span class="number">2</span>”， 当前的“secure”日志会自动改名为“secure.<span class="number">1</span>”，然后也会新建“secure”日志，用来保存新的日志，以此类推。</span><br><span class="line"><span class="number">123456789</span></span><br></pre></td></tr></table></figure>
<h3 id="21-4-3-logrotate-配置文件">21.4.3. logrotate 配置文件</h3>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/</span>logrotate.conf 为 logrotate 的全局配置文件(写了日志文件轮替规则)</span><br><span class="line"></span><br><span class="line"><span class="regexp">/etc/</span>logrotate.conf中的轮替规则适用于所有日志文件(除了单独指定轮替规则的日志文件)</span><br><span class="line">可以在<span class="regexp">/etc/</span>logrotate.conf对某些日志文件单独指定轮替规则</span><br><span class="line">也可以把对某些日志文件单独指定的轮替规则写在<span class="regexp">/etc/</span>logrotate.d目录下，然后在<span class="regexp">/etc/</span>logrotate.conf 中include调用</span><br><span class="line"></span><br><span class="line"><span class="regexp">/etc/</span>logrotate.conf文件内容：</span><br><span class="line">	<span class="comment"># rotate log files weekly---&gt;每周对日志文件进行一次轮替</span></span><br><span class="line">	weekly</span><br><span class="line">	</span><br><span class="line">	<span class="comment"># keep 4 weeks worth of backlogs---&gt;共保存 4 份日志文件，当建立新的日志文件时，旧的将会被删除</span></span><br><span class="line">	rotate <span class="number">4</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment"># create new (empty) log files after rotating old ones---&gt;创建新的空的日志文件，在日志轮替后</span></span><br><span class="line">	create</span><br><span class="line">	</span><br><span class="line">	<span class="comment"># use date as a suffix of the rotated file---&gt;使用日期作为日志轮替文件的后缀</span></span><br><span class="line">	dateext</span><br><span class="line">	</span><br><span class="line">	<span class="comment"># uncomment this if you want your log files compressed---&gt;日志文件是否压缩。如果取消注释，则日志会在转储的同时进行压缩</span></span><br><span class="line">	<span class="comment">#compress</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">#RPM packages drop log rotation information into this directory </span></span><br><span class="line">	include <span class="regexp">/etc/</span>logrotate.d---&gt;可以把一些单独的轮替规则写在<span class="regexp">/etc/</span>logrotate.d下(在本文件中include调用一下就行)，也可以写在本文件中(如下面写的)</span><br><span class="line">	</span><br><span class="line">	<span class="comment">#下面是单独设置，优先级更高。</span></span><br><span class="line">	<span class="comment"># no packages own wtmp and btmp -- we&#x27;ll rotate them here</span></span><br><span class="line">	<span class="regexp">/var/</span>log/wtmp &#123;</span><br><span class="line">		monthly					 <span class="comment"># 每月对日志文件进行一次轮替</span></span><br><span class="line">		create <span class="number">0664</span> root utmp 	 <span class="comment"># 建立的新日志文件，权限是 0664  ，所有者是 root ，所属组是 utmp 组</span></span><br><span class="line">		minsize <span class="number">1</span>M				 <span class="comment"># 日志文件最小轮替大小是 1MB 。也就是日志一定要超过 1MB 才会轮替，否则就算时间达到一个月，也不进行日志转储</span></span><br><span class="line">		rotate <span class="number">1</span> 				 <span class="comment"># 仅保留一个日志备份。也就是只有 wtmp  和 wtmp.1  日志保留而已</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="regexp">/var/</span>log/btmp &#123;</span><br><span class="line">		missingok 				 <span class="comment"># 如果日志不存在，则忽略该日志的警告信息</span></span><br><span class="line">		monthly</span><br><span class="line">		create <span class="number">0600</span> root utmp rotate <span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	单独指定某个日志文件的轮替规则的参数说明：</span><br><span class="line">		daily					日志的轮替周期是每天</span><br><span class="line">		weekly					日志的轮替周期是每周</span><br><span class="line">		monthly					日志的轮替周期是每月</span><br><span class="line">		rotate 数字				保留的日志文件的个数。<span class="number">0</span> 指没有备份</span><br><span class="line">		compress				日志轮替时，旧的日志进行压缩</span><br><span class="line">		create mode owner group	建立新日志，同时指定新日志的权限与所有者和所属组。</span><br><span class="line">		mail address			当日志轮替时，输出内容通过邮件发送到指定的邮件地址。</span><br><span class="line">		missingok				如果日志不存在，则忽略该日志的警告信息</span><br><span class="line">		notifempty				如果日志为空文件，则不进行日志轮替</span><br><span class="line">		minsize 大小				日志轮替的最小值。也就是日志一定要达到这个最小值才会轮替，否则就算时间达到也不轮替</span><br><span class="line">		size 大小				日志只有大于指定大小才进行日志轮替，而不是按照时间轮替。</span><br><span class="line">		dateext					使用日期作为日志轮替文件的后缀。</span><br><span class="line">		sharedscripts			在此关键字之后的脚本只执行一次。</span><br><span class="line">		prerotate/endscript		在日志轮替之前执行脚本命令。</span><br><span class="line">		postrotate/endscript	在日志轮替之后执行脚本命令。</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230611135133585.png" alt="image-20230611135133585"></p>
<p>也可以写在/etc/logrotate.d目录下</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230611135313506.png" alt="image-20230611135313506"></p>
<h3 id="21-4-4-把自己的日志加入日志轮替">21.4.4.把自己的日志加入日志轮替</h3>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>)	第一种方法：</span><br><span class="line">		直接在<span class="regexp">/etc/</span>logrotate.conf 配置文件中写入该日志的轮替策略</span><br><span class="line"><span class="number">2</span>)	第二种方法：</span><br><span class="line">		在<span class="regexp">/etc/</span>logrotate.d/目录中新建立该日志的轮替文件，在该轮替文件中写入正确的轮替策略，因为该目录中的文件都会被“<span class="keyword">include</span>”到主配置文件中，所以也可以把日志加入轮替。</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>)	推荐使用第二种方法，因为系统中需要轮替的日志非常多，如果全都直接写 入<span class="regexp">/etc/</span>logrotate.conf 配置文件，那么这个文件的可管理性就会非常差，不利于此文件的维护。</span><br><span class="line"><span class="number">123456</span></span><br></pre></td></tr></table></figure>
<h3 id="21-4-5-应用实例">21.4.5.应用实例</h3>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">案例：在<span class="regexp">/etc/</span>logrotate.conf 进行配置, 或者直接在 <span class="regexp">/etc/</span>logrotate.d/ 下创建文件 hsplog  </span><br><span class="line">编写如下内容,	具体轮替的效果 可以参考 <span class="regexp">/var/</span>log  下的 boot.log 情况.</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202377668c531efd4a0490f8457e2f06fae3.bmp" alt="在这里插入图片描述"></p>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">在 <span class="regexp">/etc/</span>logrotate.d/ 下创建文件 hsplog  </span><br><span class="line">vim  hsplog  </span><br><span class="line">写入：</span><br><span class="line">	<span class="regexp">/var/</span>log/hsp.log</span><br><span class="line">	&#123;</span><br><span class="line">		missingok</span><br><span class="line">		daily</span><br><span class="line">		copytruncate</span><br><span class="line">		rotate <span class="number">1</span></span><br><span class="line">		notifempty</span><br><span class="line">	&#125;</span><br><span class="line">	保存退出</span><br><span class="line"></span><br><span class="line">这样就好了，因为<span class="regexp">/etc/</span>logrotate.conf 中有：<span class="keyword">include</span> <span class="regexp">/etc/</span>logrotate.d</span><br><span class="line"><span class="number">1234567891011121314</span></span><br></pre></td></tr></table></figure>
<h2 id="21-5-日志轮替机制原理">21.5.日志轮替机制原理</h2>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">日志轮替之所以可以在指定的时间备份日志，是依赖系统定时任务。</span><br><span class="line">在 <span class="regexp">/etc/</span>cron.daily/目录，就会发现这个目录中是有 logrotate 文件(可执行)，</span><br><span class="line">logrotate 通过这个文件依赖定时任务执行的。</span><br><span class="line"></span><br><span class="line">crond定时后台程序会定时执行cron.daily内的文件</span><br><span class="line">logrotate 文件在cron.daily下</span><br><span class="line">所以也会定时执行文件中的轮替规则</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">写日志是rsyslogd</span><br><span class="line">日志轮替是logrotate</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230611141413007.png" alt="image-20230611141413007"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230611141445295.png" alt="image-20230611141445295"></p>
<h2 id="21-6-查看内存日志">21.6.查看内存日志</h2>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">有一些日志是写到内存里的，还没有写到文件里，因为这些日志是实时变化的</span><br><span class="line">重启之后内存日志会被清空</span><br><span class="line"></span><br><span class="line">查看内存日志指令：journalctl</span><br><span class="line">journalctl				查看全部</span><br><span class="line">journalctl -n 3			查看最新 3 条</span><br><span class="line">journalctl --since 19:00	--until 19:10:10	查看起始时间到结束时间的日志可加日期</span><br><span class="line">journalctl -p err		报错日志</span><br><span class="line">journalctl -o verbose	日志详细内容</span><br><span class="line">journalctl <span class="attribute">_PID</span>=1245 <span class="attribute">_COMM</span>=sshd	查看包含这些参数的日志（在详细日志查看） 或者 journalctl |	grep sshd</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">注意: journalctl	查看的是内存日志, 重启清空</span><br><span class="line"></span><br><span class="line">演示案例:</span><br><span class="line">使用 journalctl | grep sshd	来看看用户登录清空, 重启系统，再次查询，看看日志有什么变化没有</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230611141914561.png" alt="image-20230611141914561"></p>
<h1>Linux 高级篇-定制自己的 Linux 系统</h1>
<h2 id="22-1-基本介绍">22.1.基本介绍</h2>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">通过裁剪现有 Linux 系统(CentOS7<span class="number">.6</span>)，创建属于自己的 <span class="built_in">min</span> Linux 小系统</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<h2 id="22-2-基本原理">22.2.基本原理</h2>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">启动流程介绍：</span><br><span class="line">制作 Linux 小系统之前，再了解一下 Linux 的启动流程：</span><br><span class="line"><span class="number">1</span>、首先 Linux 要通过自检，检查硬件设备有没有故障</span><br><span class="line"><span class="number">2</span>、如果有多块启动盘的话，需要在 BIOS 中选择启动磁盘</span><br><span class="line"><span class="number">3</span>、启动 MBR 中的 bootloader 引导程序</span><br><span class="line"><span class="number">4</span>、加载内核文件</span><br><span class="line"><span class="number">5</span>、执行所有进程的父进程、老祖宗 systemd</span><br><span class="line"><span class="number">6</span>、欢迎界面</span><br><span class="line"></span><br><span class="line">在 Linux 的启动流程中，加载内核文件时关键文件：</span><br><span class="line"><span class="number">1</span>）kernel 文件:	vmlinuz-<span class="number">3.10</span>.<span class="number">0</span>-<span class="number">957</span><span class="selector-class">.el7</span><span class="selector-class">.x86_64</span></span><br><span class="line"><span class="number">2</span>）initrd 文件:  initramfs-<span class="number">3.10</span>.<span class="number">0</span>-<span class="number">957</span><span class="selector-class">.el7</span><span class="selector-class">.x86_64</span><span class="selector-class">.img</span></span><br><span class="line"><span class="number">123456789101112</span></span><br></pre></td></tr></table></figure>
<h2 id="22-3-制作-min-linux-思路分析">22.3.制作 min linux 思路分析</h2>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.在现有的 Linux 系统(centos7.<span class="number">6</span>)上加一块硬盘<span class="regexp">/dev/</span>sdb</span><br><span class="line">  在硬盘上分两个分区，一个是<span class="regexp">/boot，一个是/</span>，并将其格式化。</span><br><span class="line">  需要明确的是，现在加的这个硬盘在现有的 Linux 系统中是<span class="regexp">/dev/</span>sdb，但是，当我们把东西全部设置好时，要把这个硬盘拔除，放在新系统上，此时，就是<span class="regexp">/dev/</span>sda</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.在<span class="regexp">/dev/</span>sdb 硬盘上，将其打造成独立的 Linux 系统，里面的所有文件是需要拷贝进去的</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.作为能独立运行的 Linux 系统，内核是一定不能少，要把内核kernel 文件和 initramfs 文件也一起拷到<span class="regexp">/dev/</span>sdb 上</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>.以上步骤完成，我们的自制 Linux 就完成，创建一个新的 linux 虚拟机，将其硬盘指向我们创建的硬盘，启动即可</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>.示意图</span><br><span class="line"><span class="number">1234567891011</span></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230611143340045.png" alt="image-20230611143340045"></p>
<h2 id="22-4-操作步骤">22.4.操作步骤</h2>
<ol>
<li>首先，我们在现有的linux添加一块大小为20G的硬盘</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202356ebed17b2fe4d258645ddbf44069a4a.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Edgyugcy-1659016464933)(../../../Pictures/Linux/wps1-16590160625644.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023aa5b6398b92c464bb8c44a5fca05fbe3.jpeg" alt="在这里插入图片描述"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023155111aad04d45ac9b27466e87b80424.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-pIG9BUdl-1659016464933)(../../../Pictures/Linux/wps3-16590160625632.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d74629366f614576adabb155794b773e.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-mxrDRrX4-1659016464933)(../../../Pictures/Linux/wps4-16590160625643.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202315653f9873064a6ca947e4e4aef1f6d5.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-LmvNxczU-1659016464934)(../../../Pictures/Linux/wps5-16590160625645.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023db51f769776e4bba9e132e5c085e3324.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-37wWXZmh-1659016464934)(../../../Pictures/Linux/wps6.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20233522bc2049cf43f189ad36b95f18aa22.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-RAfeKdgK-1659016464934)(../../../Pictures/Linux/wps7.jpg)]"></p>
<p>点击完成，就OK了， 可以使用 <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=lsblk&amp;spm=1001.2101.3001.7020">lsblk</a> 查看，需要重启</p>
<ol>
<li>添加完成后，点击确定，然后启动现有的linux(centos7.6)。 通过fdisk来给我们的/dev/sdb进行分区</li>
</ol>
<figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">1 </span>[root@localhost ~]# fdisk /dev/sdb</span><br><span class="line"><span class="symbol">2 </span>Device contains neither a valid DOS partition table, nor Sun, SGI <span class="keyword">or</span> OSF disklabel</span><br><span class="line"><span class="symbol">3 </span>Building a <span class="keyword">new</span> DOS disklabel with disk identifier <span class="number">0</span>x4fde4cd0. </span><br><span class="line"><span class="symbol">4 </span>Changes will <span class="comment">remain in memory only, until you decide to write them. </span></span><br><span class="line"><span class="symbol">5 </span>After that, of course, the previous content won<span class="comment">&#x27;t be recoverable.</span></span><br><span class="line"><span class="symbol">6 </span></span><br><span class="line"><span class="symbol">7 </span></span><br><span class="line"><span class="symbol">8 </span>Warning: invalid flag <span class="number">0</span>x0000 of partition table <span class="number">4</span> will be corrected by w(rite) </span><br><span class="line"><span class="symbol">9 </span></span><br><span class="line"><span class="symbol">10 </span></span><br><span class="line"><span class="symbol">11 </span>WARNING: DOS-compatible mode is deprecated. It<span class="comment">&#x27;s strongly recommended to</span></span><br><span class="line"><span class="symbol">12 </span>switch <span class="keyword">off</span> the mode (command <span class="comment">&#x27;c&#x27;) and change display units to</span></span><br><span class="line"><span class="symbol">13 </span>sectors (command <span class="comment">&#x27;u&#x27;).</span></span><br><span class="line"><span class="symbol">14 </span><span class="number">15</span> <span class="number">16</span> Command (m <span class="keyword">for</span> help): n</span><br><span class="line"><span class="symbol">17 </span>Command action</span><br><span class="line"><span class="symbol">18 </span>e extended</span><br><span class="line"><span class="symbol">19 </span>p primary partition (<span class="number">1</span>-<span class="number">4</span>)</span><br><span class="line"><span class="symbol">20 </span>p</span><br><span class="line"><span class="symbol">21 </span>Partition number (<span class="number">1</span>-<span class="number">4</span>): <span class="number">1</span></span><br><span class="line"><span class="symbol">22 </span>First cylinder (<span class="number">1</span>-<span class="number">2610</span>, default <span class="number">1</span>):</span><br><span class="line"><span class="symbol">23 </span><span class="keyword">Using</span> default value <span class="number">1</span></span><br><span class="line"><span class="symbol">24 </span>Last cylinder, +cylinders <span class="keyword">or</span> +size&#123;K,M,G&#125; (<span class="number">1</span>-<span class="number">2610</span>, default <span class="number">2610</span>): ***\*+\*******\*<span class="number">5</span>\*******\*<span class="number">00</span>M\****</span><br><span class="line"><span class="symbol">25 </span></span><br><span class="line"><span class="number">26</span></span><br><span class="line"><span class="symbol">27 </span>Command (m <span class="keyword">for</span> help): n</span><br><span class="line"><span class="symbol">28 </span>Command action29 e extended</span><br><span class="line"><span class="symbol">30 </span>p primary partition (<span class="number">1</span>-<span class="number">4</span>)</span><br><span class="line"><span class="symbol">31 </span>p</span><br><span class="line"><span class="symbol">32 </span>Partition number (<span class="number">1</span>-<span class="number">4</span>): <span class="number">2</span></span><br><span class="line"><span class="symbol">33 </span>First cylinder (<span class="number">15</span>-<span class="number">2610</span>, default <span class="number">15</span>):</span><br><span class="line"><span class="symbol">34 </span><span class="keyword">Using</span> default value <span class="number">15</span></span><br><span class="line"><span class="symbol">35 </span>Last cylinder, +cylinders <span class="keyword">or</span> +size&#123;K,M,G&#125; (<span class="number">15</span>-<span class="number">2610</span>, default <span class="number">2610</span>):</span><br><span class="line"><span class="symbol">36 </span><span class="keyword">Using</span> default value <span class="number">261037</span> #查看分区<span class="number">38</span> Command (m <span class="keyword">for</span> help): p</span><br><span class="line"><span class="symbol">39 </span></span><br><span class="line"><span class="number">40</span></span><br><span class="line"><span class="symbol">41 </span>Disk /dev/sdb: <span class="number">21.5</span> GB, <span class="number">21474836480</span> bytes</span><br><span class="line"><span class="symbol">42 </span><span class="number">255</span> heads, <span class="number">63</span> sectors/track, <span class="number">2610</span> cylinders</span><br><span class="line"><span class="symbol">43 </span>Units = cylinders of <span class="number">16065</span> * <span class="number">512</span> = <span class="number">8225280</span> bytes</span><br><span class="line"><span class="symbol">44 </span>Sector size (logical/physical): <span class="number">512</span> bytes / <span class="number">512</span> bytes</span><br><span class="line"><span class="symbol">45 </span>I/O size (minimum/optimal): <span class="number">512</span> bytes / <span class="number">512</span> bytes</span><br><span class="line"><span class="symbol">46 </span>Disk identifier: <span class="number">0</span>x4fde4cd0</span><br><span class="line"><span class="symbol">47 </span></span><br><span class="line"><span class="symbol">48 </span></span><br><span class="line"><span class="symbol">49 </span>Device Boot Start <span class="keyword">End</span> Blocks Id <span class="keyword">System</span></span><br><span class="line"><span class="symbol">50 </span>/dev/sdb1 <span class="number">1</span> <span class="number">14</span> <span class="number">112423</span>+ <span class="number">83</span> Linux</span><br><span class="line"><span class="symbol">51 </span>/dev/sdb2 <span class="number">15</span> <span class="number">2610</span> <span class="number">20852370</span> <span class="number">83</span> Linux</span><br><span class="line"><span class="symbol">52 </span>#保存并退出</span><br><span class="line"><span class="symbol">53 </span>Command (m <span class="keyword">for</span> help): w</span><br><span class="line"><span class="symbol">54 </span>The partition table has been altered! </span><br><span class="line"><span class="number">12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849</span></span><br></pre></td></tr></table></figure>
<ol>
<li>接下来，我们对/dev/sdb的分区进行格式化</li>
</ol>
<p>[root@localhost ~]# <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=mkfs&amp;spm=1001.2101.3001.7020">mkfs</a>.ext4 /dev/sdb1</p>
<p>[root@localhost ~]# mkfs.ext4 /dev/sdb2</p>
<ol>
<li>创建目录，并挂载新的磁盘</li>
</ol>
<p>#mkdir -p /mnt/boot /mnt/sysroot</p>
<p>#mount /dev/sdb1 /mnt/boot</p>
<p>#mount /dev/sdb2 /mnt/sysroot/</p>
<ol>
<li>安装grub, 内核文件拷贝至目标磁盘</li>
</ol>
<p>#grub2-install --root-directory=/mnt /dev/sdb</p>
<p>#我们可以来看一下二进制确认我们是否安装成功</p>
<p>#hexdump -C -n 512 /dev/sdb</p>
<p>#cp -rf /boot/* /mnt/boot/</p>
<ol>
<li>修改 grub2/grub.cfg 文件, 标红的部分 是需要使用 指令来查看的</li>
</ol>
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-OSRjCOhS-1659016464934)(…/…/…/Pictures/Linux/wps8.jpg)] 在grub.cfg文件中 , 红色部分用 上面 sdb1 的 UUID替换，蓝色部分用 sdb2的UUID来替换, 紫色部分是添加的，表示selinux给关掉，同时设定一下init，告诉内核不要再去找这个程序了，不然开机的时候会出现错误的</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232f254351906d4985962586df7c5cec18.png" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-YiyfO80L-1659016464935)(../../../Pictures/Linux/QQ%E5%9B%BE%E7%89%8720220728215211.png)]"></p>
<ol>
<li>创建目标主机根文件系统</li>
</ol>
<p>#mkdir -pv /mnt/sysroot/{etc/rc.d,usr,var,proc,sys,dev,lib,lib64,bin,sbin,boot,srv,mnt,media,home,root}</p>
<ol>
<li>拷贝需要的bash(也可以拷贝你需要的指令)和库文件给新的系统使用</li>
</ol>
<p>#cp /lib64/<em>.</em> /mnt/sysroot/lib64/</p>
<p>#cp /bin/bash /mnt/sysroot/bin/</p>
<ol>
<li>现在我们就可以创建一个新的虚拟机，然后将默认分配的硬盘 移除掉，指向我们刚刚创建的磁盘即可.</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20233f2f88eda90b43b2b07d4f0045f8f8a4.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2SixoQJN-1659016464935)(../../../Pictures/Linux/wps9.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023908aaf1caa21402a8e2c50f9c46f4170.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-2hFhRSA2-1659016464935)(../../../Pictures/Linux/wps10.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202386c7c24cf74f448d89f74b1e317efa5d.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-Bd9jIKxF-1659016464935)(../../../Pictures/Linux/wps11.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20236b1caa596fe04067885dfbfdafdbf351.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-1paMP4bO-1659016464936)(../../../Pictures/Linux/wps12.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f2a7dc63a57242a7836e92a30a57a67c.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-0R1ziBTC-1659016464936)(../../../Pictures/Linux/wps13.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ddac0517617c49c1a4b3532a9ec24c34.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-B99lSfuy-1659016464936)(../../../Pictures/Linux/wps14.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023cc62c852136c427d8bb3a86a8374079d.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-XxXA3Eog-1659016464937)(../../../Pictures/Linux/wps15.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202335fc9b702bfd4a4c9080b0e2b23d5858.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-VYebY6ka-1659016464937)(../../../Pictures/Linux/wps16.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b74d9960d5d946feb6bbe4290bbb4cb2.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-3L320UJR-1659016464937)(../../../Pictures/Linux/wps17.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023b7e314e888ba4178b68757c77db8f604.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-uTb4l5FP-1659016464937)(../../../Pictures/Linux/wps18.jpg)]"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202353033b92af524bbb8f41488c9e8bad7b.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-g7BNVp37-1659016464938)(../../../Pictures/Linux/wps19.jpg)]"></p>
<ol>
<li>这时，很多指令都不能使用，比如 ls , reboot 等，可以将需要的指令拷贝到对应的目录即可</li>
<li>如果要拷贝指令，*<em><strong>重新进入到原来的 linux系统拷贝相应的指令即可*</strong></em>，比较将 /bin/ls 拷贝到 /mnt/sysroot/bin 将/sbin/reboot 拷贝到 /mnt/sysroot/sbin</li>
</ol>
<p>root@hspedu100 ~]# mount /dev/sdb2 /mnt/sysroot/</p>
<p>[root@hspedu100 ~]# cp /bin/ls /mnt/sysroot/bin/</p>
<p>[root@hspedu100 ~]# cp /bin/systemctl /mnt/sysroot/bin/</p>
<p>[root@hspedu100 ~]# cp /sbin/reboot /mnt/sysroot/sbin/</p>
<ol>
<li>再重新启动新的min linux系统，就可以使用 ls , reboot 指令了</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ca57ea4d25a44e14af3e123576d59c81.jpeg" alt="[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-6W6868xA-1659016464938)(../../../Pictures/Linux/wps20.jpg)]"></p>
<h1>linux 系统-备份与恢复</h1>
<h2 id="24-1-基本介绍">24.1.基本介绍</h2>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">虚拟机可以做快照。</span><br><span class="line">实体机无法做快照，如果系统出现异常或者数据损坏，后果严重，要重做系统，还会造成数据丢失。</span><br><span class="line">所以我们可以使用备份和恢复技术</span><br><span class="line"></span><br><span class="line">linux 的备份和恢复很简单，有两种方式：</span><br><span class="line">(<span class="number">1</span>)	把需要的文件(或者分区)用 TAR 打包就行，下次需要恢复的时候，再解压开覆盖即可</span><br><span class="line">(<span class="number">2</span>)	使用 dump 和 restore 命令</span><br><span class="line"><span class="number">1234567</span></span><br></pre></td></tr></table></figure>
<h2 id="24-2-安装-dump-和-restore">24.2.安装 dump 和 restore</h2>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">如果 linux 上没有 dump  和 restore 指令，要先安装</span><br><span class="line">yum -y <span class="keyword">install</span> dump </span><br><span class="line">yum -y <span class="keyword">install</span> restore</span><br><span class="line"><span class="number">123</span></span><br></pre></td></tr></table></figure>
<h2 id="24-3-使用-dump-完成备份">24.3.使用 dump 完成备份</h2>
<figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.基本介绍：</span><br><span class="line"><span class="keyword">dump</span> 支持分卷和增量备份（所谓增量备份是指备份 上次备份后，修改/增加过的文件，也称差异备份）</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.语法说明：</span><br><span class="line"><span class="keyword">dump</span> [-cu] [-<span class="number">123456789</span>]	[-f &lt;备份后文件名&gt;] [-T &lt;日期&gt;] [要备份的目录或文件系统] </span><br><span class="line"><span class="keyword">dump</span> [] -wW</span><br><span class="line"></span><br><span class="line">选项说明：</span><br><span class="line">	-c 					创建新的归档文件，并将由一个或多个文件参数所指定的内容写入归档文件的开头。</span><br><span class="line">	-<span class="number">0123456789</span> 		备份的层级。<span class="number">0</span> 为最完整备份，会备份所有文件。若指定 <span class="number">0</span> 以上的层级，则备份至上一次备份以来修改或新增的文件，到 <span class="number">9</span> 后，可以再次轮替.</span><br><span class="line">	-f &lt;备份后文件名&gt; 	指定备份后文件名</span><br><span class="line">	-j					调用 bzlib 库压缩备份文件，也就是将备份后的文件压缩成 bz2 格式，让文件更小</span><br><span class="line">	-T &lt;日期&gt; 			指定开始备份的时间与日期</span><br><span class="line">	-u 					备份完毕后，在<span class="regexp">/etc/</span>dumpdares 中记录备份的文件系统，层级，日期与时间等。</span><br><span class="line">	-t  				指定文件名，若该文件已存在备份文件中，则列出名称</span><br><span class="line">	-W 					显示需要备份的文件及其最后一次备份的层级，时间，日期。</span><br><span class="line">	-w 					与-W 类似，但仅显示需要备份的文件。</span><br><span class="line"></span><br><span class="line">进行增量备份/备份层级要加-u，因为-u可以记录层级</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.案例</span><br><span class="line">案例 <span class="number">1</span>：将<span class="regexp">/boot 分区所有内容备份到/</span>opt/boot.bak0.bz2 文件中，备份层级为“<span class="number">0</span>”</span><br><span class="line"><span class="keyword">dump</span> -<span class="number">0</span>uj -f <span class="regexp">/opt/</span>boot.bak0.bz2	/boot</span><br><span class="line">/boot 要备份的分区</span><br><span class="line"></span><br><span class="line">案例 <span class="number">2</span>：在/boot 目录下增加新文件，备份层级为“<span class="number">1</span>”(只备份上次使用层次“<span class="number">0</span>”备份后发生过改变的数据), 注意比较看看这次生成的备份文件 boot1.bak  有多大</span><br><span class="line"><span class="keyword">dump</span> -<span class="number">1</span>uj -f <span class="regexp">/opt/</span>boot.bak1.bz2 /boot</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意：通过 <span class="keyword">dump</span> 命令在配合 crontab 可以实现无人值守备份</span><br><span class="line">写一个脚本</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">4</span>. 显示需要备份的文件及其最后一次备份的层级，时间，日期</span><br><span class="line"><span class="keyword">dump</span> -W</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">5</span>.查看备份时间文件</span><br><span class="line">cat <span class="regexp">/etc/</span>dumpdates</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="number">6</span>.<span class="keyword">dump</span> 备份文件或者目录</span><br><span class="line">前面我们在备份分区时，是可以支持增量备份的，</span><br><span class="line">如果备份文件或者目录，不再支持增量备份, 即只能使用 <span class="number">0</span> 级别备份(-u不能写)</span><br><span class="line"></span><br><span class="line">案例：使用 <span class="keyword">dump</span> 备份 /etc 整个目录</span><br><span class="line"><span class="keyword">dump</span> -<span class="number">0</span>j -f <span class="regexp">/opt/</span>etc.bak.bz2 <span class="regexp">/etc/</span> </span><br><span class="line"></span><br><span class="line">#下面这条语句会报错，提示 <span class="keyword">DUMP</span>: Only level <span class="number">0</span> dumps are allowed on a subdirectory </span><br><span class="line"><span class="keyword">dump</span> -<span class="number">1</span>j -f <span class="regexp">/opt/</span>etc.bak.bz2 <span class="regexp">/etc/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">注意：如果要备份重要的文件，比如数据区，建议将文件上传到其它服务器保存，不要将鸡蛋放在同一个篮子。</span><br><span class="line"><span class="number">1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253</span></span><br></pre></td></tr></table></figure>
<h2 id="24-4-使用-restore-完成恢复">24.4.使用 restore 完成恢复</h2>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.基本介绍：</span><br><span class="line">restore 命令用来恢复已备份的文件，可以从 dump 生成的备份文件中恢复原文件</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.基本语法：</span><br><span class="line">restore	[模式选项] [选项]</span><br><span class="line"></span><br><span class="line">模式选项说明：不能混用，在一次命令中，只能指定一种。</span><br><span class="line">	-C	使用对比模式，将备份的文件与已存在的文件相互对比，看看是否存在差异</span><br><span class="line">	-i	使用交互模式，在进行还原操作时，restore 指令将依序询问用户</span><br><span class="line">	-r	进行还原模式 （一般用这个）</span><br><span class="line">	-t 	查看模式，看备份文件有哪些文件</span><br><span class="line">	</span><br><span class="line">选项</span><br><span class="line">-f &lt;备份设备&gt; 	从指定的文件中读取备份数据，进行还原操作</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.案例：</span><br><span class="line">案例 <span class="number">1</span>：restore 命令比较模式，比较备份文件和原文件的区别测试</span><br><span class="line">mv <span class="regexp">/boot/</span>hello.java <span class="regexp">/boot/</span>hello100.java</span><br><span class="line">restore -C -f boot.bak1.bz2	<span class="regexp">//</span>注意和 最新的文件比较</span><br><span class="line"></span><br><span class="line">mv <span class="regexp">/boot/</span>hello100.java <span class="regexp">/boot/</span>hello.java </span><br><span class="line">restore -C -f boot.bak1.bz2</span><br><span class="line"> </span><br><span class="line">案例 <span class="number">2</span>：restore 命令查看模式，看备份文件有哪些数据/文件</span><br><span class="line">restore -t -f boot.bak0.bz2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例 <span class="number">3</span>：restore 命令还原模式</span><br><span class="line">注意细节：如果你有增量备份，需要把增量备份文件也进行恢复，有几个增量备份文件，就要恢复几个，按顺序来恢复即可。</span><br><span class="line">mkdir <span class="regexp">/opt/</span>boottmp </span><br><span class="line">cd <span class="regexp">/opt/</span>boottmp</span><br><span class="line">restore -r -f <span class="regexp">/opt/</span>boot.bak0.bz2 <span class="regexp">//</span>恢复到第 <span class="number">1</span> 次完全备份状态</span><br><span class="line">restore -r -f <span class="regexp">/opt/</span>boot.bak1.bz2 <span class="regexp">//</span>恢复到第 <span class="number">2</span> 次增量备份状态</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">案例 <span class="number">4</span>：restore 命令恢复备份的文件，或者整个目录的文件</span><br><span class="line">基本语法： restore -r -f 备份好的文件</span><br><span class="line"></span><br><span class="line">[root@hspedu100 opt]<span class="comment"># mkdir etctmp </span></span><br><span class="line">[root@hspedu100 opt]<span class="comment"># cd etctmp/</span></span><br><span class="line">[root@hspedu100 etctmp]<span class="comment"># restore -r -f /opt/etc.bak0.bz2</span></span><br></pre></td></tr></table></figure>
<h1>Linux部分源码解读</h1>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230611152320376.png" alt="image-20230611152320376"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230611152407028.png" alt="image-20230611152407028"></p>
<h1>数据备份与恢复</h1>
<h2 id="dump备份">dump备份</h2>
<h3 id="一、命令简介">一、命令简介</h3>
<p>Linux <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=dump&amp;spm=1001.2101.3001.7020">dump</a>命令用于备份文件系统。dump为备份工具程序，可将目录或整个文件系统备份至指定的设备，或备份成一个大文件。dump命令只可以备份ext2/3/4格式的文件系统，centos7默认未安装dump命令，可以使用yum install -y dump安装此命令。</p>
<h3 id="二、使用示例">二、使用示例</h3>
<h4 id="1、全量备份-boot分区">1、全量备份/boot分区</h4>
<blockquote>
<p>[root@s135 ~]# dump -0uj -f /root/boot.bak.bz2 /boot/<br>
DUMP: Date of this level 0 dump: Fri Jul 30 16:10:06 2021<br>
DUMP: Dumping /dev/sda1 (/boot) to /root/boot.bak.bz2<br>
DUMP: Label: none<br>
DUMP: Writing 10 Kilobyte records<br>
DUMP: Compressing output at compression level 2 (bzlib)<br>
DUMP: mapping (Pass I) [regular files]<br>
DUMP: mapping (Pass II) [directories]<br>
DUMP: estimated 115437 blocks.<br>
DUMP: Volume 1 started with block 1 at: Fri Jul 30 16:10:06 2021<br>
DUMP: dumping (Pass III) [directories]<br>
DUMP: dumping (Pass IV) [regular files]<br>
DUMP: Closing /root/boot.bak.bz2<br>
DUMP: Volume 1 completed at: Fri Jul 30 16:10:22 2021<br>
DUMP: Volume 1 took 0:00:16<br>
DUMP: Volume 1 transfer rate: 6656 kB/s<br>
DUMP: Volume 1 116040kB uncompressed, 106506kB compressed, 1.090:1<br>
DUMP: 116040 blocks (113.32MB) on 1 volume(s)<br>
DUMP: finished in 16 seconds, throughput 7252 kBytes/sec<br>
DUMP: Date of this level 0 dump: Fri Jul 30 16:10:06 2021<br>
DUMP: Date this dump completed: Fri Jul 30 16:10:22 2021<br>
DUMP: Average transfer rate: 6656 kB/s<br>
DUMP: Wrote 116040kB uncompressed, 106506kB compressed, 1.090:1<br>
DUMP: DUMP IS DONE<br>
[root@s135 ~]# ll -h /root/<br>
总用量 105M<br>
-rw-------. 1 root root 1.8K 7月 30 16:03 anaconda-ks.cfg<br>
-rw-r–r–. 1 root root 105M 7月 30 16:10 boot.bak.bz2<br>
[root@s135 ~]# df -hT<br>
文件系统 类型 容量 已用 可用 已用% 挂载点<br>
/dev/mapper/centos-root ext4 9.8G 1.2G 8.1G 13% /<br>
devtmpfs devtmpfs 908M 0 908M 0% /dev<br>
tmpfs tmpfs 919M 0 919M 0% /dev/shm<br>
tmpfs tmpfs 919M 8.5M 911M 1% /run<br>
tmpfs tmpfs 919M 0 919M 0% /sys/fs/cgroup<br>
/dev/sda1 ext4 976M 115M 795M 13% /boot<br>
/dev/mapper/centos-home ext4 17G 45M 16G 1% /home<br>
tmpfs tmpfs 184M 0 184M 0% /run/user/0</p>
</blockquote>
<h4 id="2、增量备份-boot分区">2、增量备份/boot分区</h4>
<blockquote>
<p>在/boot分区创建一个测试文件hi.txt<br>
[root@s135 ~]# cd /boot/<br>
[root@s135 boot]# touch hi.txt<br>
[root@s135 boot]# echo “this is a test” &gt; hi.txt<br>
然后增量备份/boot分区<br>
[root@s135 ~]# dump -1uj -f /root/boot.bak1.bz2 /boot/<br>
DUMP: Date of this level 1 dump: Fri Jul 30 16:17:15 2021<br>
DUMP: Date of last level 0 dump: Fri Jul 30 16:16:41 2021<br>
DUMP: Dumping /dev/sda1 (/boot) to /root/boot.bak1.bz2<br>
DUMP: Label: none<br>
DUMP: Writing 10 Kilobyte records<br>
DUMP: Compressing output at compression level 2 (bzlib)<br>
DUMP: mapping (Pass I) [regular files]<br>
DUMP: mapping (Pass II) [directories]<br>
DUMP: estimated 39 blocks.<br>
DUMP: Volume 1 started with block 1 at: Fri Jul 30 16:17:15 2021<br>
DUMP: dumping (Pass III) [directories]<br>
DUMP: dumping (Pass IV) [regular files]<br>
DUMP: Closing /root/boot.bak1.bz2<br>
DUMP: Volume 1 completed at: Fri Jul 30 16:17:15 2021<br>
DUMP: 40 blocks (0.04MB) on 1 volume(s)<br>
DUMP: finished in less than a second<br>
DUMP: Date of this level 1 dump: Fri Jul 30 16:17:15 2021<br>
DUMP: Date this dump completed: Fri Jul 30 16:17:15 2021<br>
DUMP: Average transfer rate: 0 kB/s<br>
DUMP: Wrote 40kB uncompressed, 11kB compressed, 3.637:1<br>
DUMP: DUMP IS DONE<br>
查看增量备份文件大小<br>
[root@s135 ~]# ll -h /root<br>
总用量 105M<br>
-rw-------. 1 root root 1.8K 7月 30 16:03 anaconda-ks.cfg<br>
-rw-r–r–. 1 root root 12K 7月 30 16:17 boot.bak1.bz2<br>
-rw-r–r–. 1 root root 105M 7月 30 16:10 boot.bak.bz2</p>
</blockquote>
<h4 id="3、查询分区的最新备份记录">3、查询分区的最新备份记录</h4>
<blockquote>
<p>[root@s135 ~]# dump -W<br>
Last dump(s) done (Dump ‘&gt;’ file systems):<br>
/dev/mapper/centos-root ( /) Last dump: never<br>
/dev/sda1 ( /boot) Last dump: Level 1, Date Fri Jul 30 16:17:15 2021<br>
/dev/mapper/centos-home ( /home) Last dump: never</p>
</blockquote>
<h4 id="4、备份文件或目录">4、备份文件或目录</h4>
<blockquote>
<p>备份文件和目录只能使用0级别，即只能全量备份。<br>
[root@s135 ~]# dump -0j -f /home/etc.dump.bz2 /etc/<br>
DUMP: Date of this level 0 dump: Fri Jul 30 16:23:29 2021<br>
DUMP: Dumping /dev/mapper/centos-root (/ (dir etc)) to /home/etc.dump.bz2<br>
DUMP: Label: none<br>
DUMP: Writing 10 Kilobyte records<br>
DUMP: Compressing output at compression level 2 (bzlib)<br>
DUMP: mapping (Pass I) [regular files]<br>
DUMP: mapping (Pass II) [directories]<br>
DUMP: estimated 35010 blocks.<br>
DUMP: Volume 1 started with block 1 at: Fri Jul 30 16:23:30 2021<br>
DUMP: dumping (Pass III) [directories]<br>
DUMP: dumping (Pass IV) [regular files]<br>
DUMP: Closing /home/etc.dump.bz2<br>
DUMP: Volume 1 completed at: Fri Jul 30 16:23:35 2021<br>
DUMP: Volume 1 took 0:00:05<br>
DUMP: Volume 1 transfer rate: 2470 kB/s<br>
DUMP: Volume 1 39190kB uncompressed, 12350kB compressed, 3.174:1<br>
DUMP: 39190 blocks (38.27MB) on 1 volume(s)<br>
DUMP: finished in 5 seconds, throughput 7838 kBytes/sec<br>
DUMP: Date of this level 0 dump: Fri Jul 30 16:23:29 2021<br>
DUMP: Date this dump completed: Fri Jul 30 16:23:35 2021<br>
DUMP: Average transfer rate: 2470 kB/s<br>
DUMP: Wrote 39190kB uncompressed, 12350kB compressed, 3.174:1<br>
DUMP: DUMP IS DONE</p>
</blockquote>
<h3 id="三、使用语法及参数说明">三、使用语法及参数说明</h3>
<h4 id="1、使用语法">1、使用语法</h4>
<blockquote>
<p>#dump [参数]</p>
</blockquote>
<h4 id="2、参数说明">2、参数说明</h4>
<table>
<thead>
<tr>
<th>常用参数</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-0123456789</td>
<td>备份的层级</td>
</tr>
<tr>
<td>-b</td>
<td>指定区块的大小，单位为KB</td>
</tr>
<tr>
<td>-B</td>
<td>指定备份卷册的区块数目</td>
</tr>
<tr>
<td>-c</td>
<td>修改备份磁带预设的密度与容量</td>
</tr>
<tr>
<td>-d</td>
<td>设置磁带的密度。单位为BPI</td>
</tr>
<tr>
<td>-f</td>
<td>指定备份设备</td>
</tr>
<tr>
<td>-h</td>
<td>当备份层级等于或大于指定的层级时，将不备份用户标示为”nodump”的文件</td>
</tr>
<tr>
<td>-j</td>
<td>使用bzlib库压缩备份文件</td>
</tr>
<tr>
<td>-n</td>
<td>当备份工作需要管理员介入时，向所有”operator”群组中的使用者发出通</td>
</tr>
<tr>
<td>-s</td>
<td>备份磁带的长度，单位为英尺</td>
</tr>
<tr>
<td>-T</td>
<td>指定开始备份的时间与日期</td>
</tr>
<tr>
<td>-u</td>
<td>备份完毕后，在/etc/dumpdates中记录备份的文件系统，层级，日期与时间等</td>
</tr>
<tr>
<td>-w</td>
<td>与-W类似，但仅显示需要备份的文件</td>
</tr>
<tr>
<td>-W</td>
<td>显示需要备份的文件及其最后一次备份的层级，时间与日期</td>
</tr>
</tbody>
</table>
<h2 id="restore恢复">restore恢复</h2>
<h3 id="一、命令简介-2">一、命令简介</h3>
<p>Linux restore命令用来还原由<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=dump&amp;spm=1001.2101.3001.7020">dump</a>操作所备份下来的文件或整个文件系统(一个分区)。restore 指令所进行的操作和dump指令相反，dump操作可用来备份文件，而restore操作则是写回这些已备份的文件。可以从完整或部分备份中恢复单个文件和目录子树。</p>
<h3 id="二、使用示例-2">二、使用示例</h3>
<h4 id="1、获取命令帮助">1、获取命令帮助</h4>
<blockquote>
<p>#restore --help或者man restore |more<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023c1242ca1938047479ec69480ea296559.png" alt="在这里插入图片描述"></p>
</blockquote>
<h4 id="2、比较数据变化">2、比较数据变化</h4>
<blockquote>
<p>比较变化参数-C只可以比较出更新或者删除的数据变化，在备份后新增的文件无法比较出来。<br>
[root@s135 ~]# restore -C -f boot.bak.bz2<br>
Dump tape is compressed.<br>
Dump date: Fri Jul 30 16:16:41 2021<br>
Dumped from: the epoch<br>
Level 0 dump of /boot on s135:/dev/sda1<br>
Label: none<br>
filesys = /boot<br>
[root@s135 ~]# rm -rf /boot/symvers-3.10.0-957.el7.x86_64.gz<br>
[root@s135 ~]# restore -C -f boot.bak.bz2<br>
Dump tape is compressed.<br>
Dump date: Fri Jul 30 16:16:41 2021<br>
Dumped from: the epoch<br>
Level 0 dump of /boot on s135:/dev/sda1<br>
Label: none<br>
filesys = /boot<br>
restore: unable to stat ./symvers-3.10.0-957.el7.x86_64.gz: No such file or directory<br>
Some files were modified! 1 compare errors</p>
</blockquote>
<h4 id="3、查看模式查看备份文件包含的文件内容">3、查看模式查看备份文件包含的文件内容</h4>
<blockquote>
<p>[root@s135 ~]# restore -t -f boot.bak.bz2<br>
Dump tape is compressed.<br>
Dump date: Fri Jul 30 16:16:41 2021<br>
Dumped from: the epoch<br>
Level 0 dump of /boot on s135:/dev/sda1<br>
Label: none<br>
2 .<br>
11 ./lost+found<br>
12 ./efi<br>
13 ./efi/EFI<br>
14 ./efi/EFI/centos<br>
8193 ./grub2<br>
24 ./grub2/device.map<br>
25 ./grub2/i386-pc<br>
27 ./grub2/i386-pc/testload.mod<br>
29 ./grub2/i386-pc/cbtable.mod<br>
31 ./grub2/i386-pc/normal.mod<br>
32 ./grub2/i386-pc/legacy_password_test.mod<br>
…<br>
22 ./initramfs-0-rescue-c0886fb731a041bb9fee61901f7b6427.img<br>
23 ./vmlinuz-0-rescue-c0886fb731a041bb9fee61901f7b6427<br>
333 ./initramfs-3.10.0-957.el7.x86_64kdump.img</p>
</blockquote>
<h4 id="4、全量备份还原">4、全量备份还原</h4>
<blockquote>
<p># restore -r -f /root/boot.bak.bz2全量备份还原<br>
[root@s135 boot]# ll<br>
总用量 106440<br>
-rw-r–r–. 1 root root 151918 11月 9 2018 config-3.10.0-957.el7.x86_64<br>
drwxr-xr-x. 3 root root 4096 7月 30 15:56 efi<br>
drwxr-xr-x. 2 root root 4096 7月 30 15:57 grub<br>
drwx------. 5 root root 4096 7月 30 16:03 grub2<br>
-rw-r–r–. 1 root root 15 7月 30 16:13 hi.txt<br>
-rw-------. 1 root root 57412428 7月 30 16:01 initramfs-0-rescue-c0886fb731a041bb9fee61901f7b6427.img<br>
-rw-------. 1 root root 21379638 7月 30 16:03 initramfs-3.10.0-957.el7.x86_64.img<br>
-rw-------. 1 root root 13176073 7月 30 16:05 initramfs-3.10.0-957.el7.x86_64kdump.img<br>
drwx------. 2 root root 16384 7月 30 15:56 lost+found<br>
-rw-------. 1 root root 3543471 11月 9 2018 System.map-3.10.0-957.el7.x86_64<br>
-rwxr-xr-x. 1 root root 6639904 7月 30 16:01 vmlinuz-0-rescue-c0886fb731a041bb9fee61901f7b6427<br>
-rwxr-xr-x. 1 root root 6639904 11月 9 2018 vmlinuz-3.10.0-957.el7.x86_64<br>
[root@s135 boot]# restore -r -f /root/boot.bak.bz2<br>
Dump tape is compressed.<br>
restore: ./lost+found: File exists<br>
restore: ./efi: File exists<br>
restore: ./efi/EFI: File exists<br>
restore: ./efi/EFI/centos: File exists<br>
restore: ./grub2: File exists<br>
restore: ./grub2/i386-pc: File exists<br>
restore: ./grub2/locale: File exists<br>
restore: ./grub2/fonts: File exists<br>
restore: ./grub: File exists<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023d6309fd0d8654aaab3d26087deb20b2e.png" alt="在这里插入图片描述"></p>
</blockquote>
<h4 id="5、增量备份还原">5、增量备份还原</h4>
<blockquote>
<p>#创建还原临时目录<br>
[root@s135 ~]# mkdir bootdir<br>
[root@s135 ~]# cd bootdir/<br>
#首先完成全量备份还原<br>
[root@s135 bootdir]# restore -r -f /root/boot.bak.bz2<br>
Dump tape is compressed.<br>
[root@s135 bootdir]# ll<br>
总用量 106876<br>
-rw-r–r–. 1 root root 151918 11月 9 2018 config-3.10.0-957.el7.x86_64<br>
drwxr-xr-x. 3 root root 4096 7月 30 15:56 efi<br>
drwxr-xr-x. 2 root root 4096 7月 30 15:57 grub<br>
drwx------. 5 root root 4096 7月 30 16:03 grub2<br>
-rw-------. 1 root root 57412428 7月 30 16:01 initramfs-0-rescue-c0886fb731a041bb9fee61901f7b6427.img<br>
-rw-------. 1 root root 21379638 7月 30 16:03 initramfs-3.10.0-957.el7.x86_64.img<br>
-rw-------. 1 root root 13176073 7月 30 16:05 initramfs-3.10.0-957.el7.x86_64kdump.img<br>
drwx------. 2 root root 4096 7月 30 15:56 lost+found<br>
-rw-------. 1 root root 144136 8月 2 10:41 restoresymtable<br>
-rw-r–r–. 1 root root 314036 11月 9 2018 symvers-3.10.0-957.el7.x86_64.gz<br>
-rw-------. 1 root root 3543471 11月 9 2018 System.map-3.10.0-957.el7.x86_64<br>
-rwxr-xr-x. 1 root root 6639904 7月 30 16:01 vmlinuz-0-rescue-c0886fb731a041bb9fee61901f7b6427<br>
-rwxr-xr-x. 1 root root 6639904 11月 9 2018 vmlinuz-3.10.0-957.el7.x86_64<br>
#然后还原增量备份<br>
[root@s135 bootdir]# restore -r -f /root/boot.bak1.bz2<br>
Dump tape is compressed.<br>
[root@s135 bootdir]# ll<br>
总用量 106880<br>
-rw-r–r–. 1 root root 151918 11月 9 2018 config-3.10.0-957.el7.x86_64<br>
drwxr-xr-x. 3 root root 4096 7月 30 15:56 efi<br>
drwxr-xr-x. 2 root root 4096 7月 30 15:57 grub<br>
drwx------. 5 root root 4096 7月 30 16:03 grub2<br>
-rw-r–r–. 1 root root 15 7月 30 16:13 hi.txt<br>
-rw-------. 1 root root 57412428 7月 30 16:01 initramfs-0-rescue-c0886fb731a041bb9fee61901f7b6427.img<br>
-rw-------. 1 root root 21379638 7月 30 16:03 initramfs-3.10.0-957.el7.x86_64.img<br>
-rw-------. 1 root root 13176073 7月 30 16:05 initramfs-3.10.0-957.el7.x86_64kdump.img<br>
drwx------. 2 root root 4096 7月 30 15:56 lost+found<br>
-rw-------. 1 root root 144208 8月 2 10:44 restoresymtable<br>
-rw-r–r–. 1 root root 314036 11月 9 2018 symvers-3.10.0-957.el7.x86_64.gz<br>
-rw-------. 1 root root 3543471 11月 9 2018 System.map-3.10.0-957.el7.x86_64<br>
-rwxr-xr-x. 1 root root 6639904 7月 30 16:01 vmlinuz-0-rescue-c0886fb731a041bb9fee61901f7b6427<br>
-rwxr-xr-x. 1 root root 6639904 11月 9 2018 vmlinuz-3.10.0-957.el7.x86_64</p>
</blockquote>
<h4 id="6、交互式模式下还原指定文件">6、交互式模式下还原指定文件</h4>
<blockquote>
<p>#创建还原临时目录<br>
[root@s135 ~]# mkdir bootdir<br>
#进入交互模式<br>
[root@s135 bootdir]# restore -i -f /root/boot.bak.bz2<br>
Dump tape is compressed.<br>
#获取交互式下的命令帮助<br>
restore &gt; help<br>
Available commands are:<br>
ls [arg] - list directory<br>
cd arg - change directory<br>
pwd - print current directory<br>
add [arg] - add <code>arg' to list of files to be extracted delete [arg] - delete</code>arg’ from list of files to be extracted<br>
extract - extract requested files<br>
setmodes - set modes of requested directories<br>
quit - immediately exit program<br>
what - list dump header information<br>
verbose - toggle verbose flag (useful with ``ls’’)<br>
prompt - toggle the prompt display<br>
help or <code>?' - print this list If no</code>arg’ is supplied, the current directory is used<br>
#列出备份文件中的内容<br>
restore &gt; ls<br>
.:<br>
.vmlinuz-3.10.0-957.el7.x86_64.hmac<br>
System.map-3.10.0-957.el7.x86_64<br>
config-3.10.0-957.el7.x86_64<br>
efi/<br>
grub/<br>
grub2/<br>
initramfs-0-rescue-c0886fb731a041bb9fee61901f7b6427.img<br>
initramfs-3.10.0-957.el7.x86_64.img<br>
initramfs-3.10.0-957.el7.x86_64kdump.img<br>
lost+found/<br>
symvers-3.10.0-957.el7.x86_64.gz<br>
vmlinuz-0-rescue-c0886fb731a041bb9fee61901f7b6427<br>
vmlinuz-3.10.0-957.el7.x86_64<br>
#将config-3.10.0-957.el7.x86_64文件添加到还原列表<br>
restore &gt; add config-3.10.0-957.el7.x86_64<br>
#开始原因<br>
restore &gt; extract<br>
You have not read any volumes yet.<br>
Unless you know which volume your file(s) are on you should start<br>
with the last volume and work towards the first.<br>
Specify next volume # (none if no more volumes): 1<br>
set owner/mode for ‘.’? [yn] n<br>
restore &gt; quit<br>
[root@s135 bootdir]# ls<br>
config-3.10.0-957.el7.x86_64</p>
</blockquote>
<h3 id="三、使用语法及参数说明-2">三、使用语法及参数说明</h3>
<h4 id="1、使用语法-2">1、使用语法</h4>
<blockquote>
<p>#restore [模式] [选项]</p>
</blockquote>
<h4 id="2、模式参数说明">2、模式参数说明</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-C</td>
<td>比较备份数据和实际数据的变化</td>
</tr>
<tr>
<td>-i</td>
<td>进入交互模式手动指定需要恢复的文件</td>
</tr>
<tr>
<td>-P</td>
<td>还原从现有转储文件创建新的快速文件访问文件，而不还原其内容</td>
</tr>
<tr>
<td>-R</td>
<td>全面还原文件系统时，检查应从何处开始进行。</td>
</tr>
<tr>
<td>-r</td>
<td>还原模式，用于数据还原</td>
</tr>
<tr>
<td>-t</td>
<td>查看模式，查看备份文件中的数据</td>
</tr>
<tr>
<td>-x</td>
<td>设置文件名称，且从指定的存储媒体里读入它们，若该文件已存在在备份文件中，则将其还原到文件系统内。</td>
</tr>
</tbody>
</table>
<h4 id="3、常用选项参数说明">3、常用选项参数说明</h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>参数说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-b&lt;区块大小&gt;</td>
<td>设置区块大小，单位是Byte。</td>
</tr>
<tr>
<td>-c</td>
<td>不检查dump操作的备份格式，仅准许读取使用旧格式的备份文件。</td>
</tr>
<tr>
<td>-D&lt;文件系统&gt;</td>
<td>允许用户指定文件系统的名称。</td>
</tr>
<tr>
<td>-f&lt;备份文件&gt;</td>
<td>从指定的文件中读取备份数据，进行还原操作。</td>
</tr>
<tr>
<td>-h</td>
<td>仅解出目录而不包括与该目录相关的所有文件。</td>
</tr>
<tr>
<td>-m</td>
<td>解开符合指定的inode编号的文件或目录而非采用文件名称指定。</td>
</tr>
<tr>
<td>-s&lt;文件编号&gt;</td>
<td>当备份数据超过一卷磁带时，您可以指定备份文件的编号。</td>
</tr>
<tr>
<td>-v</td>
<td>显示指令执行过程。</td>
</tr>
<tr>
<td>-y</td>
<td>不询问任何问题，一律以同意回答并继续执行指令。</td>
</tr>
</tbody>
</table>
<h1>Linux图形化界面-webmin和bt宝塔</h1>
<p><strong>webmin由于太老不多做介绍，可查看<a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_61163395/article/details/126078261?ops_request_misc=&amp;request_id=&amp;biz_id=102&amp;utm_term=webmin&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-2-126078261.142%5Ev88%5Einsert_down38v5,239%5Ev2%5Einsert_chatgpt&amp;spm=1018.2226.3001.4187">Linux操作系统——Linux可视化管理-webmin 和 bt 运维工具_linux可视化管理工具_胖虎不秃头的博客-CSDN博客</a></strong></p>
<h2 id="一、宝塔面板简介">一、宝塔面板简介</h2>
<p>宝塔面板是一款服务器管理软件，支持windows和linux系统，可以通过Web端轻松管理服务器，提升运维效率。例如：创建管理网站、FTP、数据库，拥有<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%8F%AF%E8%A7%86%E5%8C%96&amp;spm=1001.2101.3001.7020">可视化</a>文件管理器，可视化软件管理器，可视化CPU、内存、流量监控图表，计划任务等功能。宝塔面板拥有极速方便的一键配置与管理，可一键配置服务器环境（LAMP/LNMP/Tomcat/Node.js），一键部署SSL，异地备份；提供SSH开启关闭服务，SSH端口更改，禁ping，防火墙端口放行以及操作日志查看；CPU、内存、磁盘IO、网络IO数据监测，可设置记录保存天数以及任意查看某天数据；计划任务可按周期添加执行，支持SHELL脚本，提供网站、数据库备份以及日志切割，且支持一键备份到又拍云存储空间，或者其他云存储空间里；通过web界面就可以轻松管理安装所用的服务器软件，还有实用的扩展插件；集成方便高效的文件管理器，支持上传、下载、打包、解压以及文件编辑查看。<br>
  博文实验环境：</p>
<ul>
<li>操作系统：centos7.9</li>
<li>宝塔面板版本：7.9.0</li>
</ul>
<h2 id="二、安装步骤">二、安装步骤</h2>
<h3 id="0、安装要求：">0、安装要求：</h3>
<ul>
<li>内存：512M以上，推荐768M以上（纯面板约占系统60M内存）</li>
<li>硬盘：300M以上可用硬盘空间（纯面板约占20M磁盘空间）</li>
<li>系统：CentOS 7.1+ (Ubuntu16.04+.、Debian9.0+)，确保是干净的操作系统，没有安装过其它环境带的Apache/Nginx/php/MySQL/pgsql/gitlab/java（已有环境不可安装）</li>
<li>架构：x86_64</li>
</ul>
<h3 id="2、安装wget命令">2、安装wget命令</h3>
<blockquote>
<p>[root@s146 ~]# yum install -y wget</p>
</blockquote>
<h3 id="3、下载安装脚本">3、下载安装脚本</h3>
<blockquote>
<p>[root@s146 ~]# wget -O <a target="_blank" rel="noopener" href="http://install.sh">install.sh</a> <a target="_blank" rel="noopener" href="http://download.bt.cn/install/install_6.0.sh">http://download.bt.cn/install/install_6.0.sh</a></p>
</blockquote>
<h3 id="4、执行安装脚本">4、执行安装脚本</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/202312d881538eac4e15b7c1616edfa790cb.png" alt="在这里插入图片描述"></p>
<blockquote>
<p>#请注意，需要root用户执行安全脚本<br>
[root@s146 ~]# sh <a target="_blank" rel="noopener" href="http://install.sh">install.sh</a> 28615082</p>
</blockquote>
<h3 id="5、注册一个宝塔账户">5、注册一个宝塔账户</h3>
<p>利用安装间隙注册一个宝塔账户，脚本安装执行大概需要10分钟。<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023c91fd562453b4b8ebc0b115715fd14bd.png" alt="在这里插入图片描述"></p>
<h3 id="6、安装完成">6、安装完成</h3>
<p>安装完成后会有如下提示，请保存用户名、密码、面板地址。登录宝塔面板需要使用到。另外如果需要访问外网面板地址需要在出口防火墙上进行NAT映射和安全策略开放。<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20233626b3d71c7843c6ad65b7ad30d2e28c.png" alt="在这里插入图片描述"></p>
<h3 id="7、登录宝塔面板">7、登录宝塔面板</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023bf99fbd961324f74925ab719374e166f.png" alt="在这里插入图片描述"></p>
<h3 id="8、阅读并同意用户协议">8、阅读并同意用户协议</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023e99f615295cd47d8a84aec2954709481.png" alt="在这里插入图片描述"></p>
<h3 id="9、绑定宝塔官网注册的账号">9、绑定宝塔官网注册的账号</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232fba5830d2d649e1bb4dafab09f25e9c.png" alt="在这里插入图片描述"></p>
<h3 id="10、宝塔面板安装完成">10、宝塔面板安装完成</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231e39190cdf3649e8a805a84d143e65d9.png" alt="在这里插入图片描述"></p>
<h2 id="三、使用简介">三、使用简介</h2>
<h3 id="1、软件安装示例——ftp软件安装">1、软件安装示例——ftp软件安装</h3>
<ul>
<li>软件商店搜索ftp并选择Pure-Ftpd，点击安装<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20238fd42cf680ef4e089cefe1b59348e454.png" alt="在这里插入图片描述"></li>
<li>点击确定<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20230630e7e2fed846db9cca381c751d1d5a.png" alt="在这里插入图片描述"></li>
<li>安装完成<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20232f1dfaaa9e5c4c7cad597acbb678900d.png" alt="在这里插入图片描述"></li>
<li>添加ftp账户<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023e6632d11600e47729ca49fa1c8c32efa.png" alt="在这里插入图片描述"></li>
<li>ftp登录测试<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023bba15859ac9844d59bcf740db57a35c1.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="2、面板设置">2、面板设置</h3>
<ul>
<li>面板设置<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20233ba09646d24e49a08a08bce74a8afd6b.png" alt="在这里插入图片描述"></li>
<li>安全设置<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20231e942a63b39c4121a66bcd73edb7003d.png" alt="在这里插入图片描述"></li>
<li>通知设置<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023cab759eb4a26429c81b9c9e7710acfa0.png" alt="在这里插入图片描述"></li>
</ul>
<h3 id="3、命令行终端操作">3、命令行终端操作</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023a2f24bcfb91b44cd905622d01b905dda.png" alt="在这里插入图片描述"></p>
<h3 id="4、安全管理">4、安全管理</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20234b04b7136cb64e2a88c2a1883a12211d.png" alt="在这里插入图片描述"></p>
<h3 id="5、文件上传下载">5、文件上传下载</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023f14eeaf1d422424db52761cf649e3b0b.png" alt="在这里插入图片描述"></p>
<h3 id="6、定时任务">6、定时任务</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023ab53854dc7df4f548c1a0fbf15dee05f.png" alt="在这里插入图片描述"></p>
<h3 id="7、系统监控">7、系统监控</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/20230588665e86a94ab5bb90251f17de1576.png" alt="在这里插入图片描述"></p>
<h3 id="8、服务启停管理">8、服务启停管理</h3>
<ul>
<li>查看宝塔面板服务状态</li>
</ul>
<blockquote>
<p>[root@s146 ~]# bt status<br>
Bt-Panel (pid 6867) already running<br>
Bt-Task (pid 6893) already running</p>
</blockquote>
<ul>
<li>启动宝塔面板服务</li>
</ul>
<blockquote>
<p>[root@s146 ~]# bt start<br>
Starting Bt-Panel… done<br>
Starting Bt-Tasks… done</p>
</blockquote>
<ul>
<li>停止宝塔面板服务</li>
</ul>
<blockquote>
<p>[root@s146 ~]# bt stop<br>
Stopping Bt-Tasks… done<br>
Stopping Bt-Panel… done</p>
</blockquote>
<ul>
<li>重启宝塔面板服务</li>
</ul>
<blockquote>
<p>[root@s146 ~]# bt restart<br>
Stopping Bt-Tasks… done<br>
Stopping Bt-Panel… done<br>
Starting Bt-Panel… done<br>
Starting Bt-Tasks… done</p>
</blockquote>
<ul>
<li>重载宝塔面板服务配置</li>
</ul>
<blockquote>
<p>[root@s146 ~]# bt reload<br>
Reload Bt-Panel… done</p>
</blockquote>
<ul>
<li>查看宝塔面板日志</li>
</ul>
<blockquote>
<p>[root@s146 ~]# bt logs<br>
192.168.0.32 - - [2022-04-12 11:57:06] “GET /static/img/soft_ico/ico-php_filter.png HTTP/1.1” 304 188 0.007153<br>
192.168.0.32 - - [2022-04-12 11:57:06] “GET /static/img/soft_ico/ico-coll_admin.png HTTP/1.1” 304 188 0.005967<br>
…</p>
</blockquote>
<ul>
<li>查看宝塔面板默认信息</li>
</ul>
<blockquote>
<h1>bt default</h1>
<p>此指令可用于查看当前宝塔的账户和密码，如果忘记了的话</p>
<p>BT-Panel default info!<br>
…</p>
</blockquote>
<h2 id="四、QA">四、QA</h2>
<h3 id="1、报错请使用正确的入口登录面板">1、报错请使用正确的入口登录面板</h3>
<ul>
<li>报错信息：<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a445bcdcd888437d96eab1466d37e76f.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5rWq5a2Q5ZC05aSp,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></li>
<li>报错原因：当前新安装的已经开启了安全入口登录，新装机器都会随机一个8位字符的安全入口名称</li>
<li>解决方案：<br>
使用安全入库url链接访问，就是安装完成后提示中的内网面板地址。如果未保持，可以使用命令bt default命令查看。</li>
</ul>
<h3 id="2-正在重新连接服务器">2.正在重新连接服务器</h3>
<p>此情况是ssh面板开启导致的，关闭ssh面板即可</p>
<p>注：宝塔面板 账户和密码为 vljenqxz 55ab60cb</p>
<p>ftp账户 密码为root XTj2wR3zk84Fd5t8</p>
<p>数据库名：<strong>www_godwad_com</strong></p>
<p>用户：<strong>www_godwad_com</strong></p>
<p>密码：<strong>BysXzkcYnH</strong></p>
<p>访问站点：<a target="_blank" rel="noopener" href="http://www.godwad.com/index.php">http://www.godwad.com/index.php</a></p>
<p>数据库：MySQL数据库编码：utf8mb4账号：666_com密码：KBHt4MYkaE</p>
<h1>防木马病毒入侵—chkrootkit</h1>
<p>Rootkit是一种特殊的恶意软件，它的功能是在安装目标上隐藏自身及指定的文件、进程和网络链接等信息，比较多见到的是Rootkit一般都和木马、后门等其他恶意程序结合使用。Rootkit一词更多地是指被作为驱动程序，加载到操作系统内核中的恶意软件。</p>
<h2 id="chkrootkit简介">chkrootkit简介</h2>
<p>chkrootkit是一个linux下检RootKit的脚本，在某些检测中会调用当前目录的检测程序</p>
<p>官网：<a target="_blank" rel="noopener" href="http://www.chkrootkit.org/">http://www.chkrootkit.org/</a></p>
<p>下载源码：wget <a href="ftp://ftp.pangeia.com.br/pub/seg/pac/chkrootkit.tar.gz">ftp://ftp.pangeia.com.br/pub/seg/pac/chkrootkit.tar.gz</a></p>
<p>解压后执行 <code>make</code> 命令，就可以使用了</p>
<p>一般直接运行，一旦有INFECTED，说明可能被植入了RootKit</p>
<figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./chkrootkit <span class="string">| grep INFECTED</span></span><br></pre></td></tr></table></figure>
<h1>Linux面试题（节选）</h1>
<p><strong>cut分割</strong> 3为分割后的第三段 <strong>sort排序</strong>（从小到大）  uniq -c统计次数</p>
<p><strong>sort -nr从大到小排</strong></p>
<p><strong>awk分割</strong>与cut原理相同</p>
<p>awk -F &quot; &quot;分割空格  ’ {printf $5表示分割出来的第五段}  ’</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230612144512692.png" alt="image-20230612144512692"></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.用户tom对目录<span class="regexp">/home/</span>test有执行x和读r写w权限，<span class="regexp">/home/</span>test/hello.java是只读文件，问tom对</span><br><span class="line">hello.java文件能读吗(ok)?能修改吗(no)?能删除吗？(ok)</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.用户tom对目录home<span class="regexp">/test只有读写权限，home/</span>test/hello,java是只读文件，问tom对hello.java</span><br><span class="line">文件能读吗(no)?能修改吗(no)?能删除吗(no)?</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.用户tom对目录<span class="regexp">/home/</span>test只有执行权限x,<span class="regexp">/home/</span>test/hello.java是只读文件，问tom对</span><br><span class="line">hello,java文件能读吗(ok)?能修改吗(no)?能删除吗(no)?</span><br><span class="line"></span><br><span class="line">,<span class="number">4</span>.用户tom对目录<span class="regexp">/home/</span>test只有执行和写权限，<span class="regexp">/home/</span>test/hello.java是只读文件，问tom对</span><br><span class="line">hello.java文件能读吗(ok)?能修改吗(no)?能删除吗(ok)?</span><br></pre></td></tr></table></figure>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Linux面试题</span><br><span class="line">●</span><br><span class="line">问题：列举Liux高级命令，至少<span class="number">6</span>个（百度</span><br><span class="line">netstat<span class="regexp">//</span>网络状态监控</span><br><span class="line">top<span class="regexp">//</span>系统运行状态</span><br><span class="line">Isblk<span class="regexp">//</span>查看硬盘分区find</span><br><span class="line">ps-aux<span class="regexp">//</span>查看运行进程</span><br><span class="line"> chkconfig<span class="regexp">//</span>查看服务启动状态</span><br><span class="line">systemctl<span class="regexp">//</span>管理系统服务器</span><br><span class="line">问题：Liux查看内存、io读写、磁盘存储、端口占用、进程查看命令是什么？（瓜子）</span><br><span class="line">top,iotop,df-lh,netstat-tunlp,ps-aux|grep关心的进程</span><br><span class="line">●</span><br><span class="line">使用Linuxi命令计算t2.txt第二列的和并输出（美团）</span><br><span class="line">张三<span class="number">40</span></span><br><span class="line">李四<span class="number">50</span></span><br><span class="line">王五<span class="number">60</span></span><br><span class="line">cat t2.txt | awk -F <span class="string">&quot; &quot;</span> <span class="string">&#x27;&#123;sum+=$2&#125; END &#123;print sum&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Linux面试题</span><br><span class="line"><span class="keyword">Shell</span>脚本里如何检查一个文件是否存在？并给出提示（百度）</span><br><span class="line"><span class="keyword">if</span>[-f文件名]then echo&quot;存在”<span class="keyword">else</span> echo“不存在”fi</span><br><span class="line">●用<span class="keyword">shel</span>写一个脚本，对文本t3.txt中无序的一列数字排序，并将总和输出（百度）</span><br><span class="line">9</span><br><span class="line">8</span><br><span class="line">7</span><br><span class="line">6</span><br><span class="line">5</span><br><span class="line">4</span><br><span class="line">3</span><br><span class="line">2</span><br><span class="line">10</span><br><span class="line"><span class="keyword">sort</span> -nr t3.txt |awk &#x27;&#123;<span class="keyword">sum</span>+=<span class="variable">$0</span>;<span class="keyword">print</span> <span class="variable">$0&#125;</span>END &#123;<span class="keyword">print</span><span class="string">&quot;和=&quot;</span><span class="keyword">sum</span>&#125;&#x27;</span><br><span class="line">请用指令写出查找当前文件夹(/home)下所有的文本文件内容中包含有字符“<span class="keyword">cat</span>”</span><br><span class="line">的文件名称（金山）</span><br><span class="line">grep -r <span class="string">&quot;cat&quot;</span>/home |cut -<span class="keyword">d</span> &quot;:-f 1</span><br><span class="line">请写出统计/hom目录下所有文件个数和所有文件总行数的指令（在金山面试题扩展）</span><br><span class="line">find /home/<span class="keyword">test</span> -name &quot;*.*|</span><br><span class="line">wc -<span class="keyword">l</span></span><br><span class="line">find /home/<span class="keyword">test</span> -name &quot;*.*|</span><br><span class="line">xargs wc -I</span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/godwad/2023/main/2023image-20230612161531017.png" alt="image-20230612161531017"></p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">如何优化Linux系统，说出你的方法</span><br><span class="line"><span class="number">1</span>.对Linux的架构的优化，和原则分析</span><br><span class="line"><span class="number">2</span>.对linux系统本身的优化-规则</span><br><span class="line">(<span class="number">1</span>)不用root,使用sudo提示权限</span><br><span class="line">(②)定时的自动更新服务时间，使用nptdate npt1.aliyun.com,让croud定时更新</span><br><span class="line">●</span><br><span class="line">(<span class="number">3</span>)配置yum源，指向国内镜像（清华，<span class="number">163</span>）</span><br><span class="line">●</span><br><span class="line">(<span class="number">4</span>)配置合理的防火墙策略，打开必要的端口，关闭不必要的端口</span><br><span class="line">(<span class="number">5</span>)打开最大文件数（调整文件的描述的数量）vim<span class="regexp">/etc/</span>profile ulimit-SHn65535</span><br><span class="line">●</span><br><span class="line">(<span class="number">6</span>)配置合理的监控策略</span><br><span class="line">(<span class="number">7</span>)配置合理的系统重要文件的备份策略</span><br><span class="line">●</span><br><span class="line">(<span class="number">8</span>)对安装的软件进行优化，比如nginx,apache</span><br><span class="line">●</span><br><span class="line">(<span class="number">9</span>)内核参数进行优化<span class="regexp">/etc/</span>sysctl..conf</span><br><span class="line">(<span class="number">1</span>O)锁定一些重要的系统文件chattr<span class="regexp">/etc/</span>passwd<span class="regexp">/ect/</span>shadow<span class="regexp">/etc/i</span>nittab</span><br><span class="line">(<span class="number">11</span>)禁用不必要的服务setup,ntsysv</span><br></pre></td></tr></table></figure>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>Linux-从入门到入土</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://godwad.github.io/posts/33094.html">https://godwad.github.io/posts/33094.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>小s今天吃什么</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2023-05-31</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2023-06-12</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/LINUX/"><div class="tags-punctuation"><svg class="faa-tada icon" style="height:1.1em;width:1.1em;fill:currentColor;position:relative;top:2px;margin-right:3px" aria-hidden="true"><use xlink:href="#icon-sekuaibiaoqian"></use></svg></div>LINUX</a></div></div><link rel="stylesheet" href="/css/coin.css" media="defer" onload="this.media='all'"/><div class="post-reward"><button class="tip-button reward-button"><span class="tip-button__text">投喂作者</span><div class="coin-wrapper"><div class="coin"><div class="coin__middle"></div><div class="coin__back"></div><div class="coin__front"></div></div></div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://tuchuang.voooe.cn/images/2023/01/04/2.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tuchuang.voooe.cn/images/2023/01/04/2.webp" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://tuchuang.voooe.cn/images/2023/01/04/20f8e49805975b8f8.webp" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://tuchuang.voooe.cn/images/2023/01/04/20f8e49805975b8f8.webp" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></button></div><audio id="coinAudio" src="https://npm.elemecdn.com/akilar-candyassets@1.0.36/audio/aowu.m4a"></audio><script defer="defer" src="/js/coin.js"></script><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/2d57d79b.html"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/3l/wallhaven-3l5d36.png" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">MYSQL数据库</div></div></a></div><div class="next-post pull-right"><a href="/posts/30500.html"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.cdnjson.com/tvax3.sinaimg.cn//large/0072Vf1pgy1foxk7nr5qqj31hc0u04gk.jpg" onerror="onerror=null;src='/assets/r2.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">qt</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><svg class="meta_icon" style="width:22px;height:22px;position:relative;top:5px"><use xlink:href="#icon-mulu1"></use></svg><span style="font-weight:bold">目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux-从入门到入土</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">VMware 下载</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">网络连接的三种方式</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81%E6%A1%A5%E6%8E%A5%E6%A8%A1%E5%BC%8F"><span class="toc-text">1、桥接模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E3%80%81%E4%BB%85%E4%B8%BB%E6%9C%BA%E6%A8%A1%E5%BC%8F"><span class="toc-text">2、仅主机模式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link"><span class="toc-text"></span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E3%80%81NAT%E6%A8%A1%E5%BC%8F%EF%BC%88%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2%E6%A8%A1%E5%BC%8F%EF%BC%89"><span class="toc-text">3、NAT模式（网络地址转换模式）</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">虚拟机克隆</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">虚拟机快照</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8VMware-Workstation-Pro%E4%B8%AD%E5%88%B6%E4%BD%9C%E5%B9%B6%E8%BF%98%E5%8E%9F%E5%BF%AB%E7%85%A7%EF%BC%88windows%EF%BC%89"><span class="toc-text">在VMware Workstation Pro中制作并还原快照（windows）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vmtools%E2%80%93%E4%B8%8E%E7%94%B5%E8%84%91%E4%B8%BB%E6%9C%BA%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6"><span class="toc-text">vmtools–与电脑主机共享文件</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">VM Tools安装过程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81VM-Tools%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4"><span class="toc-text">一、VM Tools安装步骤</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text"></span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85%E5%90%8E%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%E4%B9%8B%E4%B8%80"><span class="toc-text">二、安装后无法使用问题解决办法之一</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux系统目录结构----重点记忆！</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E3%80%81Linux%E7%9B%AE%E6%A0%87%E7%BB%93%E6%9E%84%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-text">1、Linux目标结构的特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Linux%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-text">2. Linux目录结构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81Linux%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E4%BB%8B%E7%BB%8D"><span class="toc-text">二、Linux文件系统介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%B4%A2%E5%BC%95%E4%BB%8B%E7%BB%8D%EF%BC%9A"><span class="toc-text">1. 索引介绍：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Linux%E9%93%BE%E6%8E%A5%E4%BB%8B%E7%BB%8D"><span class="toc-text">2. Linux链接介绍</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">linux文件系统操作</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%96%87%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">1. 文件的基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E7%9A%84%E9%80%9A%E9%85%8D%E7%AC%A6%EF%BC%8820%E4%B8%AA%EF%BC%89"><span class="toc-text">2. Linux系统下的通配符（20个）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Linux%E7%B3%BB%E7%BB%9F%E4%B8%8B%E7%9A%84%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E6%93%8D%E4%BD%9C%EF%BC%88%E4%B8%83%E4%B8%AA%EF%BC%89"><span class="toc-text">3. Linux系统下的常用快捷操作（七个）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81Linux%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-text">四、Linux文件操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81linux%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C"><span class="toc-text">五、linux目录操作</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux远程登录—xshell</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux远程传输文件—xtfp6</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-%E8%BF%9C%E7%A8%8B%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6-Xftp6"><span class="toc-text">4.3 远程上传下载文件-Xftp6</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-1-Xftp%E4%BB%8B%E7%BB%8D"><span class="toc-text">4.3.1 Xftp介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-2-Xftp6%E5%AE%89%E8%A3%85"><span class="toc-text">4.3.2 Xftp6安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-3-Xftp6%E7%9A%84%E9%85%8D%E7%BD%AE%E5%92%8C%E4%BD%BF%E7%94%A8"><span class="toc-text">4.3.3 Xftp6的配置和使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-4-%E4%BD%BF%E7%94%A8-Xftp6-%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6"><span class="toc-text">4.3.4 使用 Xftp6 传输文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#img"><span class="toc-text"></span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux中的记事本软件–vim</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81VIM%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-text">一、VIM编辑器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89vi%E6%A6%82%E8%BF%B0"><span class="toc-text">1）vi概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89vim%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-text">2）vim编辑器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89vim%E7%BC%96%E8%BE%91%E5%99%A8%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-text">3）vim编辑器的安装</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%98%86-%E5%B7%B2%E5%AE%89%E8%A3%85"><span class="toc-text">☆ 已安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%98%86-%E6%9C%AA%E5%AE%89%E8%A3%85"><span class="toc-text">☆ 未安装</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%BC%89vim%E7%BC%96%E8%BE%91%E5%99%A8%E7%9A%84%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F%EF%BC%88-%EF%BC%89"><span class="toc-text">4）vim编辑器的四种模式（!）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%98%86-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-text">☆ 命令模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%98%86-%E7%BC%96%E8%BE%91%E6%A8%A1%E5%BC%8F%E6%88%96%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F"><span class="toc-text">☆ 编辑模式或输入模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%98%86-%E6%9C%AB%E8%A1%8C%E6%A8%A1%E5%BC%8F"><span class="toc-text">☆ 末行模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E2%98%86-%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A8%A1%E5%BC%8F"><span class="toc-text">☆ 可视化模式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81VIM%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">二、VIM四种模式的关系</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89VIM%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="toc-text">1）VIM四种模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89VIM%E5%9B%9B%E7%A7%8D%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">2）VIM四种模式的关系</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81VIM%E7%BC%96%E8%BE%91%E5%99%A8%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">三、VIM编辑器的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E4%BD%BF%E7%94%A8vim%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"><span class="toc-text">1）使用vim打开文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89vim%E7%BC%96%E8%BE%91%E5%99%A8%E4%BF%9D%E5%AD%98%E6%96%87%E4%BB%B6"><span class="toc-text">2）vim编辑器保存文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89vim%E7%BC%96%E8%BE%91%E5%99%A8%E5%BC%BA%E5%88%B6%E9%80%80%E5%87%BA%EF%BC%88%E4%B8%8D%E4%BF%9D%E5%AD%98%EF%BC%89"><span class="toc-text">3）vim编辑器强制退出（不保存）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vim%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8"><span class="toc-text">vim命令大全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-vim%E4%BB%8B%E7%BB%8D"><span class="toc-text">1.vim介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vim%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6%EF%BC%9A"><span class="toc-text">vim打开文件：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-text">2.命令模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8"><span class="toc-text">1.光标移动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E9%80%89%E4%B8%AD%E5%86%85%E5%AE%B9"><span class="toc-text">2.选中内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%A4%8D%E5%88%B6%EF%BC%88%E9%85%8D%E5%90%88%E7%B2%98%E8%B4%B4%E5%91%BD%E4%BB%A4p%E4%BD%BF%E7%94%A8%EF%BC%89"><span class="toc-text">3.复制（配合粘贴命令p使用）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%89%AA%E5%88%87"><span class="toc-text">4.剪切</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E7%B2%98%E8%B4%B4"><span class="toc-text">5.粘贴</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%E5%88%A0%E9%99%A4"><span class="toc-text">6.删除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E6%92%A4%E9%94%80-%E6%81%A2%E5%A4%8D"><span class="toc-text">7.撤销&#x2F;恢复</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-%E5%AD%97%E7%AC%A6%E8%BD%AC%E6%8D%A2"><span class="toc-text">8.字符转换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-%E7%BC%96%E8%BE%91%E5%91%BD%E4%BB%A4%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%94%AE"><span class="toc-text">9.编辑命令的快捷键</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9C%AB%E8%A1%8C%E6%A8%A1%E5%BC%8F-xxx%E5%91%BD%E4%BB%A4"><span class="toc-text">3.末行模式(: xxx命令)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%BF%9D%E5%AD%98-%E9%80%80%E5%87%BA%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"><span class="toc-text">1.保存&#x2F;退出文件操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%9F%A5%E6%89%BE%EF%BC%9A%E2%80%9C-%E5%85%B3%E9%94%AE%E8%AF%8D%E2%80%9D"><span class="toc-text">2.查找：“&#x2F;关键词”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%9B%BF%E6%8D%A2"><span class="toc-text">3.替换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E8%A1%8C%E5%8F%B7%E6%98%BE%E7%A4%BA%EF%BC%9A%E2%80%9C-set-nu%E2%80%9D"><span class="toc-text">4.行号显示：“: set nu”;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E6%96%87%E4%BB%B6%E5%88%87%E6%8D%A2"><span class="toc-text">5.文件切换</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E7%BC%96%E8%BE%91%E6%A8%A1%E5%BC%8F"><span class="toc-text">4.编辑模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E6%89%A9%E5%B1%95"><span class="toc-text">5.扩展</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A8%A1%E5%BC%8F"><span class="toc-text">五、可视化模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E5%A6%82%E4%BD%95%E8%BF%9B%E5%85%A5%E5%88%B0%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A8%A1%E5%BC%8F"><span class="toc-text">1）如何进入到可视化模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E5%8F%AF%E8%A7%86%E5%8C%96%E6%A8%A1%E5%BC%8F%E5%A4%8D%E5%88%B6%E6%93%8D%E4%BD%9C"><span class="toc-text">2）可视化模式复制操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E4%B8%BA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E6%B7%BB%E5%8A%A0-%E5%A4%9A%E8%A1%8C%E6%B3%A8%E9%87%8A%EF%BC%88-%EF%BC%89"><span class="toc-text">3）为配置文件添加#多行注释（!）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%EF%BC%89%E4%B8%BA%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8E%BB%E9%99%A4-%E5%A4%9A%E8%A1%8C%E6%B3%A8%E9%87%8A%EF%BC%88-%EF%BC%89"><span class="toc-text">4）为配置文件去除#多行注释（!）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%AD%E3%80%81VIM%E7%BC%96%E8%BE%91%E5%99%A8%E5%AE%9E%E7%94%A8%E5%8A%9F%E8%83%BD"><span class="toc-text">六、VIM编辑器实用功能</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%EF%BC%89%E4%BB%A3%E7%A0%81%E7%9D%80%E8%89%B2"><span class="toc-text">1）代码着色</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%EF%BC%89%E5%BC%82%E5%B8%B8%E9%80%80%E5%87%BA%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-text">2）异常退出解决方案</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%EF%BC%89%E9%80%80%E5%87%BAvim%E7%BC%96%E8%BE%91%E5%99%A8"><span class="toc-text">3）退出vim编辑器</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux中的关机与重启命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%85%B3%E6%9C%BA%E9%87%8D%E5%90%AF%E5%91%BD%E4%BB%A4%E6%B1%87%E6%80%BB"><span class="toc-text">1. 关机重启命令汇总</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-shutdown%E5%91%BD%E4%BB%A4"><span class="toc-text">2.shutdown命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-sync%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="toc-text">3.sync命令：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E6%9C%BA%E4%B8%8E%E9%87%8D%E5%90%AF%E5%91%BD%E4%BB%A4"><span class="toc-text">关机与重启命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">1.1 基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E6%B3%A8%E6%84%8F%E7%BB%86%E8%8A%82"><span class="toc-text">1.2 注意细节</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E4%B8%8E%E6%B3%A8%E9%94%80"><span class="toc-text">2.用户登录与注销</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">2.1 基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E4%BD%BF%E7%94%A8%E7%BB%86%E8%8A%82"><span class="toc-text">2.2 使用细节</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">🐧用户和组的概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8C%8F%E7%94%A8%E6%88%B7%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">🌏用户的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8D%B0%E7%BB%84%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">🍰组的概念</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">🤯用户和组的管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%A6%96%E7%BB%84%E7%9A%84%E7%AE%A1%E7%90%86"><span class="toc-text">🦖组的管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%A6%89%E5%88%9B%E5%BB%BA%E7%BB%84"><span class="toc-text">🦉创建组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%A6%9D%E5%88%A0%E9%99%A4%E7%BB%84%E7%BE%A4"><span class="toc-text">🦝删除组群</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%A6%8C%E4%BF%AE%E6%94%B9%E7%BB%84%E7%BE%A4%E7%9A%84%E5%B1%9E%E6%80%A7"><span class="toc-text">🦌修改组群的属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%9B%B9%E6%9F%A5%E7%9C%8B%E7%BB%84%E7%BE%A4%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="toc-text">🛹查看组群的信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%9A%83%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"><span class="toc-text">🚃用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E6%89%80%E6%9C%89%E8%80%85"><span class="toc-text">1、所有者</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E6%89%80%E5%9C%A8%E7%BB%84"><span class="toc-text">2、所在组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E5%85%B6%E4%BB%96%E7%BB%84"><span class="toc-text">3、其他组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E6%94%B9%E5%8F%98%E7%94%A8%E6%88%B7%E6%89%80%E5%9C%A8%E7%BB%84"><span class="toc-text">4、改变用户所在组</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%A5%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7"><span class="toc-text">🎥创建用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%B8%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-text">📸删除用户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E5%B1%9E%E6%80%A7"><span class="toc-text">修改用户属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%90%B1%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%E7%AE%A1%E7%90%86"><span class="toc-text">🐱用户密码管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%A5%BD%E6%9F%A5%E7%9C%8B%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">🥽查看用户信息</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#rwx%E6%9D%83%E9%99%90"><span class="toc-text">rwx权限</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-text">参数说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chmod%E6%8C%87%E4%BB%A4%EF%BC%88%E5%A2%9E%E5%87%8F%E6%9D%83%E9%99%90%EF%BC%89"><span class="toc-text">chmod指令（增减权限）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-text">实例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#r-4%EF%BC%8Cw-2%EF%BC%8Cx-1"><span class="toc-text">r&#x3D;4，w&#x3D;2，x&#x3D;1</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%A4%9A%E8%AF%B4%E6%98%8E"><span class="toc-text">更多说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5-%E8%AD%A6%E5%AF%9F%E5%92%8C%E5%9C%9F%E5%8C%AA%E6%B8%B8%E6%88%8F"><span class="toc-text">最佳实践-警察和土匪游戏</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">如何找回 root 密码</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux中的帮助命令</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81Linux%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B"><span class="toc-text">一、Linux帮助命令简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81help-%E5%91%BD%E4%BB%A4%E4%B8%8E-help-%E5%8F%82%E6%95%B0"><span class="toc-text">二、help 命令与 --help 参数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-help-%E5%91%BD%E4%BB%A4"><span class="toc-text">2.1 help 命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%86%85%E5%BB%BA%E5%91%BD%E4%BB%A4%E4%B8%8E%E5%A4%96%E9%83%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">2.2 内建命令与外部命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E2%80%93-help-%E5%8F%82%E6%95%B0"><span class="toc-text">2.3 – help 参数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81man-%E5%91%BD%E4%BB%A4"><span class="toc-text">三、man 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-man-%E6%8F%90%E4%BE%9B%E7%9A%84%E5%B8%AE%E5%8A%A9%E4%BF%A1%E6%81%AF"><span class="toc-text">3.1 man 提供的帮助信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-man-page-%E4%B8%AD%E7%9A%84%E6%8C%89%E9%94%AE%E6%93%8D%E4%BD%9C"><span class="toc-text">3.2 man page 中的按键操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81-info-%E5%91%BD%E4%BB%A4"><span class="toc-text">四、 info 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-info-%E6%8F%90%E4%BE%9B%E7%9A%84%E5%B8%AE%E5%8A%A9%E4%BF%A1%E6%81%AF"><span class="toc-text">4.1 info 提供的帮助信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-info-page-%E4%B8%AD%E7%9A%84%E6%8C%89%E9%94%AE%E6%93%8D%E4%BD%9C"><span class="toc-text">4.2 info page 中的按键操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux文件目录指定</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%96%B0%E5%BB%BA%E6%93%8D%E4%BD%9C"><span class="toc-text">一、新建操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%9F%A5%E7%9C%8B%E6%93%8D%E4%BD%9C"><span class="toc-text">二、查看操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E6%9F%A5%E7%9C%8B%E7%9B%AE%E5%BD%95%EF%BC%88%E4%BB%A3%E7%A0%81%E4%B8%AD%E7%9A%84%E6%95%B0%E5%AD%97%E6%98%AF%E6%88%91%E8%87%AA%E5%B7%B1%E5%8A%A0%E7%9A%84%EF%BC%8C%E4%B8%BA%E4%BA%86%E6%96%B9%E4%BE%BF%E5%AF%B9%E5%BA%94%E9%98%85%E8%AF%BB%EF%BC%89"><span class="toc-text">1、查看目录（代码中的数字是我自己加的，为了方便对应阅读）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%B7%AF%E5%BE%84%E3%80%81%E7%9B%AE%E5%BD%95%E5%91%BD%E4%BB%A4"><span class="toc-text">1.路径、目录命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89pwd-%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E6%89%80%E5%9C%A8%E4%BD%8D%E7%BD%AE%E7%9A%84%E7%BB%9D%E5%AF%B9%E8%B7%AF%E5%BE%84"><span class="toc-text">（1）pwd:显示当前所在位置的绝对路径</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89cd%E7%B3%BB%E5%88%97"><span class="toc-text">（2）cd系列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89ls"><span class="toc-text">（3）ls:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E6%B8%85%E5%B1%8F"><span class="toc-text">（4）清屏</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E6%9F%A5%E7%9C%8B%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%EF%BC%88%E4%BB%A3%E7%A0%81%E4%B8%AD%E7%9A%84%E6%95%B0%E5%AD%97%E6%98%AF%E6%88%91%E8%87%AA%E5%B7%B1%E5%8A%A0%E7%9A%84%EF%BC%8C%E4%B8%BA%E4%BA%86%E6%96%B9%E4%BE%BF%E5%AF%B9%E5%BA%94%E9%98%85%E8%AF%BB%EF%BC%89"><span class="toc-text">2、查看文件内容（代码中的数字是我自己加的，为了方便对应阅读）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#more%E5%91%BD%E4%BB%A4"><span class="toc-text">more命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E8%AF%AD%E6%B3%95%EF%BC%9A"><span class="toc-text">1.语法：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%8A%9F%E8%83%BD%EF%BC%9A"><span class="toc-text">2.功能：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%8F%82%E6%95%B0%EF%BC%9A"><span class="toc-text">3.参数：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4%EF%BC%9A"><span class="toc-text">4.常用操作命令：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#less"><span class="toc-text">less</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%91%BD%E4%BB%A4%E5%8A%9F%E8%83%BD"><span class="toc-text">1.命令功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%EF%BC%8E%E5%91%BD%E4%BB%A4%E5%8F%82%E6%95%B0"><span class="toc-text">2．命令参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%EF%BC%8E%E6%8C%89%E9%94%AE%E6%93%8D%E4%BD%9C"><span class="toc-text">3．按键操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%EF%BC%8E%E5%AE%9E%E4%BE%8B"><span class="toc-text">4．实例</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tail%E5%91%BD%E4%BB%A4%EF%BC%88%E5%8F%AF%E7%94%A8%E4%BA%8E%E8%BF%BD%E8%B8%AA%E6%8A%93%E5%8C%85%EF%BC%89"><span class="toc-text">tail命令（可用于追踪抓包）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E6%9F%A5%E7%9C%8B%E7%8A%B6%E6%80%81%E6%88%96%E8%80%85%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B"><span class="toc-text">3、查看状态或者文件类型</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C"><span class="toc-text">三、删除操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E7%A7%BB%E5%8A%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">四、移动操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%A4%8D%E5%88%B6%E6%93%8D%E4%BD%9C"><span class="toc-text">五、复制操作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#echo%E6%8C%87%E4%BB%A4"><span class="toc-text">echo指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E8%AF%AD%E6%B3%95"><span class="toc-text">一、语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81echo%E7%9A%84%E9%87%8D%E5%AE%9A%E5%90%91%EF%BC%88%E5%85%B6%E5%AE%83%E6%8C%87%E4%BB%A4%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%83%8Fecho%E4%B8%80%E6%A0%B7%E9%87%8D%E5%AE%9A%E5%90%91%EF%BC%89"><span class="toc-text">二、echo的重定向（其它指令也可以像echo一样重定向）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ln%E6%8C%87%E4%BB%A4"><span class="toc-text">ln指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4"><span class="toc-text">命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="toc-text">命令格式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E5%8A%9F%E8%83%BD"><span class="toc-text">命令功能</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BE%8B"><span class="toc-text">事例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A1%AC%E9%93%BE%E6%8E%A5%E6%96%87%E4%BB%B6"><span class="toc-text">创建一个硬链接文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%BD%AF%E9%93%BE%E6%8E%A5%E6%96%87%E4%BB%B6"><span class="toc-text">创建一个软链接文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A1%AC%E9%93%BE%E6%8E%A5%E6%96%87%E4%BB%B6%EF%BC%8C%E5%A6%82%E6%9E%9C%E7%9B%AE%E6%A0%87%E7%9B%AE%E5%BD%95%E4%B8%AD%E5%B7%B2%E7%BB%8F%E6%9C%89%E5%90%8C%E5%90%8D%E6%96%87%E4%BB%B6%EF%BC%8C%E8%A6%86%E7%9B%96%E5%89%8D%E5%85%88%E8%BF%9B%E8%A1%8C%E5%A4%87%E4%BB%BD"><span class="toc-text">创建一个硬链接文件，如果目标目录中已经有同名文件，覆盖前先进行备份</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%99%E7%9B%AE%E5%BD%95%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E8%BD%AF%E9%93%BE%E6%8E%A5"><span class="toc-text">给目录创建一个软链接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%9Cln-n%E2%80%9D-%E5%91%BD%E4%BB%A4%E5%AE%9E%E4%BE%8B%E8%AF%B4%E6%98%8E"><span class="toc-text">“ln -n” 命令实例说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%BD%AF%E9%93%BE%E6%8E%A5%E5%A4%B1%E8%B4%A5%E5%AE%9E%E4%BE%8B%E8%AF%B4%E6%98%8E"><span class="toc-text">创建软链接失败实例说明</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E5%88%AB%E8%AF%B4%E6%98%8E"><span class="toc-text">特别说明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#history%E6%8C%87%E4%BB%A4"><span class="toc-text">history指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-history-%E6%98%BE%E7%A4%BA%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4"><span class="toc-text">1.history 显示历史命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%B8%B8%E7%94%A8%E5%8F%82%E6%95%B0"><span class="toc-text">1.常用参数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%B8%B8%E7%94%A8%E8%8C%83%E4%BE%8B"><span class="toc-text">2.常用范例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%8E%B7%E5%8F%96%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%E7%9A%84%E6%9C%80%E6%96%B02%E4%B8%A4%E6%9D%A1"><span class="toc-text">1.获取历史记录的最新2两条</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%89%A7%E8%A1%8C%E6%9C%80%E5%90%8E%E4%B8%80%E6%AC%A1%E5%91%BD%E4%BB%A4"><span class="toc-text">2.执行最后一次命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%B8%85%E7%A9%BA%E5%BD%93%E5%89%8D%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95-%E5%8F%AA%E6%98%AF%E6%B8%85%E7%A9%BA%E7%BC%93%E5%AD%98%E4%B8%AD%E7%9A%84%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%EF%BC%8C%E4%BC%AA%E5%88%A0%E9%99%A4"><span class="toc-text">3.清空当前历史记录(只是清空缓存中的历史记录，伪删除)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%B0%86%E5%BD%93%E5%89%8D%E7%BC%93%E5%AD%98%E4%B8%AD%E7%9A%84%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6-%E7%BC%93%E5%AD%98%E4%B8%AD%E7%9A%84%E8%AE%B0%E5%BD%95%E6%98%AF%E7%A9%BA%E7%9A%84-%E7%94%A8%E7%A9%BA%E7%9A%84%E6%95%B0%E6%8D%AE%E5%86%99%E5%85%A5%E6%96%87%E4%BB%B6%EF%BC%8C%E5%B0%86%E6%96%87%E4%BB%B6%E5%86%85%E9%83%A8%E5%88%A0%E9%99%A4"><span class="toc-text">4.将当前缓存中的历史记录写入文件(缓存中的记录是空的-用空的数据写入文件，将文件内部删除)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%88%A0%E9%99%A4%E6%9F%90%E8%A1%8C%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95-%E8%BF%99%E6%A0%B7%E5%8F%AF%E4%BB%A5%E6%9C%89%E9%92%88%E5%AF%B9%E6%80%A7%E7%9A%84%E4%BF%9D%E7%95%99%E5%8E%86%E5%8F%B2%E8%AE%B0%E5%BD%95"><span class="toc-text">5.删除某行历史记录(这样可以有针对性的保留历史记录)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-%EF%BC%81-%E6%95%B0%E5%AD%97-%E4%BB%A3%E8%A1%A8%E6%89%A7%E8%A1%8C%E5%8E%86%E5%8F%B2%E4%B8%AD%E7%AC%ACn%E6%9D%A1%E5%91%BD%E4%BB%A4"><span class="toc-text">6.！+数字 代表执行历史中第n条命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-%E5%AD%97%E7%AC%A6%E4%B8%B2-%E4%BB%A3%E8%A1%A8%E6%90%9C%E7%B4%A2%E5%8E%86%E5%8F%B2%E5%91%BD%E4%BB%A4%E6%9C%80%E8%BF%91%E4%B8%80%E4%B8%AA%E4%BB%A5xxxx%E5%AD%97%E7%AC%A6%E5%BC%80%E5%A4%B4%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-text">7.!+字符串 代表搜索历史命令最近一个以xxxx字符开头的命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-crtl-r-%E8%BE%93%E5%85%A5%E6%9F%90%E6%9D%A1%E5%91%BD%E4%BB%A4%E7%9A%84%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%8C%E6%89%BE%E5%87%BA%E5%AF%B9%E5%BA%94%E7%9A%84%E5%91%BD%E4%BB%A4%EF%BC%8C%E6%8C%89%E5%8F%B3%E5%85%89%E6%A0%87%E9%94%AE"><span class="toc-text">8.crtl+r 输入某条命令的关键字，找出对应的命令，按右光标键</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%85%B3%E4%BA%8Ehistory%E7%9A%84%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">3.关于history的配置文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E4%B8%8E%E6%97%A5%E6%9C%9F%E6%97%A5%E5%8E%86%E6%8C%87%E4%BB%A4-date-%E4%B8%8E-cal"><span class="toc-text">时间与日期日历指令-date 与 cal</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81date%E6%8C%87%E4%BB%A4"><span class="toc-text">一、date指令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E7%B3%BB%E7%BB%9F%E6%97%A5%E6%9C%9F%E6%97%B6%E9%97%B4"><span class="toc-text">1.显示当前系统日期时间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E8%AE%BE%E7%BD%AE%E7%B3%BB%E7%BB%9F%E6%97%A5%E6%9C%9F"><span class="toc-text">2.设置系统日期</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81cal%E6%8C%87%E4%BB%A4"><span class="toc-text">二、cal指令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%8C%87%E4%BB%A4"><span class="toc-text">查找指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-find%EF%BC%88%E6%9F%A5%E6%96%87%E4%BB%B6%EF%BC%89"><span class="toc-text">1. find（查文件）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E6%96%87%E4%BB%B6%E5%90%8D-name"><span class="toc-text">1.1 文件名 (-name)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-2-%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B-type"><span class="toc-text">1.2 文件类型 (-type)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-3-%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F-size"><span class="toc-text">1.3 文件大小 (-size)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-%E7%9B%AE%E5%BD%95%E5%B1%82%E7%BA%A7"><span class="toc-text">1.4 目录层级</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-%E5%90%8C%E6%97%B6%E6%89%A7%E8%A1%8C%E5%A4%9A%E4%B8%AA%E6%93%8D%E4%BD%9C"><span class="toc-text">1.5 同时执行多个操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-5-1-exec"><span class="toc-text">1.5.1 exec</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-5-2-ok"><span class="toc-text">1.5.2 ok</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-5-3-xargs"><span class="toc-text">1.5.3 xargs</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-grep%EF%BC%88%E6%9F%A5%E6%96%87%E4%BB%B6%E9%87%8C%E5%85%B7%E4%BD%93%E5%86%85%E5%AE%B9%EF%BC%89"><span class="toc-text">2. grep（查文件里具体内容）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81grep%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">一、grep基本介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Fgrep%E5%AE%9E%E8%B7%B5"><span class="toc-text">二、正则表达式grep实践</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1%E3%80%81%E8%BE%93%E5%87%BA%E4%BB%A5-I-%E5%BC%80%E5%A4%B4%E7%9A%84%E8%A1%8C-%E4%B8%8D%E5%8C%BA%E5%88%86%E5%A4%A7%E5%B0%8F%E5%86%99"><span class="toc-text">2.1、输出以 I 开头的行(不区分大小写)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2%E3%80%81%E8%BE%93%E5%87%BA%E4%BB%A5-%E7%BB%93%E5%B0%BE%E7%9A%84%E8%A1%8C"><span class="toc-text">2.2、输出以.结尾的行</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-3%E3%80%81-%E7%AC%A6%E5%8F%B7"><span class="toc-text">2.3、$符号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-4%E3%80%81-%E4%BB%A3%E8%A1%A8%E7%A9%BA%E8%A1%8C%E7%9A%84%E6%84%8F%E6%80%9D-%E7%BB%84%E5%90%88%E7%AC%A6"><span class="toc-text">2.4、^$(代表空行的意思)组合符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-5%E3%80%81-%E7%82%B9%E7%AC%A6%E5%8F%B7"><span class="toc-text">2.5、.点符号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-6%E3%80%81-%E7%AC%A6%E5%8F%B7"><span class="toc-text">2.6、*符号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-7%E3%80%81-%E7%BB%84%E5%90%88%E7%AC%A6"><span class="toc-text">2.7、.*组合符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A8%E7%A4%BA%E6%89%80%E6%9C%89%E5%86%85%E5%AE%B9-%E5%8C%85%E6%8B%AC%E7%A9%BA%E8%A1%8C"><span class="toc-text">&quot;.*&quot;表示所有内容, 包括空行</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-8%E3%80%81-t%E7%AC%A6-%E5%90%AB%E4%B9%89-%E4%BB%A5%E4%BB%BB%E6%84%8F%E5%86%85%E5%AE%B9%E5%BC%80%E5%A4%B4-%E7%9B%B4%E5%88%B0t%E7%BB%93%E6%9D%9F"><span class="toc-text">2.8、^.*t符 (含义: 以任意内容开头, 直到t结束)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-9%E3%80%81-abc-%E4%B8%AD%E6%8B%AC%E5%8F%B7"><span class="toc-text">2.9、[abc]中括号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-10%E3%80%81grep%E7%9A%84%E5%8F%82%E6%95%B0-o"><span class="toc-text">2.10、grep的参数-o</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-11%E3%80%81-abc-%E4%B8%AD%E6%8B%AC%E5%8F%B7%E4%B8%AD%E5%8E%BB%E5%8F%8D"><span class="toc-text">2.11、[^abc]中括号中去反</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E6%89%A9%E5%B1%95%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8Fgrep%E5%AE%9E%E8%B7%B5"><span class="toc-text">三、扩展正则表达式grep实践</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1%E3%80%81-%E5%8F%B7"><span class="toc-text">3.1、+号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2%E3%80%81-%E7%AC%A6"><span class="toc-text">3.2、?符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3%E3%80%81-%E7%AC%A6"><span class="toc-text">3.3、|符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-4%E3%80%81-%E5%B0%8F%E6%8B%AC%E5%8F%B7"><span class="toc-text">3.4、()小括号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-5%E3%80%81-n-m-%E5%8C%B9%E9%85%8D%E6%AC%A1%E6%95%B0"><span class="toc-text">3.5、{n,m}匹配次数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-locate%EF%BC%88%E6%9F%A5%E6%96%87%E4%BB%B6%EF%BC%89"><span class="toc-text">3.locate（查文件）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-whereis%E5%91%BD%E4%BB%A4-%E6%9F%A5%E6%89%BE%E4%BA%8C%E8%BF%9B%E5%88%B6"><span class="toc-text">4.whereis命令(查找二进制)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-which%E5%91%BD%E4%BB%A4%EF%BC%88%E6%9F%A5%E6%89%BE%E4%BA%8C%E8%BF%9B%E5%88%B6%EF%BC%89"><span class="toc-text">5.which命令（查找二进制）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E5%8E%8B%E7%BC%A9%E4%B8%8E%E8%A7%A3%E5%8E%8B%E5%91%BD%E4%BB%A4"><span class="toc-text">打包压缩与解压命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#zip%E4%B8%8Eunzip%E5%91%BD%E4%BB%A4"><span class="toc-text">zip与unzip命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#gzip%E4%B8%8Egunzip%E5%91%BD%E4%BB%A4"><span class="toc-text">gzip与gunzip命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tar%E5%91%BD%E4%BB%A4"><span class="toc-text">tar命令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E5%89%B2%E6%8C%87%E4%BB%A4"><span class="toc-text">切割指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#cut%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3"><span class="toc-text">cut命令详解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">一、基本语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AE%9E%E6%93%8D%E6%A1%88%E4%BE%8B"><span class="toc-text">二、实操案例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81cut%E6%9C%89%E5%93%AA%E4%BA%9B%E7%BC%BA%E9%99%B7%E5%92%8C%E4%B8%8D%E8%B6%B3"><span class="toc-text">三、cut有哪些缺陷和不足</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-2"><span class="toc-text"></span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#awk-%E5%91%BD%E4%BB%A4"><span class="toc-text">awk 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-text">1. 基本用法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="toc-text">2. 工作流程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-text">3. 常用选项参数说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%AE%9E%E6%93%8D%E6%A1%88%E4%BE%8B"><span class="toc-text">4. 实操案例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%B8%B8%E7%94%A8awk%E7%9A%84%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="toc-text">5. 常用awk的内置变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-awk%E7%A8%8B%E5%BA%8F%E7%9A%84%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">6. awk程序的优先级</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#tcpdump%E6%8A%93%E5%8C%85%E6%8C%87%E4%BB%A4"><span class="toc-text">tcpdump抓包指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%B2%BE%E7%AE%80%E7%89%88%EF%BC%9A"><span class="toc-text">1.精简版：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%A4%8D%E6%9D%82%E7%89%88"><span class="toc-text">2.复杂版</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E6%8E%A7%E5%88%B6%E6%8A%93%E5%8C%85%E8%A1%8C%E4%B8%BA"><span class="toc-text">1. 控制抓包行为</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%8E%A7%E5%88%B6%E4%BF%A1%E6%81%AF%E5%A6%82%E4%BD%95%E6%98%BE%E7%A4%BA"><span class="toc-text">2. 控制信息如何显示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%8E%A7%E5%88%B6%E6%98%BE%E7%A4%BA%E4%BB%80%E4%B9%88%E6%95%B0%E6%8D%AE"><span class="toc-text">3. 控制显示什么数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E8%BF%87%E6%BB%A4%E5%91%BD%E4%BB%A4"><span class="toc-text">4. 过滤命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-%E5%9C%B0%E5%9D%80%E8%BF%87%E6%BB%A4"><span class="toc-text">4.1 地址过滤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-2-%E5%8D%8F%E8%AE%AE%E5%8F%8A%E7%AB%AF%E5%8F%A3%E8%BF%87%E6%BB%A4"><span class="toc-text">4.2 协议及端口过滤</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-%E6%8A%A5%E6%96%87%E7%89%B9%E5%BE%81%E8%BF%87%E6%BB%A4"><span class="toc-text">4.3 报文特征过滤</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-1-IP%E9%80%89%E9%A1%B9%E8%AE%BE%E7%BD%AE%EF%BC%8820%E5%AD%97%E8%8A%82%EF%BC%8C%E5%8F%AF%E5%8F%98%E9%83%A8%E5%88%86%EF%BC%880-20-B%EF%BC%8C%E6%9C%80%E5%A4%A740%E5%AD%97%E8%8A%82%EF%BC%89"><span class="toc-text">4.3.1 IP选项设置（20字节，可变部分（0-20)B，最大40字节）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-1-2-DF%E5%88%86%E7%89%87%E6%A0%87%E8%AE%B0"><span class="toc-text">4.3.1.2 DF分片标记</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-2-TCP%E9%80%89%E9%A1%B9%E8%AE%BE%E7%BD%AE%EF%BC%88%E5%9F%BA%E7%A1%80%E9%95%BF%E5%BA%A620%E5%AD%97%E8%8A%82%EF%BC%8C%E6%9C%80%E9%95%BF%E5%8F%AF%E8%BE%BE60%E5%AD%97%E8%8A%82%EF%BC%89"><span class="toc-text">4.3.2 TCP选项设置（基础长度20字节，最长可达60字节）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-3-%E5%8C%B9%E9%85%8DTCP%E6%A0%87%E5%BF%97%E4%BD%8D"><span class="toc-text">4.3.3.匹配TCP标志位</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8A%A0%E5%AF%86%E9%98%B2%E8%AF%AF%E6%93%8D%E4%BD%9C-chattr"><span class="toc-text">文件加密防误操作-chattr</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">任务调度</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#crond"><span class="toc-text">crond</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#at%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"><span class="toc-text">at定时任务</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux 实操篇-Linux 磁盘分区、挂载</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#12-1-Linux-%E5%88%86%E5%8C%BA"><span class="toc-text">12.1. Linux 分区</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-1-%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D"><span class="toc-text">12.1.1.原理介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-2-%E7%A1%AC%E7%9B%98%E8%AF%B4%E6%98%8E"><span class="toc-text">12.1.2.硬盘说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-1-3-%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E8%AE%BE%E5%A4%87%E6%8C%82%E8%BD%BD%E6%83%85%E5%86%B5"><span class="toc-text">12.1.3.查看所有设备挂载情况</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-2-%E6%8C%82%E8%BD%BD%E7%9A%84%E7%BB%8F%E5%85%B8%E6%A1%88%E4%BE%8B"><span class="toc-text">12.2.挂载的经典案例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-1-%E8%AF%B4%E6%98%8E"><span class="toc-text">12.2.1.说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-2-%E5%A6%82%E4%BD%95%E5%A2%9E%E5%8A%A0%E4%B8%80%E5%9D%97%E7%A1%AC%E7%9B%98"><span class="toc-text">12.2.2.如何增加一块硬盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-3-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A2%9E%E5%8A%A0%E7%A1%AC%E7%9B%98%E6%AD%A5%E9%AA%A4-1-%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%B7%BB%E5%8A%A0%E7%A1%AC%E7%9B%98"><span class="toc-text">12.2.3.虚拟机增加硬盘步骤 1-虚拟机添加硬盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-4-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A2%9E%E5%8A%A0%E7%A1%AC%E7%9B%98%E6%AD%A5%E9%AA%A4-2-%E5%88%86%E5%8C%BA"><span class="toc-text">12.2.4 虚拟机增加硬盘步骤 2-分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-5-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A2%9E%E5%8A%A0%E7%A1%AC%E7%9B%98%E6%AD%A5%E9%AA%A4-3-%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-text">12.2.5 虚拟机增加硬盘步骤 3-格式化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-6-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A2%9E%E5%8A%A0%E7%A1%AC%E7%9B%98%E6%AD%A5%E9%AA%A4-4-%E6%8C%82%E8%BD%BD"><span class="toc-text">12.2.6.虚拟机增加硬盘步骤 4-挂载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-2-7-%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%A2%9E%E5%8A%A0%E7%A1%AC%E7%9B%98%E6%AD%A5%E9%AA%A4-5-%E8%AE%BE%E7%BD%AE%E5%8F%AF%E4%BB%A5%E8%87%AA%E5%8A%A8%E6%8C%82%E8%BD%BD"><span class="toc-text">12.2.7.虚拟机增加硬盘步骤 5-设置可以自动挂载</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-3-%E7%A3%81%E7%9B%98%E6%83%85%E5%86%B5%E6%9F%A5%E8%AF%A2"><span class="toc-text">12.3.磁盘情况查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-1-%E6%9F%A5%E8%AF%A2%E7%B3%BB%E7%BB%9F%E6%95%B4%E4%BD%93%E7%A3%81%E7%9B%98%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5"><span class="toc-text">12.3.1.查询系统整体磁盘使用情况</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-3-2-%E6%9F%A5%E8%AF%A2%E6%8C%87%E5%AE%9A%E7%9B%AE%E5%BD%95%E7%9A%84%E7%A3%81%E7%9B%98%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5"><span class="toc-text">12.3.2.查询指定目录的磁盘占用情况</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-4-%E7%A3%81%E7%9B%98%E6%83%85%E5%86%B5-%E5%B7%A5%E4%BD%9C%E5%AE%9E%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="toc-text">12.4.磁盘情况-工作实用指令</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux 实操篇-网络配置</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#13-1-Linux-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86%E5%9B%BE"><span class="toc-text">13.1. Linux 网络配置原理图</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-2-%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9CIP%E5%92%8C%E7%BD%91%E5%85%B3"><span class="toc-text">13.2.查看网络IP和网关</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-3-linux-%E7%BD%91%E7%BB%9C%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="toc-text">13.3. linux 网络环境配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3-1-%E7%AC%AC%E4%B8%80%E7%A7%8D%E6%96%B9%E6%B3%95-%E8%87%AA%E5%8A%A8%E8%8E%B7%E5%8F%96ip-%EF%BC%9A"><span class="toc-text">13.3.1.第一种方法(自动获取ip)：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-3-2-%E7%AC%AC%E4%BA%8C%E7%A7%8D%E6%96%B9%E6%B3%95-%E6%89%8B%E5%8A%A8%E8%AE%BE%E7%BD%AEip"><span class="toc-text">13.3.2.第二种方法(手动设置ip)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-4-%E8%AE%BE%E7%BD%AELinux%E7%B3%BB%E7%BB%9F%E7%9A%84%E4%B8%BB%E6%9C%BA%E5%90%8D%E5%92%8C-hosts-%E6%98%A0%E5%B0%84"><span class="toc-text">13.4.设置Linux系统的主机名和 hosts 映射</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#13-4-1-%E8%AE%BE%E7%BD%AE%E4%B8%BB%E6%9C%BA%E5%90%8D"><span class="toc-text">13.4.1.设置主机名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-4-2-%E8%AE%BE%E7%BD%AE-hosts-%E6%98%A0%E5%B0%84"><span class="toc-text">13.4.2.设置 hosts 映射</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-5-%E4%B8%BB%E6%9C%BA%E5%90%8D%E8%A7%A3%E6%9E%90%E8%BF%87%E7%A8%8B%E5%88%86%E6%9E%90-hosts%E3%80%81DNS"><span class="toc-text">13.5.主机名解析过程分析(hosts、DNS)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#13-5-1-hosts"><span class="toc-text">13.5.1. hosts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-5-2-DNS"><span class="toc-text">13.5.2. DNS</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-5-3-%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B"><span class="toc-text">13.5.3.应用实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">linux中的进程（ps与kill指令）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-ps%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3"><span class="toc-text">1. ps命令详解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">一、常用操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E6%9F%A5%E7%9C%8B%E6%89%80%E6%9C%89%E8%BF%9B%E7%A8%8B%EF%BC%88%E8%BF%9E%E5%B8%A6%E5%91%BD%E4%BB%A4%E8%A1%8C%EF%BC%89"><span class="toc-text">1、查看所有进程（连带命令行）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E6%98%BE%E7%A4%BA%E6%89%80%E6%9C%89%E5%8C%85%E5%90%AB%E5%85%B6%E4%BB%96%E4%BD%BF%E7%94%A8%E8%80%85%E7%9A%84%E8%BF%9B%E7%A8%8B"><span class="toc-text">2、显示所有包含其他使用者的进程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E8%BF%9B%E7%A8%8B%EF%BC%88grep%E8%BF%87%E6%BB%A4%EF%BC%89"><span class="toc-text">3、查看指定进程（grep过滤）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E6%9F%A5%E7%9C%8BCPU-%E5%86%85%E5%AD%98%E5%8D%A0%E7%94%A8%E7%8E%87%E6%9C%80%E9%AB%98%E7%9A%84%E8%BF%9B%E7%A8%8B"><span class="toc-text">4、查看CPU&#x2F;内存占用率最高的进程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E3%80%81%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E7%94%A8%E6%88%B7%E7%9A%84%E8%BF%9B%E7%A8%8B"><span class="toc-text">5、查看指定用户的进程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E3%80%81%E5%88%86%E9%A1%B5%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B"><span class="toc-text">6、分页查看进程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%8B%93%E5%B1%95"><span class="toc-text">二、拓展</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81TTY%E5%AD%97%E6%AE%B5%EF%BC%88%E7%BB%88%E7%AB%AF%E7%B1%BB%E5%9E%8B%EF%BC%89"><span class="toc-text">1、TTY字段（终端类型）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81STAT%E5%AD%97%E6%AE%B5%EF%BC%88%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81%EF%BC%89"><span class="toc-text">2、STAT字段（进程状态）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E5%83%B5%E5%B0%B8%E8%BF%9B%E7%A8%8B"><span class="toc-text">3、僵尸进程</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-kill-%E5%92%8C-killall%E6%8C%87%E4%BB%A4%EF%BC%9A%E7%BB%88%E6%AD%A2%E8%BF%9B%E7%A8%8B"><span class="toc-text">2.kill 和 killall指令：终止进程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E6%A0%91-pstree"><span class="toc-text">3.查看进程树 pstree</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E6%9C%8D%E5%8A%A1-service-%E7%AE%A1%E7%90%86"><span class="toc-text">4.服务(service)管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-5-1-%E4%BB%8B%E7%BB%8D"><span class="toc-text">14.5.1.介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-5-2-service-%E7%AE%A1%E7%90%86%E6%8C%87%E4%BB%A4"><span class="toc-text">14.5.2. service 管理指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-5-3-%E6%9F%A5%E7%9C%8B%E6%9C%8D%E5%8A%A1%E5%90%8D%E6%96%B9%E5%BC%8F"><span class="toc-text">14.5.3.查看服务名方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%9A%84%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB-runlevel"><span class="toc-text">服务的运行级别(runlevel)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#CentOS7-%E5%90%8E%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB%E8%AF%B4%E6%98%8E"><span class="toc-text">CentOS7 后运行级别说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chkconfig-%E6%8C%87%E4%BB%A4"><span class="toc-text">chkconfig 指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#systemctl-%E7%AE%A1%E7%90%86%E6%8C%87%E4%BB%A4"><span class="toc-text">systemctl 管理指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#systemctl-%E8%AE%BE%E7%BD%AE%E6%9C%8D%E5%8A%A1%E7%9A%84%E8%87%AA%E5%90%AF%E5%8A%A8%E7%8A%B6%E6%80%81"><span class="toc-text">systemctl 设置服务的自启动状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#firewall-%E6%8C%87%E4%BB%A4%EF%BC%9A%E6%89%93%E5%BC%80%E6%88%96%E8%80%85%E5%85%B3%E9%97%AD%E6%8C%87%E5%AE%9A%E7%AB%AF%E5%8F%A3"><span class="toc-text">firewall 指令：打开或者关闭指定端口</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-top%E6%8C%87%E4%BB%A4%EF%BC%9A%E5%8A%A8%E6%80%81%E7%9B%91%E6%8E%A7%E8%BF%9B%E7%A8%8B"><span class="toc-text">5. top指令：动态监控进程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-6-1-%E4%BB%8B%E7%BB%8D"><span class="toc-text">14.6.1.介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-6-2-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="toc-text">14.6.2.基本语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-6-3-%E4%BA%A4%E4%BA%92%E6%93%8D%E4%BD%9C%E8%AF%B4%E6%98%8E"><span class="toc-text">14.6.3.交互操作说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-6-4-%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B"><span class="toc-text">14.6.4.应用实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-netstat%E6%8C%87%E4%BB%A4%EF%BC%9A%E7%9B%91%E6%8E%A7%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81"><span class="toc-text">6. netstat指令：监控网络状态</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#14-7-1-%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E7%BD%91%E7%BB%9C%E6%83%85%E5%86%B5netstat"><span class="toc-text">14.7.1.查看系统网络情况netstat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-7-2-%E6%A3%80%E6%B5%8B%E4%B8%BB%E6%9C%BA%E8%BF%9E%E6%8E%A5%E5%91%BD%E4%BB%A4ping"><span class="toc-text">14.7.2.检测主机连接命令ping</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux 实操篇- RPM 与 YUM</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#15-1-RPM"><span class="toc-text">15.1. RPM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-1-%E4%BB%8B%E7%BB%8D"><span class="toc-text">15.1.1.介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-2-rpm-%E7%9A%84%E7%AE%80%E5%8D%95%E6%9F%A5%E8%AF%A2%E6%8C%87%E4%BB%A4"><span class="toc-text">15.1.2. rpm 的简单查询指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-3-rpm-%E7%9A%84%E5%85%B6%E5%AE%83%E6%9F%A5%E8%AF%A2%E6%8C%87%E4%BB%A4"><span class="toc-text">15.1.3. rpm 的其它查询指令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-4-%E5%88%A0%E9%99%A4-rpm-%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-text">15.1.4.删除 rpm 软件包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-1-5-%E5%AE%89%E8%A3%85-rpm-%E8%BD%AF%E4%BB%B6%E5%8C%85"><span class="toc-text">15.1.5.安装 rpm 软件包</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-2-yum"><span class="toc-text">15.2. yum</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-1-%E4%BB%8B%E7%BB%8D"><span class="toc-text">15.2.1.介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-2-2-yum-%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%8C%87%E4%BB%A4"><span class="toc-text">15.2.2. yum 的基本指令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-3-%E6%80%BB%E7%BB%93"><span class="toc-text">15.3.总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">大数据定制篇-Shell编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#17-1-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%AD%A6%E4%B9%A0Shell-%E7%BC%96%E7%A8%8B"><span class="toc-text">17.1.为什么要学习Shell 编程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-2-Shell-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">17.2. Shell 是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-3-Shell-%E8%84%9A%E6%9C%AC"><span class="toc-text">17.3. Shell 脚本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-4-Shell-%E7%9A%84%E5%8F%98%E9%87%8F"><span class="toc-text">17.4. Shell 的变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#17-4-1-Shell-%E5%8F%98%E9%87%8F%E4%BB%8B%E7%BB%8D"><span class="toc-text">17.4.1. Shell 变量介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-4-2-shell-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-text">17.4.2. shell 自定义变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-5-%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-text">17.5.设置环境变量(全局变量)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-6-%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0%E5%8F%98%E9%87%8F"><span class="toc-text">17.6.位置参数变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-7-%E9%A2%84%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-text">17.7.预定义变量</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#17-8-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-text">17.8.运算符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-9-%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD"><span class="toc-text">17.9.条件判断</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-10-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-text">17.10.流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#17-10-1-if-%E8%AF%AD%E5%8F%A5"><span class="toc-text">17.10.1. if 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-10-2-case-%E8%AF%AD%E5%8F%A5"><span class="toc-text">17.10.2. case 语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-10-3-for-%E5%BE%AA%E7%8E%AF"><span class="toc-text">17.10.3. for 循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-10-4-while-%E5%BE%AA%E7%8E%AF"><span class="toc-text">17.10.4. while 循环</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-11-read-%E8%AF%BB%E5%8F%96%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%85%A5"><span class="toc-text">17.11. read 读取控制台输入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#17-12-1-%E5%87%BD%E6%95%B0%E4%BB%8B%E7%BB%8D"><span class="toc-text">17.12.1.函数介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-12-2-%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="toc-text">17.12.2.系统函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-12-3-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-text">17.12.3.自定义函数</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-13-Shell-%E7%BC%96%E7%A8%8B%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="toc-text">17.13. Shell 编程综合案例</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Ubuntu</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%B8%8B%E8%BD%BD"><span class="toc-text">1.下载</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-VM%E5%AE%89%E8%A3%85Ubuntu"><span class="toc-text">2 VM安装Ubuntu</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E6%9B%B4%E6%94%B9Ubuntu%E8%BD%AF%E4%BB%B6%E6%BA%90"><span class="toc-text">3 更改Ubuntu软件源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Windows%E4%B8%8EUbuntu%E8%B7%A8%E7%B3%BB%E7%BB%9F%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4"><span class="toc-text">4 Windows与Ubuntu跨系统复制粘贴</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Ubuntu中的apt命令（相当于centos yum）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#apt-%E5%AE%89%E8%A3%85"><span class="toc-text">apt 安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95"><span class="toc-text">3.远程登录</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%BF%E7%94%A8ssh%E8%BF%9C%E7%A8%8B%E5%B7%A5%E5%85%B7%EF%BC%88xshell%EF%BC%89%E7%99%BB%E5%BD%95-Ubuntu"><span class="toc-text">1.使用ssh远程工具（xshell）登录 Ubuntu</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%94%A8%E5%8F%A6%E4%B8%80%E5%8F%B0%E6%9C%BA%E5%99%A8%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95Ubuntu"><span class="toc-text">2.用另一台机器远程登录Ubuntu</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux 高级篇-日志管理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#21-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">21.1.基本介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21-2-%E7%B3%BB%E7%BB%9F%E5%B8%B8%E7%94%A8%E7%9A%84%E6%97%A5%E5%BF%97"><span class="toc-text">21.2.系统常用的日志</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21-3-%E6%97%A5%E5%BF%97%E7%AE%A1%E7%90%86%E6%9C%8D%E5%8A%A1-rsyslogd"><span class="toc-text">21.3.日志管理服务 rsyslogd</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21-4-%E6%97%A5%E5%BF%97%E8%BD%AE%E6%9B%BF"><span class="toc-text">21.4.日志轮替</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-4-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">21.4.1.基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-4-2-%E6%97%A5%E5%BF%97%E8%BD%AE%E6%9B%BF%E6%96%87%E4%BB%B6%E5%91%BD%E5%90%8D"><span class="toc-text">21.4.2.日志轮替文件命名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-4-3-logrotate-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-text">21.4.3. logrotate 配置文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-4-4-%E6%8A%8A%E8%87%AA%E5%B7%B1%E7%9A%84%E6%97%A5%E5%BF%97%E5%8A%A0%E5%85%A5%E6%97%A5%E5%BF%97%E8%BD%AE%E6%9B%BF"><span class="toc-text">21.4.4.把自己的日志加入日志轮替</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#21-4-5-%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B"><span class="toc-text">21.4.5.应用实例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21-5-%E6%97%A5%E5%BF%97%E8%BD%AE%E6%9B%BF%E6%9C%BA%E5%88%B6%E5%8E%9F%E7%90%86"><span class="toc-text">21.5.日志轮替机制原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21-6-%E6%9F%A5%E7%9C%8B%E5%86%85%E5%AD%98%E6%97%A5%E5%BF%97"><span class="toc-text">21.6.查看内存日志</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux 高级篇-定制自己的 Linux 系统</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#22-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">22.1.基本介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22-2-%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86"><span class="toc-text">22.2.基本原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22-3-%E5%88%B6%E4%BD%9C-min-linux-%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90"><span class="toc-text">22.3.制作 min linux 思路分析</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#22-4-%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4"><span class="toc-text">22.4.操作步骤</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">linux 系统-备份与恢复</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#24-1-%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"><span class="toc-text">24.1.基本介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24-2-%E5%AE%89%E8%A3%85-dump-%E5%92%8C-restore"><span class="toc-text">24.2.安装 dump 和 restore</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24-3-%E4%BD%BF%E7%94%A8-dump-%E5%AE%8C%E6%88%90%E5%A4%87%E4%BB%BD"><span class="toc-text">24.3.使用 dump 完成备份</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#24-4-%E4%BD%BF%E7%94%A8-restore-%E5%AE%8C%E6%88%90%E6%81%A2%E5%A4%8D"><span class="toc-text">24.4.使用 restore 完成恢复</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux部分源码解读</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">数据备份与恢复</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#dump%E5%A4%87%E4%BB%BD"><span class="toc-text">dump备份</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B"><span class="toc-text">一、命令简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B"><span class="toc-text">二、使用示例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%85%A8%E9%87%8F%E5%A4%87%E4%BB%BD-boot%E5%88%86%E5%8C%BA"><span class="toc-text">1、全量备份&#x2F;boot分区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E5%A2%9E%E9%87%8F%E5%A4%87%E4%BB%BD-boot%E5%88%86%E5%8C%BA"><span class="toc-text">2、增量备份&#x2F;boot分区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E6%9F%A5%E8%AF%A2%E5%88%86%E5%8C%BA%E7%9A%84%E6%9C%80%E6%96%B0%E5%A4%87%E4%BB%BD%E8%AE%B0%E5%BD%95"><span class="toc-text">3、查询分区的最新备份记录</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6%E6%88%96%E7%9B%AE%E5%BD%95"><span class="toc-text">4、备份文件或目录</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8%E8%AF%AD%E6%B3%95%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-text">三、使用语法及参数说明</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E4%BD%BF%E7%94%A8%E8%AF%AD%E6%B3%95"><span class="toc-text">1、使用语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-text">2、参数说明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#restore%E6%81%A2%E5%A4%8D"><span class="toc-text">restore恢复</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%91%BD%E4%BB%A4%E7%AE%80%E4%BB%8B-2"><span class="toc-text">一、命令简介</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B-2"><span class="toc-text">二、使用示例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E8%8E%B7%E5%8F%96%E5%91%BD%E4%BB%A4%E5%B8%AE%E5%8A%A9"><span class="toc-text">1、获取命令帮助</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E6%AF%94%E8%BE%83%E6%95%B0%E6%8D%AE%E5%8F%98%E5%8C%96"><span class="toc-text">2、比较数据变化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E6%9F%A5%E7%9C%8B%E6%A8%A1%E5%BC%8F%E6%9F%A5%E7%9C%8B%E5%A4%87%E4%BB%BD%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E7%9A%84%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-text">3、查看模式查看备份文件包含的文件内容</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4%E3%80%81%E5%85%A8%E9%87%8F%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9F"><span class="toc-text">4、全量备份还原</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E3%80%81%E5%A2%9E%E9%87%8F%E5%A4%87%E4%BB%BD%E8%BF%98%E5%8E%9F"><span class="toc-text">5、增量备份还原</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6%E3%80%81%E4%BA%A4%E4%BA%92%E5%BC%8F%E6%A8%A1%E5%BC%8F%E4%B8%8B%E8%BF%98%E5%8E%9F%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6"><span class="toc-text">6、交互式模式下还原指定文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8%E8%AF%AD%E6%B3%95%E5%8F%8A%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E-2"><span class="toc-text">三、使用语法及参数说明</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E4%BD%BF%E7%94%A8%E8%AF%AD%E6%B3%95-2"><span class="toc-text">1、使用语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E6%A8%A1%E5%BC%8F%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-text">2、模式参数说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3%E3%80%81%E5%B8%B8%E7%94%A8%E9%80%89%E9%A1%B9%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E"><span class="toc-text">3、常用选项参数说明</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux图形化界面-webmin和bt宝塔</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E7%AE%80%E4%BB%8B"><span class="toc-text">一、宝塔面板简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AE%89%E8%A3%85%E6%AD%A5%E9%AA%A4"><span class="toc-text">二、安装步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0%E3%80%81%E5%AE%89%E8%A3%85%E8%A6%81%E6%B1%82%EF%BC%9A"><span class="toc-text">0、安装要求：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E5%AE%89%E8%A3%85wget%E5%91%BD%E4%BB%A4"><span class="toc-text">2、安装wget命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC"><span class="toc-text">3、下载安装脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E6%89%A7%E8%A1%8C%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC"><span class="toc-text">4、执行安装脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E6%B3%A8%E5%86%8C%E4%B8%80%E4%B8%AA%E5%AE%9D%E5%A1%94%E8%B4%A6%E6%88%B7"><span class="toc-text">5、注册一个宝塔账户</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90"><span class="toc-text">6、安装完成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E7%99%BB%E5%BD%95%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF"><span class="toc-text">7、登录宝塔面板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E9%98%85%E8%AF%BB%E5%B9%B6%E5%90%8C%E6%84%8F%E7%94%A8%E6%88%B7%E5%8D%8F%E8%AE%AE"><span class="toc-text">8、阅读并同意用户协议</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E3%80%81%E7%BB%91%E5%AE%9A%E5%AE%9D%E5%A1%94%E5%AE%98%E7%BD%91%E6%B3%A8%E5%86%8C%E7%9A%84%E8%B4%A6%E5%8F%B7"><span class="toc-text">9、绑定宝塔官网注册的账号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E3%80%81%E5%AE%9D%E5%A1%94%E9%9D%A2%E6%9D%BF%E5%AE%89%E8%A3%85%E5%AE%8C%E6%88%90"><span class="toc-text">10、宝塔面板安装完成</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E4%BD%BF%E7%94%A8%E7%AE%80%E4%BB%8B"><span class="toc-text">三、使用简介</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E7%A4%BA%E4%BE%8B%E2%80%94%E2%80%94ftp%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="toc-text">1、软件安装示例——ftp软件安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E9%9D%A2%E6%9D%BF%E8%AE%BE%E7%BD%AE"><span class="toc-text">2、面板设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%BB%88%E7%AB%AF%E6%93%8D%E4%BD%9C"><span class="toc-text">3、命令行终端操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86"><span class="toc-text">4、安全管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E3%80%81%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E4%B8%8B%E8%BD%BD"><span class="toc-text">5、文件上传下载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E3%80%81%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1"><span class="toc-text">6、定时任务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E3%80%81%E7%B3%BB%E7%BB%9F%E7%9B%91%E6%8E%A7"><span class="toc-text">7、系统监控</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8%E3%80%81%E6%9C%8D%E5%8A%A1%E5%90%AF%E5%81%9C%E7%AE%A1%E7%90%86"><span class="toc-text">8、服务启停管理</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">bt default</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81QA"><span class="toc-text">四、QA</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E6%8A%A5%E9%94%99%E8%AF%B7%E4%BD%BF%E7%94%A8%E6%AD%A3%E7%A1%AE%E7%9A%84%E5%85%A5%E5%8F%A3%E7%99%BB%E5%BD%95%E9%9D%A2%E6%9D%BF"><span class="toc-text">1、报错请使用正确的入口登录面板</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%AD%A3%E5%9C%A8%E9%87%8D%E6%96%B0%E8%BF%9E%E6%8E%A5%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-text">2.正在重新连接服务器</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">防木马病毒入侵—chkrootkit</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#chkrootkit%E7%AE%80%E4%BB%8B"><span class="toc-text">chkrootkit简介</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Linux面试题（节选）</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background-color: transparent;"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">格言🧬</p><div class="bg-ad"><div>再看看那个光点，它就在这里，这是家园，这是我们 —— 你所爱的每一个人，你认识的一个人，你听说过的每一个人，曾经有过的每一个人，都在它上面度过他们的一生✨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">点击开启星辰之旅</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">猜你想看💡</p><ul class="ft-links"><li><a href="/posts/eec9786.html">魔改指南</a><a href="/box/nav/">网址导航</a></li><li><a href="/social/link/">我的朋友</a><a href="/comments/">留点什么</a></li><li><a href="/personal/about/">关于作者</a><a href="/archives/">文章归档</a></li><li><a href="/categories/">文章分类</a><a href="/tags/">文章标签</a></li><li><a href="/box/Gallery/">我的画廊</a><a href="/personal/bb/">我的唠叨</a></li><li><a href="/site/time/">建设进程</a><a href="/site/census/">网站统计</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">推荐友链⌛</p><div class="ft-img-group"><div class="img-group-item"><a target="_blank" rel="noopener" href="https://www.fomal.cc/" title="Fomalhaut🥝"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2F5680794c-f7f8-4b02-8778-f893746d50e5%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&amp;refer=http%3A%2F%2Fsafe-img.xhscdn.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1689256065&amp;t=158a3f4d7f8445a7830db3e3d0c9855d" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fsafe-img.xhscdn.com%2Fbw1%2Fba23f9d6-a343-4775-a4ba-6a75a1d1534a%3FimageView2%2F2%2Fw%2F1080%2Fformat%2Fjpg&amp;refer=http%3A%2F%2Fsafe-img.xhscdn.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1689256065&amp;t=94cbb7420fdb3fde6174422c4f9ce088" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://inews.gtimg.com/newsapp_bt/0/13613201613/1000" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://pic1.zhimg.com/v2-ca8c833cf905207881c55be1f8f3d5ec_r.jpg" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F201909%2F11%2F20190911194436_mzunv.thumb.1000_0.jpg&amp;refer=http%3A%2F%2Fc-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1689256273&amp;t=df44fbf97e12f5b8d63a3280de154e87" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fblog%2F202104%2F28%2F20210428162418_ac936.thumb.1000_0.jpg&amp;refer=http%3A%2F%2Fc-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1689256486&amp;t=677806a056194cc8089e0a675d7a0359" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img2.baidu.com/it/u=4014948925,1148047137&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=501&amp;h=500" alt=""/></a></div><div class="img-group-item"><a href="javascript:void(0)" title="广告位招租"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fitem%2F202004%2F27%2F20200427065657_nojeh.thumb.1000_0.jpg&amp;refer=http%3A%2F%2Fc-ssl.duitang.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1689256098&amp;t=b75f07f327788990c4b90868abdac671" alt=""/></a></div></div></div></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v6.3.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Frame-Hexo-blue.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v4.3.1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Theme-Butterfly-6513df.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="本站采用多线部署，主线路托管于Vercel"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Hosted-Vercel-brightgreen.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://user.51.la/" style="margin-inline:5px" title="本站数据分析得益于51la技术支持"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/Analytics-51la-3db1eb.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20226665" style="margin-inline:5px" title="本站已加入萌ICP豪华套餐，萌ICP备20226665号"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/萌ICP备-20226665-fe1384.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://bitiful.dogecast.com/buckets" style="margin-inline:5px" title="本网站经Service Worker分流至缤纷云对象存储"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Bucket-缤纷云-9c62da.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://www.netdun.net/" style="margin-inline:5px" title="本站使用网盾星球提供CDN加速与防护"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://sourcebucket.s3.ladydaily.com/badge/CDN-网盾星球-fff2cc.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本网站源码由Github提供存储仓库"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src=" https://sourcebucket.s3.ladydaily.com/badge/Source-Github-d021d6.svg" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><a class="icon-V hidden" onclick="switchNightMode()" title="浅色和深色模式转换"><svg width="25" height="25" viewBox="0 0 1024 1024"><use id="modeicon" xlink:href="#icon-moon"></use></svg></a><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button class="share" type="button" title="右键模式" onclick="changeMouseMode()"><i class="fas fa-mouse"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog right_side"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button class="share" type="button" title="分享链接" onclick="share()"><i class="fas fa-share-nodes"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i><span id="percent">0<span>%</span></span></button><button id="go-down" type="button" title="直达底部" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div class="js-pjax" id="rightMenu"><div class="rightMenu-group rightMenu-small"><a class="rightMenu-item" href="javascript:window.history.back();"><i class="fa fa-arrow-left"></i></a><a class="rightMenu-item" href="javascript:window.history.forward();"><i class="fa fa-arrow-right"></i></a><a class="rightMenu-item" href="javascript:window.location.reload();"><i class="fa fa-refresh"></i></a><a class="rightMenu-item" href="javascript:rmf.scrollToTop();"><i class="fa fa-arrow-up"></i></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-text"><a class="rightMenu-item" href="javascript:rmf.copySelect();"><i class="fa fa-copy"></i><span>复制</span></a><a class="rightMenu-item" href="javascript:window.open(&quot;https://www.baidu.com/s?wd=&quot;+window.getSelection().toString());window.location.reload();"><i class="fa fa-search"></i><span>百度搜索</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-too"><a class="rightMenu-item" href="javascript:window.open(window.getSelection().toString());window.location.reload();"><i class="fa fa-link"></i><span>转到链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-paste"><a class="rightMenu-item" href="javascript:rmf.paste()"><i class="fa fa-copy"></i><span>粘贴</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-post"><a class="rightMenu-item" href="#post-comment"><i class="fas fa-comment"></i><span>空降评论</span></a><a class="rightMenu-item" href="javascript:rmf.copyWordsLink()"><i class="fa fa-link"></i><span>复制本文地址</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-to"><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>新窗口打开</span></a><a class="rightMenu-item" id="menu-too" href="javascript:rmf.open()"><i class="fa fa-link"></i><span>转到链接</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制链接</span></a></div><div class="rightMenu-group rightMenu-line hide" id="menu-img"><a class="rightMenu-item" href="javascript:rmf.saveAs()"><i class="fa fa-download"></i><span>保存图片</span></a><a class="rightMenu-item" href="javascript:rmf.openWithNewTab()"><i class="fa fa-window-restore"></i><span>在新窗口打开</span></a><a class="rightMenu-item" href="javascript:rmf.copyLink()"><i class="fa fa-copy"></i><span>复制图片链接</span></a></div><div class="rightMenu-group rightMenu-line"><a class="rightMenu-item" href="javascript:randomPost()"><i class="fa fa-paper-plane"></i><span>随便逛逛</span></a><a class="rightMenu-item" href="javascript:switchNightMode();"><i class="fa fa-moon"></i><span>昼夜切换</span></a><a class="rightMenu-item" href="/personal/about/"><i class="fa fa-info-circle"></i><span>关于博客</span></a><a class="rightMenu-item" href="javascript:toggleWinbox();"><i class="fas fa-cog"></i><span>美化设置</span></a><a class="rightMenu-item" href="javascript:rmf.fullScreen();"><i class="fas fa-expand"></i><span>切换全屏</span></a><a class="rightMenu-item" href="javascript:window.print();"><i class="fa-solid fa-print"></i><span>打印页面</span></a></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.staticfile.org/fancyapps-ui/4.0.31/fancybox.umd.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/instant.page/5.1.0/instantpage.min.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><script async="async">var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())
setTimeout(function(){preloader.endLoading();}, 5000);
document.getElementById('loading-box').addEventListener('click',()=> {preloader.endLoading()})</script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: '',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: '',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.staticfile.org/twikoo/1.6.8/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="https://cdn.staticfile.org/jquery/3.6.3/jquery.min.js"></script><script async src="https://cdn1.tianli0.top/npm/vue@2.6.14/dist/vue.min.js"></script><script async src="https://cdn1.tianli0.top/npm/element-ui@2.15.6/lib/index.js"></script><script async src="https://cdn.bootcdn.net/ajax/libs/clipboard.js/2.0.11/clipboard.min.js"></script><script defer type="text/javascript" src="https://cdn1.tianli0.top/npm/sweetalert2@8.19.0/dist/sweetalert2.all.js"></script><script async src="//npm.elemecdn.com/pace-js@1.2.4/pace.min.js"></script><script defer src="https://cdn1.tianli0.top/gh/nextapps-de/winbox/dist/winbox.bundle.min.js"></script><script async src="//at.alicdn.com/t/c/font_3586335_hsivh70x0fm.js"></script><script async src="//at.alicdn.com/t/c/font_3636804_gr02jmjr3y9.js"></script><script async src="//at.alicdn.com/t/c/font_3612150_kfv55xn3u2g.js"></script><script async src="https://cdn.wpon.cn/2022-sucai/Gold-ingot.js"></script><canvas id="universe"></canvas><canvas id="snow"></canvas><script defer src="/js/fomal.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdnjs.cloudflare.com/ajax/libs/butterfly-extsrc/1.1.3/fireworks.min.js"></script><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.12/metingjs/Meting.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show","#web_bg",".js-pjax","#bibi","body > title","#app","#tag-echarts","#posts-echart","#categories-echarts"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --> <script data-pjax>if(document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
    var parent = document.getElementById('recent-posts');
    var child = '<div class="recent-post-item" style="width:100%;height: auto"><div id="catalog_magnet"><div class="magnet_item"><a class="magnet_link" href="https://godwad.github.io/categories/算法/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍡 小sの算法学习笔记 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://godwad.github.io/categories/软件/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍉 小sの软件使用教程 (2)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://godwad.github.io/categories/数据库/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍨 小sの数据库笔记 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item"><a class="magnet_link" href="https://godwad.github.io/categories/演示/"><div class="magnet_link_context" style=""><span style="font-weight:500;flex:1">🍥 小sの案例演示笔记 (1)</span><span style="padding:0px 4px;border-radius: 8px;"><i class="fas fa-arrow-circle-right"></i></span></div></a></div><div class="magnet_item" style="visibility: hidden"></div><div class="magnet_item" style="visibility: hidden"></div><a class="magnet_link_more"  href="https://godwad.github.io/categories/" style="flex:1;text-align: center;margin-bottom: 10px;">查看更多...</a></div></div>';
    console.log('已挂载magnet')
    parent.insertAdjacentHTML("afterbegin",child)}
     </script><style>#catalog_magnet{flex-wrap: wrap;display: flex;width:100%;justify-content:space-between;padding: 10px 10px 0 10px;align-content: flex-start;}.magnet_item{flex-basis: calc(33.333333333333336% - 5px);background: #e9e9e9;margin-bottom: 10px;border-radius: 8px;transition: all 0.2s ease-in-out;}.magnet_item:hover{background: var(--text-bg-hover)}.magnet_link_more{color:#555}.magnet_link{color:black}.magnet_link:hover{color:white}@media screen and (max-width: 600px) {.magnet_item {flex-basis: 100%;}}.magnet_link_context{display:flex;padding: 10px;font-size:16px;transition: all 0.2s ease-in-out;}.magnet_link_context:hover{padding: 10px 20px;}</style>
    <style></style><div class="js-pjax"><script async="async">var arr = document.getElementsByClassName('recent-post-item');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script><script async="async">var arr = document.getElementsByClassName('card-widget');
for(var i = 0;i<arr.length;i++){
    arr[i].classList.add('wow');
    arr[i].classList.add('animate__zoomIn');
    arr[i].setAttribute('data-wow-duration', '2s');
    arr[i].setAttribute('data-wow-delay', '200ms');
    arr[i].setAttribute('data-wow-offset', '30');
    arr[i].setAttribute('data-wow-iteration', '1');
  }</script></div><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow.min.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-wowjs/lib/wow_init.js"></script><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/26494.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/D5bB596d66E33614A6406961348740cE.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-16</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/26494.html&quot;);" href="javascript:void(0);" alt="">从零开始学手游外挂</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/26494.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2d57d79b.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/3l/wallhaven-3l5d36.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2d57d79b.html&quot;);" href="javascript:void(0);" alt="">MYSQL数据库</a><div class="blog-slider__text">懂的都懂</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2d57d79b.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/54150.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/x6/wallhaven-x6jvdl.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-03-23</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/54150.html&quot;);" href="javascript:void(0);" alt="">算法合集</a><div class="blog-slider__text">🥧内含多达70种算法，后续会补充案例</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/54150.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/62324.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://imgo.68h5.com/6h/img2020/6/8/20/2020060806585602.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-15</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/62324.html&quot;);" href="javascript:void(0);" alt="">c语言项目</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/62324.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/3895.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/DD1dec9A0198314383c5f6F5D7Cc6676.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-06</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/3895.html&quot;);" href="javascript:void(0);" alt="">从零开始的blender教程</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/3895.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/41926.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/FE485Fed50273154B8253b02099BAC95.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-14</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/41926.html&quot;);" href="javascript:void(0);" alt="">windows命令行与批处理基础</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/41926.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/22062.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/822dBF1363523c8a8dbeF0f91db71Ae0.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/22062.html&quot;);" href="javascript:void(0);" alt="">6 款贼好用的油猴脚本</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/22062.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/23040.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/647553239ED3397e91eee03609Bba112.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-06-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/23040.html&quot;);" href="javascript:void(0);" alt="">基于 PotPlayer 和 madVR 的播放器的设置教程和方法</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/23040.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/24281.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/4297De6e630538DF9D1327F0e02F08c7.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-12</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/24281.html&quot;);" href="javascript:void(0);" alt="">自制云游戏服务器!月光Moonlight使用教程,使用串流技术将电脑游戏搬运到手机上游玩!(带外网无卡顿串流技术)</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/24281.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2928.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://file.dujin.org/image/yuanshen/466f79e8ly1gzoedikysuj21tm1ioqit.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2928.html&quot;);" href="javascript:void(0);" alt="">alist+raildrive+emby打造家庭影院</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2928.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/65105.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://w.wallhaven.cc/full/7p/wallhaven-7ppp33.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/65105.html&quot;);" href="javascript:void(0);" alt="">ChatGPT</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/65105.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/34592.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://file.dujin.org/image/yuanshen/466f79e8ly1gzoecifvvuj21xc1llh70.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-11</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/34592.html&quot;);" href="javascript:void(0);" alt="">游戏playnite</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/34592.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/28254.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://wallpapercave.com/wp/wp11267290.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-10</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/28254.html&quot;);" href="javascript:void(0);" alt="">关于视频码率的一些问题</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/28254.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/35796.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://www.horosama.com/api/image_all/anime/1080p/pc/C6c96684a65C3fB7afE02F20e2A6ff97.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-12-13</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/35796.html&quot;);" href="javascript:void(0);" alt="">节点搭建系列</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/35796.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/28738.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img9999.wchunge.cn/i/2022/11/30/w4zx6u.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-29</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/28738.html&quot;);" href="javascript:void(0);" alt="">Markdown书写语法</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/28738.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/30613.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img9999.wchunge.cn/i/2022/11/30/w4zefq.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-28</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/30613.html&quot;);" href="javascript:void(0);" alt="">作为一个理工男我觉得这太酷了</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/30613.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/26478.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img9999.wchunge.cn/i/2022/11/24/h4wbvc.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-18</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/26478.html&quot;);" href="javascript:void(0);" alt="">你的素质很差</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/26478.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://source.fomal.cc/img/default_cover_14.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-08-09</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">Markdown语法与外挂标签写法汇总</a><div class="blog-slider__text">🥧本文汇总Markdown格式以及外挂标签在网页端的渲染效果，可作为文档进行查询</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/2013454d.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/33580.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img9999.wchunge.cn/i/2022/11/24/h2ot24.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2022-11-19</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/33580.html&quot;);" href="javascript:void(0);" alt="">有待解决的错误</a><div class="blog-slider__text">再怎么看我也不知道怎么描述它的啦！</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/33580.html&quot;);" href="javascript:void(0);" alt="">详情       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('已挂载butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('gitZone');
      var item_html = '<div class="recent-post-item" id="gitcalendarBar" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 320px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('已挂载gitcalendar')
      }

    if( document.getElementById('gitZone') && (location.pathname ==='/site/census/'|| '/site/census/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("/api?null",['#d9e0df', '#c6e0dc', '#a8dcd4', '#9adcd2', '#89ded1', '#77e0d0', '#5fdecb', '#47dcc6', '#39dcc3', '#1fdabe', '#00dab9'],'null')
    }
  </script><!-- hexo injector body_end end --></body></html>